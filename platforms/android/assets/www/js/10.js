webpackJsonp([10],{"0MAj":function(t,e,n){e=t.exports=n("FZ+f")(!1),e.push([t.i,'\n.base-wrap{padding:0 2.667vw;content:"viewport-units-buggyfill; padding: 0 2.667vw"\n}\n.base-wrap .item{position:relative\n}\n.base-wrap .item .img-item{width:100%;height:80vw;margin:4vw 0;content:"viewport-units-buggyfill; height: 80vw; margin: 4vw 0"\n}\n.base-wrap .item .badge{position:absolute;left:0;top:7.467vw;content:"viewport-units-buggyfill; top: 7.467vw"\n}',""])},D7p0:function(t,e,n){"use strict";function i(t){x||n("LuSe")}function s(t){j||n("YgCV")}function a(t){E||n("k0cq")}function o(t){Q||n("QUlN")}Object.defineProperty(e,"__esModule",{value:!0});var r=n("Xxa5"),c=n.n(r),l=n("exGp"),u=n.n(l),f=n("aALv"),p=n("+PoZ"),d=(f.a,{name:"infoLogistics",components:{contentItem:f.a},data:function(){return{list:[],pageNum:0,flag:!1}},created:function(){},methods:{setRead:function(){Object(p.h)({userId:this.$store.getters.userInfo.id,messageType:"TRADE"}).then(function(t){console.log(t.data,"设置已读")})},refresh:function(t){t(!0),this.pageNum=1,this.getList(t)},infinite:function(t){var e=this;return u()(c.a.mark(function n(){return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.pageNum++,n.next=3,e.getList(t);case 3:e.flag||(e.setRead(),e.flag=!0);case 4:case"end":return n.stop()}},n,e)}))()},getList:function(t){var e=this;return u()(c.a.mark(function n(){var i;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i={userId:e.$store.getters.userInfo.id,messageType:"TRADE",pageNum:e.pageNum,pageSize:9},n.next=3,Object(p.b)(i).then(function(n){if(console.log(n.data,"TRADE"),0==n.code){if(0==n.data.imMessages.length)return 1===e.pageNum&&(e.list=[]),void t(!0);e.list=1===e.pageNum?n.data.imMessages:e.list.concat(n.data.imMessages),t()}});case 3:case"end":return n.stop()}},n,e)}))()}}}),g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("scroller",{ref:"hot",attrs:{noDataText:"好货扭起来","on-refresh":t.refresh,"on-infinite":t.infinite}},[n("div",{staticClass:"info-logistics"},t._l(t.list,function(t,e){return n("content-item",{key:e,attrs:{info:t}})}))])},m=[];g._withStripped=!0;var v={render:g,staticRenderFns:m},h=v,x=!1,w=n("VU/8"),b=i,y=w(d,h,!1,b,null,null);y.options.__file="src/views/info/logistics.vue";var k=y.exports,T=(f.a,{name:"infoLogistics",components:{contentItem:f.a},data:function(){return{list:[],pageNum:0,flag:!1}},created:function(){},methods:{setRead:function(){Object(p.h)({userId:this.$store.getters.userInfo.id,messageType:"NOTICE"}).then(function(t){console.log(t.data,"设置已读")})},refresh:function(t){t(!0),this.pageNum=1,this.getList(t)},infinite:function(t){var e=this;return u()(c.a.mark(function n(){return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.pageNum++,n.next=3,e.getList(t);case 3:e.flag||(e.setRead(),e.flag=!0);case 4:case"end":return n.stop()}},n,e)}))()},getList:function(t){var e=this;return u()(c.a.mark(function n(){var i;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i={userId:e.$store.getters.userInfo.id,messageType:"NOTICE",pageNum:e.pageNum,pageSize:9},n.next=3,Object(p.b)(i).then(function(n){if(console.log(n.data,"NOTICE"),0==n.code){if(0==n.data.imMessages.length)return 1===e.pageNum&&(e.list=[]),void t(!0);e.list=1===e.pageNum?n.data.imMessages:e.list.concat(n.data.imMessages),t()}});case 3:case"end":return n.stop()}},n,e)}))()}}}),_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("scroller",{ref:"hot",attrs:{noDataText:"好货扭起来","on-refresh":t.refresh,"on-infinite":t.infinite}},[n("div",{staticClass:"info-logistics"},t._l(t.list,function(t,e){return n("content-item",{key:e,attrs:{info:t}})}))])},I=[];_._withStripped=!0;var N={render:_,staticRenderFns:I},C=N,j=!1,R=n("VU/8"),L=s,O=R(T,C,!1,L,null,null);O.options.__file="src/views/info/notice.vue";var $=O.exports,M=(f.a,{name:"infoLogistics",components:{contentItem:f.a},data:function(){return{list:[],pageNum:0,flag:!1}},created:function(){},methods:{goTo:function(t){t.hasRead=!0,Object(p.i)({uniqueFlag:t.uniqueFlag}).then(function(t){console.log(t.data,"设置单个消息已读")}),"BRAND"==t.redirectType?this.$router.push("/brandDetail?brandId="+t.redirectReferId):this.$router.push("/activityDetail?activityId="+t.redirectReferId+"&type="+this.checkTime(t))},checkTime:function(t){return 1*t.remark.split(",")[0]>(new Date).getTime()?1:0},setRead:function(){Object(p.h)({userId:this.$store.getters.userInfo.id,messageType:"ACTIVITY"}).then(function(t){console.log("设置已读")})},refresh:function(t){t(!0),this.pageNum=1,this.getList(t)},infinite:function(t){var e=this;return u()(c.a.mark(function n(){return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.pageNum++,n.next=3,e.getList(t);case 3:e.flag||(e.setRead(),e.flag=!0);case 4:case"end":return n.stop()}},n,e)}))()},getList:function(t){var e=this;return u()(c.a.mark(function n(){var i;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i={userId:e.$store.getters.userInfo.id,messageType:"ACTIVITY",pageNum:e.pageNum,pageSize:9},n.next=3,Object(p.b)(i).then(function(n){if(console.log(n.data,"ACTIVITY"),0==n.code){if(0==n.data.imMessages.length&&(1===e.pageNum&&(e.list=[]),t))return t(!0);e.list=1===e.pageNum?n.data.imMessages:e.list.concat(n.data.imMessages),t&&t()}});case 3:case"end":return n.stop()}},n,e)}))()}}}),A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("scroller",{ref:"hot",attrs:{noDataText:"好货扭起来","on-refresh":t.refresh,"on-infinite":t.infinite}},[n("div",{staticClass:"base-wrap"},t._l(t.list,function(e,i){return n("div",{key:i,staticClass:"item"},[e.hasRead?t._e():n("badge",{staticClass:"badge"}),t._v(" "),n("img",{staticClass:"img-item",attrs:{src:e.picUrl,alt:""},on:{click:function(n){t.goTo(e)}}})],1)}))])},F=[];A._withStripped=!0;var D={render:A,staticRenderFns:F},V=D,E=!1,S=n("VU/8"),U=a,Y=S(M,V,!1,U,null,null);Y.options.__file="src/views/info/activity.vue";var z=Y.exports,Z={name:"infoIndex",components:{logistics:k,notice:$,activity:z},watch:{index:function(t,e){this.infoText[t].num=0}},data:function(){return{selectedText:"交易物流",index:0,infoText:[{name:"交易物流",component:"logistics",num:0},{name:"通知",component:"notice",num:0},{name:"活动",component:"activity",num:0}],curComponent:"logistics"}},created:function(){this.getMsgNum()},methods:{getMsgNum:function(){var t=this;Object(p.c)({userId:this.$store.getters.userInfo.id}).then(function(e){console.log(e.data,"未读消息数量"),t.infoText[1].num=e.data[1],t.infoText[2].num=e.data[2]})},selectTab:function(t){this.selectedText=t.name,this.curComponent=t.component},swiperChange:function(t){this.selectTab(this.infoText[t])}}},q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"info-index custom-body"},[n("div",{staticClass:"navigation"},[n("div",{staticClass:"icon-back back posA",on:{click:function(e){e.stopPropagation(),t.$router.back()}}}),t._v(" "),n("div",{staticClass:"fs16 text"},[t._v("消息中心")]),t._v(" "),n("div",{staticClass:"posA right",on:{click:function(e){t.$router.push("/infoSet")}}},[t._v("消息设置")])]),t._v(" "),n("tab",{staticClass:"tab-bar",attrs:{"scroll-threshold":3,"custom-bar-width":"36px","line-width":2},model:{value:t.index,callback:function(e){t.index=e},expression:"index"}},t._l(t.infoText,function(e,i){return n("tab-item",{key:i,attrs:{selected:t.selectedText==e.name},nativeOn:{click:function(n){t.selectTab(e)}}},[t._v(t._s(e.name)),e.num>0&&i>0?n("badge",{staticClass:"badge",attrs:{text:e.num}}):t._e()],1)})),t._v(" "),n("swiper",{attrs:{"min-moving-distance":150,"show-dots":!1},on:{"on-index-change":t.swiperChange},model:{value:t.index,callback:function(e){t.index=e},expression:"index"}},t._l(t.infoText,function(e,i){return n("swiper-item",{key:i},[i==t.index?n(t.curComponent,{tag:"component"}):t._e()],1)}))],1)},G=[];q._withStripped=!0;var P={render:q,staticRenderFns:G},H=P,Q=!1,B=n("VU/8"),J=o,X=B(Z,H,!1,J,null,null);X.options.__file="src/views/info/index.vue";e.default=X.exports},LuSe:function(t,e,n){var i=n("TrU9");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("7a74d7d7",i,!1,{})},OHnV:function(t,e,n){e=t.exports=n("FZ+f")(!1),e.push([t.i,'\n.nf-scroll-container{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;height:100%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column\n}\n.nf-scroll-container .nf-scroll-view{position:relative;-webkit-box-flex:1;-ms-flex:1;flex:1\n}\n.align-center,.flex{display:-webkit-box;display:-ms-flexbox;display:flex\n}\n.align-center{-webkit-box-align:center;-ms-flex-align:center;align-items:center\n}\n.center,.justify-center{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center\n}\n.center{-webkit-box-align:center;-ms-flex-align:center;align-items:center\n}\n.space-between{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between\n}\n.navigation{height:11.733vw;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:99;padding:0 4.267vw;position:fixed;top:0;left:0;width:100%;background-color:#fff;border-bottom:.5px solid #d9d9d9;content:"viewport-units-buggyfill; height: 11.733vw; padding: 0 4.267vw"\n}\n.navigation .back{position:absolute;left:4.267vw;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);content:"viewport-units-buggyfill; left: 4.267vw"\n}\n.navigation .text{text-align:center;font-size:4.8vw;line-height:11.733vw;content:"viewport-units-buggyfill; font-size: 4.8vw; line-height: 11.733vw"\n}\n.navigation .right{position:absolute;right:4.267vw;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);content:"viewport-units-buggyfill; right: 4.267vw"\n}\n.info-index .vux-slider{height:100%;overflow:auto;padding-top:0!important\n}\n.info-index .vux-slider .vux-swiper{height:100%!important;overflow-y:auto!important\n}\n.info-index .vux-swiper-item>div{height:100%!important\n}\n.info-index .vux-tab-wrap{padding-top:21.333vw!important;content:"viewport-units-buggyfill; padding-top: 21.333vw"\n}\n.info-index .vux-tab-container{top:11.733vw;content:"viewport-units-buggyfill; top: 11.733vw"\n}\n.info-index .badge{margin-left:.8vw;margin-top:-2.667vw;content:"viewport-units-buggyfill; margin-left: 0.8vw; margin-top: -2.667vw"\n}',""])},QUlN:function(t,e,n){var i=n("OHnV");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("1015136a",i,!1,{})},TrU9:function(t,e,n){e=t.exports=n("FZ+f")(!1),e.push([t.i,"",""])},YgCV:function(t,e,n){var i=n("dGcF");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("4744a527",i,!1,{})},dGcF:function(t,e,n){e=t.exports=n("FZ+f")(!1),e.push([t.i,"",""])},k0cq:function(t,e,n){var i=n("0MAj");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("77a6eca9",i,!1,{})}});
//# sourceMappingURL=10.js.map