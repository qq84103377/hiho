webpackJsonp([27],{"/BRf":function(t,s,e){var i=e("XGFM");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e("rjj0")("0329eb68",i,!1,{})},TCdq:function(t,s,e){var i=e("xpBp");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e("rjj0")("12017b46",i,!1,{})},TcZO:function(t,s,e){"use strict";function i(t){l||(e("/BRf"),e("TCdq"))}Object.defineProperty(s,"__esModule",{value:!0});var a=e("63CM"),r=e("5Qen"),n=(a.a,{name:"purchasePriceMag",directives:{TransferDom:a.a},data:function(){return{isEditVisible:!1,delPop:!1,title:"",currerType:"",purchaseCost:null,list:[],row:{}}},methods:{showEdit:function(t,s,e){this.currerType=t,this.row=s,this.purchaseCost=s?s.purchaseCost:"",this.title="add"==t?"新增代购价":"编辑代购价"+(e+1),this.isEditVisible=!0},save:function(){var t=this,s=/^\d+(\.\d{1,2})?$/;if(""==this.purchaseCost)return this.$vux.toast.text("代购价不能为空");if(!s.test(this.purchaseCost))return this.$vux.toast.text("只能输入数字，小数点后只能保留两位");var e="add"==this.currerType?{userPurchaseParams:[{userId:this.$store.getters.userInfo.id,purchaseCost:this.purchaseCost}]}:{userId:this.$store.getters.userInfo.id,editUserPurchaseParams:[{id:this.row.id,purchaseCost:this.purchaseCost}]};"add"==this.currerType?Object(r.a)(e).then(function(s){0===s.code&&(t.getData(),t.isEditVisible=!1,t.$vux.toast.text("操作成功"))}):Object(r.h)(e).then(function(s){0===s.code&&(t.getData(),t.isEditVisible=!1,t.$vux.toast.text("操作成功"))})},del:function(){var t=this,s=[this.row.id];Object(r.f)(s).then(function(s){0===s.code&&(t.getData(),t.isEditVisible=!1,t.$vux.toast.text("操作成功"))})},getData:function(){var t=this,s={userId:this.$store.getters.userInfo.id};Object(r.m)(s).then(function(s){0===s.code&&(t.list=s.data.userPurchaseResponses)})}},created:function(){this.getData()}}),o=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"custom-body purchase-price-mag"},[e("div",{staticClass:"main-content"},[e("div",{staticClass:"tip-bar brown header"},[t._v("最多只能设置6个额外加价(转发商品时现价=销售价+标准代购价+额外加价)")]),t._v(" "),e("group",t._l(t.list,function(s,i){return e("cell",{key:i},[e("span",{attrs:{slot:"title"},slot:"title"},[t._v("加价"+t._s(t.list.length-i))]),t._v(" "),e("div",{on:{click:function(e){t.showEdit("edit",s,i)}}},[e("span",{staticClass:"mgr8 black"},[t._v("￥"+t._s(s.purchaseCost))]),e("i",{staticClass:"iconNH icon-cart-edit mgt4"})])])}))],1),t._v(" "),e("div",{staticClass:"footer"},[e("x-button",{staticClass:"full-btn",attrs:{type:"primary",disabled:t.list.length>=6},nativeOn:{click:function(s){t.showEdit("add")}}},[t._v("+新增")])],1),t._v(" "),e("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}],staticClass:"purchase-price-mag"},[e("confirm",{attrs:{"dialog-transition":"","hide-on-blur":!0,"close-on-confirm":!1},on:{"on-confirm":t.save},model:{value:t.isEditVisible,callback:function(s){t.isEditVisible=s},expression:"isEditVisible"}},[e("div",{staticClass:"posR",attrs:{solt:"title"}},[t._v(t._s(t.title)),"edit"==t.currerType?e("i",{staticClass:"iconNH icon-del title-icon posA",on:{click:t.del}}):t._e()]),t._v(" "),e("div",{attrs:{solt:"content"}},[e("group",[e("x-input",{attrs:{placeholder:"填写代购价格"},model:{value:t.purchaseCost,callback:function(s){t.purchaseCost=s},expression:"purchaseCost"}})],1)],1)])],1)])},c=[];o._withStripped=!0;var u={render:o,staticRenderFns:c},d=u,l=!1,p=e("VU/8"),h=i,v=p(n,d,!1,h,"data-v-579a907d",null);v.options.__file="src/views/mine/purchasePriceMag.vue";s.default=v.exports},XGFM:function(t,s,e){s=t.exports=e("FZ+f")(!1),s.push([t.i,'\n.purchase-price-mag .header[data-v-579a907d]{line-height:1.2;padding:1.333vw 0 1.333vw 2.667vw;content:"viewport-units-buggyfill; padding: 1.333vw 0 1.333vw 2.667vw"\n}\n.purchase-price-mag .mgt4[data-v-579a907d]{margin-top:-.8vw;content:"viewport-units-buggyfill; margin-top: -0.8vw"\n}',""])},xpBp:function(t,s,e){s=t.exports=e("FZ+f")(!1),s.push([t.i,"",""])}});
//# sourceMappingURL=27.js.map