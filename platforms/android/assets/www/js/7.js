webpackJsonp([7],{"4tJw":function(t,e,s){var i=s("GGId");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);s("rjj0")("b8cb408e",i,!1,{})},D3Ih:function(t,e,s){"use strict";function i(t){g||(s("v3nK"),s("yncE"))}function a(t){L||(s("WdpP"),s("4tJw"))}Object.defineProperty(e,"__esModule",{value:!0});var n=s("Xxa5"),r=s.n(n),l=s("exGp"),o=s.n(l),d=s("LWL8"),u={props:["afterSalesListType","afterSalesListSubType","refreshScroller"],data:function(){return{afterSalesList:[],pageNum:0,statusMap:{WAIT_AGREE:"审核中",WAIT_RETUEN_GOODS:"退货中 ",WAIT_RECIVE_GOODS:"退货中",WAIT_REFUND:"退款中",REFUNDING:"退款中",SUCCESS:"已退款",FAIL:"退款失败",CANCEL:"已关闭",REFUSED:"已关闭"}}},methods:{refresh:function(t){t(!0),this.pageNum=1,this.getRefundOrders(t)},infinite:function(t){this.pageNum++,this.getRefundOrders(t)},goSalesDetail:function(t){this.$router.push({path:"/afterSalesDetail",query:{refundOrderId:t}})},getRefundOrders:function(t){var e=this;return o()(r.a.mark(function s(){var i,a;return r.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return i=e.afterSalesListType,"FLOWING"!==e.afterSalesListType&&"CLOSED"!==e.afterSalesListType||""==e.afterSalesListSubType||(i=e.afterSalesListSubType),a={statusFilter:i,userId:e.$store.getters.userInfo.id,pageSize:10,pageNum:e.pageNum},s.next=5,Object(d.d)(a).then(function(s){if(0===s.code){if(0==s.data.refundOrders.length)return 1===e.pageNum&&(e.afterSalesList=[]),void(t&&t(!0));e.afterSalesList=1===e.pageNum?s.data.refundOrders:e.afterSalesList.concat(s.data.refundOrders),console.log(e.afterSalesList,"this.afterSalesList"),t&&t(),console.log(e.afterSalesListType+"售后单第"+e.pageNum+"页"),console.log(e.afterSalesList.length,s.data.totalCount)}});case 5:case"end":return s.stop()}},s,e)}))()}},activated:function(){this.pageNum=1,this.getRefundOrders()},created:function(){},watch:{afterSalesListSubType:function(t){this.$refs["afterSalesListScroller"+this.afterSalesListType].triggerPullToRefresh()}}},f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("scroller",{ref:"afterSalesListScroller"+t.afterSalesListType,attrs:{noDataText:"好货扭起来","on-refresh":t.refresh,"on-infinite":t.infinite}},t._l(t.afterSalesList,function(e,i){return s("group",{key:i},[s("cell",{attrs:{"border-intent":!1}},[s("div",{staticClass:"fs16",attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.brandName))]),t._v(" "),s("img",{staticClass:"brand-logo red",attrs:{slot:"icon",src:e.brandPicPath},slot:"icon"}),t._v(" "),s("div",{staticClass:"fs14"},["WAIT_AGREE"==e.refundStatus?s("span",{staticClass:"red"},[t._v(t._s(t.statusMap[e.refundStatus]))]):"WAIT_RETUEN_GOODS"==e.refundStatus||"WAIT_RECIVE_GOODS"==e.refundStatus||"WAIT_REFUND"==e.refundStatus||"REFUNDING"==e.refundStatus?s("span",{staticClass:"black"},[t._v(t._s(t.statusMap[e.refundStatus]))]):"CANCEL"==e.refundStatus||"REFUSED"==e.refundStatus?s("div",[s("div",{staticClass:"light-gray"},[t._v("已关闭")]),t._v(" "),s("div",{staticClass:"blue-gray"},[t._v(t._s("CANCEL"===e.refundStatus?"用户取消":"平台拒绝"))])]):s("span",[t._v(t._s(t.statusMap[e.refundStatus]))])])]),t._v(" "),s("cell",{attrs:{"border-intent":!1},nativeOn:{click:function(s){t.goSalesDetail(e.refundOrderId)}}},[s("div",{staticClass:"img  cover-bg-img",style:{backgroundImage:"url("+e.goodsPic+")"},attrs:{slot:"icon"},slot:"icon"}),t._v(" "),s("div",{attrs:{slot:"title"},slot:"title"},[s("div",{staticClass:"fs14 pdb4"},[t._v(t._s(e.goodsName))]),t._v(" "),s("div",{staticClass:"fs12 light-gray pdb4"},[t._v("款式 "+t._s(e.goodsStyle))]),t._v(" "),s("div",{staticClass:"fs12 light-gray pdb4"},[t._v("款号 "+t._s(e.goodsStyleNo))]),t._v(" "),s("div",{staticClass:"fs12 light-gray "},[t._v(t._s(e.goodsSpecName))])])]),t._v(" "),s("cell",{attrs:{"border-intent":!1}},[s("div",{staticClass:"fs14 light-gray",attrs:{slot:"title"},slot:"title"},[t._v(t._s("MONEY_ONLY"==e.refundType?"仅退款":"退货退款")+":￥"+t._s(e.refundAmount)+"\n            ")]),t._v(" "),s("div",{staticClass:"fs14 light-gray"},[t._v("退款单:"+t._s(e.refundOrderNum))])])],1)}))},c=[];f._withStripped=!0;var p={render:f,staticRenderFns:c},v=p,g=!1,h=s("VU/8"),w=i,b=h(u,v,!1,w,"data-v-324c0b8c",null);b.options.__file="src/views/mine/afterSales/components/afterSalesList.vue";var y=b.exports,x={name:"afterSalesIndex",data:function(){return{index:0,queryType:"",querySubType:"",curIndex:0,curIndex1:0,salesData:[{label:"全部",status:""},{label:"待审核",status:"WAIT_AGREE"},{label:"退款中",status:"FLOWING",subStatus:""},{label:"已退款",status:"SUCCESS"},{label:"已关闭",status:"CLOSED",subStatus:""}],followList:[{name:"全部",status:""},{name:"退款中",status:"REFUNDING"},{name:"退货中",status:"RETURNING"}],closeList:[{name:"全部",status:""},{name:"已取消",status:"CANCEL"},{name:"被拒绝",status:"REFUSED"}]}},methods:{followFilter:function(t){this.curIndex=t,this.querySubType=this.followList[t].status,this.$set(this.salesData[2],"subStatus",this.querySubType),this.$store.commit("setAfterSalesListSubType",this.querySubType)},closedFilter:function(t){this.querySubType=this.closeList[t].status,this.curIndex1=t,this.$set(this.salesData[4],"subStatus",this.querySubType),this.$store.commit("setAfterSalesListSubType",this.querySubType)},tabClick:function(t){this.queryType=t,this.$store.commit("setAfterSalesListType",this.queryType)},swiperChange:function(t){this.queryType=this.salesData[t].status,this.$store.commit("setAfterSalesListType",this.queryType)}},created:function(){this.queryType=this.$store.getters.afterSalesListType,this.querySubType=this.$store.getters.afterSalesListSubType,"FLOWING"===this.queryType&&this.$set(this.salesData[2],"subStatus",this.querySubType),"CLOSED"===this.queryType&&this.$set(this.salesData[4],"subStatus",this.querySubType)},components:{"after-sales-list":y}},S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"after-sales-index posR"},[s("tab",{attrs:{"custom-bar-width":"36px","line-width":2,"scroll-threshold":5},model:{value:t.index,callback:function(e){t.index=e},expression:"index"}},t._l(t.salesData,function(e,i){return s("tab-item",{key:i,staticClass:"vux-center",attrs:{selected:t.queryType==e.status},on:{"on-item-click":function(s){t.tabClick(e.status)}}},[t._v("\n            "+t._s(e.label)+"\n        ")])})),t._v(" "),"FLOWING"==t.queryType||"CLOSED"==t.queryType?s("div",{staticClass:"tab posA white-bg fs12 light-gray"},["FLOWING"==t.queryType?s("div",t._l(t.followList,function(e,i){return s("span",{key:i,class:{black:t.curIndex==i},on:{click:function(e){e.stopPropagation(),t.followFilter(i)}}},[t._v(t._s(e.name))])})):s("div",t._l(t.closeList,function(e,i){return s("span",{key:i,class:{black:t.curIndex1==i},on:{click:function(e){e.stopPropagation(),t.closedFilter(i)}}},[t._v(t._s(e.name))])}))]):t._e(),t._v(" "),s("swiper",{class:["FLOWING"==t.queryType||"CLOSED"==t.queryType?"pd72":"pd36"],attrs:{"min-moving-distance":100,"show-dots":!1},on:{"on-index-change":t.swiperChange},model:{value:t.index,callback:function(e){t.index=e},expression:"index"}},t._l(t.salesData,function(t,e){return s("swiper-item",{key:e},[s("after-sales-list",{attrs:{afterSalesListType:t.status,afterSalesListSubType:t.subStatus}})],1)}))],1)},m=[];S._withStripped=!0;var _={render:S,staticRenderFns:m},T=_,L=!1,C=s("VU/8"),E=a,N=C(x,T,!1,E,"data-v-3315b7a5",null);N.options.__file="src/views/mine/afterSales/index.vue";e.default=N.exports},GGId:function(t,e,s){e=t.exports=s("FZ+f")(!1),e.push([t.i,'\n.after-sales-index .pd36[data-v-3315b7a5]{padding-top:9.6vw!important;content:"viewport-units-buggyfill; padding-top: 9.6vw"\n}\n.after-sales-index .pd72[data-v-3315b7a5]{padding-top:19.2vw!important;content:"viewport-units-buggyfill; padding-top: 19.2vw"\n}\n.after-sales-index .tab[data-v-3315b7a5]{position:fixed;top:9.6vw;width:100%;z-index:999;height:9.6vw;padding:0 26.667vw;line-height:9.6vw;border-bottom:1px solid #d9d9d9;content:"viewport-units-buggyfill; top: 9.6vw; height: 9.6vw; padding: 0 26.667vw; line-height: 9.6vw"\n}\n.after-sales-index .tab div[data-v-3315b7a5]{display:-webkit-box;display:-ms-flexbox;display:flex\n}\n.after-sales-index .tab div span[data-v-3315b7a5]{-webkit-box-flex:1;-ms-flex:1;flex:1;text-align:center\n}\n.after-sales-index .brand-logo[data-v-3315b7a5]{display:block;width:6.4vw;height:6.4vw;margin-right:2.667vw;content:"viewport-units-buggyfill; width: 6.4vw; height: 6.4vw; margin-right: 2.667vw"\n}\n.after-sales-index [w-345-64][data-v-3315b7a5]{width:92vw;content:"viewport-units-buggyfill; width: 92vw"\n}\n.after-sales-index [w-345-64][data-v-3315b7a5]:before{padding-top:18.55072463768116%\n}\n.after-sales-index .img[data-v-3315b7a5]{width:21.867vw;height:21.867vw;margin-right:2.667vw;display:inline-block;content:"viewport-units-buggyfill; width: 21.867vw; height: 21.867vw; margin-right: 2.667vw"\n}\n.after-sales-index .img img[data-v-3315b7a5]{height:100%;width:100%\n}\n.after-sales-index .h39[data-v-3315b7a5]{height:10.4vw;content:"viewport-units-buggyfill; height: 10.4vw"\n}\n.after-sales-index .h20[data-v-3315b7a5]{height:5.333vw;content:"viewport-units-buggyfill; height: 5.333vw"\n}',""])},LWL8:function(t,e,s){"use strict";s.d(e,"d",function(){return a}),s.d(e,"e",function(){return n}),s.d(e,"f",function(){return r}),s.d(e,"a",function(){return l}),s.d(e,"c",function(){return o}),s.d(e,"b",function(){return d});var i=s("zFqy"),a=function(t){return i.a.post("/web/h5/refund/getRefundOrdersH5",t)},n=function(t){return i.a.get("/web/h5/refund/getRefundDetailH5",{params:t})},r=function(t){return i.a.get("/web/h5/refund/userCancelH5",{params:t})},l=function(){return i.a.get("/web/h5/logistics/getCompanyNamesH5")},o=function(t){return i.a.post("/web/h5/refund/editRefundOrderH5",t)},d=function(t){return i.a.post("/web/h5/refund/editLogisticsH5",t)}},WdpP:function(t,e,s){var i=s("vlA0");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);s("rjj0")("4b54de5b",i,!1,{})},sNZM:function(t,e,s){e=t.exports=s("FZ+f")(!1),e.push([t.i,'\n.after-sales-index .weui-cells{margin-top:2.133vw!important;content:"viewport-units-buggyfill; margin-top: 2.133vw"\n}\n.after-sales-index .weui-btn_mini{width:21.867vw!important;content:"viewport-units-buggyfill; width: 21.867vw"\n}\n.after-sales-index .vux-tab-wrap{position:fixed;top:12.267vw;left:0;z-index:2;width:100vw;content:"viewport-units-buggyfill; top: 12.267vw; width: 100vw"\n}\n.after-sales-index .vux-slider{height:100%;padding-bottom:2.133vw;overflow:auto;content:"viewport-units-buggyfill; padding-bottom: 2.133vw"\n}\n.after-sales-index .vux-slider .vux-swiper{height:100%!important;overflow-y:auto!important\n}',""])},v3nK:function(t,e,s){var i=s("sNZM");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);s("rjj0")("d2976538",i,!1,{})},vlA0:function(t,e,s){e=t.exports=s("FZ+f")(!1),e.push([t.i,'\n.after-sales-index .weui-cells{margin-top:2.133vw!important;content:"viewport-units-buggyfill; margin-top: 2.133vw"\n}\n.after-sales-index .weui-btn_mini{width:21.867vw!important;content:"viewport-units-buggyfill; width: 21.867vw"\n}\n.after-sales-index .vux-tab-wrap{position:fixed;top:12.267vw;left:0;z-index:2;width:100vw;content:"viewport-units-buggyfill; top: 12.267vw; width: 100vw"\n}\n.after-sales-index .vux-slider{height:100%;padding-bottom:2.133vw;overflow:auto;content:"viewport-units-buggyfill; padding-bottom: 2.133vw"\n}\n.after-sales-index .vux-slider .vux-swiper{height:100%!important;overflow-y:auto!important\n}',""])},yST1:function(t,e,s){e=t.exports=s("FZ+f")(!1),e.push([t.i,'\n.after-sales-index .pd36[data-v-324c0b8c]{padding-top:9.6vw!important;content:"viewport-units-buggyfill; padding-top: 9.6vw"\n}\n.after-sales-index .pd72[data-v-324c0b8c]{padding-top:19.2vw!important;content:"viewport-units-buggyfill; padding-top: 19.2vw"\n}\n.after-sales-index .tab[data-v-324c0b8c]{position:fixed;top:9.6vw;width:100%;z-index:999;height:9.6vw;padding:0 26.667vw;line-height:9.6vw;border-bottom:1px solid #d9d9d9;content:"viewport-units-buggyfill; top: 9.6vw; height: 9.6vw; padding: 0 26.667vw; line-height: 9.6vw"\n}\n.after-sales-index .tab div[data-v-324c0b8c]{display:-webkit-box;display:-ms-flexbox;display:flex\n}\n.after-sales-index .tab div span[data-v-324c0b8c]{-webkit-box-flex:1;-ms-flex:1;flex:1;text-align:center\n}\n.after-sales-index .brand-logo[data-v-324c0b8c]{display:block;width:6.4vw;height:6.4vw;margin-right:2.667vw;content:"viewport-units-buggyfill; width: 6.4vw; height: 6.4vw; margin-right: 2.667vw"\n}\n.after-sales-index [w-345-64][data-v-324c0b8c]{width:92vw;content:"viewport-units-buggyfill; width: 92vw"\n}\n.after-sales-index [w-345-64][data-v-324c0b8c]:before{padding-top:18.55072463768116%\n}\n.after-sales-index .img[data-v-324c0b8c]{width:21.867vw;height:21.867vw;margin-right:2.667vw;display:inline-block;content:"viewport-units-buggyfill; width: 21.867vw; height: 21.867vw; margin-right: 2.667vw"\n}\n.after-sales-index .img img[data-v-324c0b8c]{height:100%;width:100%\n}\n.after-sales-index .h39[data-v-324c0b8c]{height:10.4vw;content:"viewport-units-buggyfill; height: 10.4vw"\n}\n.after-sales-index .h20[data-v-324c0b8c]{height:5.333vw;content:"viewport-units-buggyfill; height: 5.333vw"\n}',""])},yncE:function(t,e,s){var i=s("yST1");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);s("rjj0")("5350a264",i,!1,{})}});
//# sourceMappingURL=7.js.map