webpackJsonp([4],{"4nog":function(t,e,i){var n=i("gTfp");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("rjj0")("53f8fb4e",n,!1,{})},"7U9V":function(t,e,i){e=t.exports=i("FZ+f")(!1),e.push([t.i,"",""])},Gtr7:function(t,e,i){var n=i("o2W/");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("rjj0")("2c038934",n,!1,{})},Mv7f:function(t,e,i){var n=i("7U9V");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("rjj0")("1ac2f7ee",n,!1,{})},gTfp:function(t,e,i){e=t.exports=i("FZ+f")(!1),e.push([t.i,"\n.tab-bar[data-v-99941528]{width:100%\n}\n.detail-item[data-v-99941528]{width:100%;height:100%;position:absolute;-webkit-transition:all .3s ease;transition:all .3s ease;-webkit-transform:translateX(-100%);transform:translateX(-100%)\n}\n.detail-item.active[data-v-99941528]{-webkit-transform:translateX(0);transform:translateX(0)\n}\n.bold[data-v-99941528]{font-weight:550\n}",""])},"o2W/":function(t,e,i){e=t.exports=i("FZ+f")(!1),e.push([t.i,"",""])},oI36:function(t,e,i){e=t.exports=i("FZ+f")(!1),e.push([t.i,"",""])},qpB8:function(t,e,i){var n=i("oI36");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("rjj0")("22dc2804",n,!1,{})},r4j3:function(t,e,i){e=t.exports=i("FZ+f")(!1),e.push([t.i,'\n.activity-index .vux-tab-wrap{height:9.6vw!important;padding-top:0!important;content:"viewport-units-buggyfill; height: 9.6vw"\n}\n.activity-index .vux-slider{height:100%;overflow:auto;padding-top:11.733vw;content:"viewport-units-buggyfill; padding-top: 11.733vw"\n}\n.activity-index .vux-slider .vux-swiper{height:100%!important;overflow-y:auto!important\n}\n.activity-index .vux-swiper-item>div{height:100%!important\n}\n.activity-index .weui-btn.has-radius{border-radius:.8vw!important;content:"viewport-units-buggyfill; border-radius: 0.8vw"\n}',""])},sZNU:function(t,e,i){"use strict";function n(t){m||i("qpB8")}function s(t){$||i("Mv7f")}function a(t){V||i("Gtr7")}function r(t){B||(i("ymFE"),i("4nog"))}Object.defineProperty(e,"__esModule",{value:!0});var o=i("Xxa5"),c=i.n(o),u=i("exGp"),v=i.n(u),d=i("Ty/O"),l={name:"hot",data:function(){return{goodsList:[],pageNum:0}},methods:{refresh:function(t){t(!0),this.pageNum=1,this.getGoodsList(t)},infinite:function(t){this.pageNum++,this.getGoodsList(t)},getGoodsList:function(t){var e=this;return v()(c.a.mark(function i(){var n;return c.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n={userId:e.$store.getters.userInfo.id,pageSize:10,pageNum:e.pageNum,noticeFlag:0},i.next=3,Object(d.d)(n).then(function(i){if(0===i.code){if(0==i.data.goods.length)return 1===e.pageNum&&(e.goodsList=[]),void t(!0);e.goodsList=1===e.pageNum?i.data.goods:e.goodsList.concat(i.data.goods),t(),console.log("爆款第"+e.pageNum+"页"),console.log(e.goodsList.length,i.data.totalCount)}});case 3:case"end":return i.stop()}},i,e)}))()}},created:function(){}},f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("scroller",{ref:"hot",attrs:{noDataText:"好货扭起来","on-refresh":t.refresh,"on-infinite":t.infinite}},[i("div",t._l(t.goodsList,function(e,n){return i("activity-item",{key:n,attrs:{type:"GOODS",activityInfo:e}},[i("div",{staticClass:"price",attrs:{slot:"price"},slot:"price"},[i("div",{staticClass:"sale-price red"},[t._v("¥"+t._s(e.salePrice)+"\n                    "),e.postedPrice?i("s",{staticClass:"blue-gray fs12"},[t._v("¥"+t._s(e.postedPrice))]):t._e()]),t._v(" "),i("div",{staticClass:"black fs12"},[t._v("默认代购费:"),i("span",{staticClass:"red fs18"},[t._v("¥"+t._s(e.purchaseCost))])])]),t._v(" "),i("div",{attrs:{slot:"shopcar"},slot:"shopcar"},[i("add-shopcar",{attrs:{checkList:e.specs,goodsId:e.id}})],1),t._v(" "),i("span",{attrs:{slot:"btn"},slot:"btn"},[i("x-button",{staticClass:"w82 has-radius",attrs:{mini:"",type:"primary"},nativeOn:{click:function(i){t.$router.push({path:"/activityTransmit",query:{type:1,info:e}})}}},[t._v("\n                转发\n                ")])],1)])}))])},p=[];f._withStripped=!0;var h={render:f,staticRenderFns:p},g=h,m=!1,w=i("VU/8"),y=n,x=w(l,g,!1,y,"data-v-4a2d11aa",null);x.options.__file="src/views/activity/components/hot.vue";var b=x.exports,_={name:"live",data:function(){return{activities:[],pageNum:0}},methods:{refresh:function(t){var e=this;return v()(c.a.mark(function i(){return c.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t(!0),e.pageNum=1,i.next=4,e.getActivityList(t);case 4:case"end":return i.stop()}},i,e)}))()},infinite:function(t){var e=this;return v()(c.a.mark(function i(){return c.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return e.pageNum++,i.next=3,e.getActivityList(t);case 3:case"end":return i.stop()}},i,e)}))()},getActivityList:function(t){var e=this;return v()(c.a.mark(function i(){var n;return c.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n={userId:e.$store.getters.userInfo.id,pageSize:10,pageNum:e.pageNum,status:"onGoing"},i.next=3,Object(d.c)(n).then(function(i){if(0===i.code){if(0==i.data.activities.length)return void t(!0);e.activities=1===e.pageNum?i.data.activities:e.activities.concat(i.data.activities),t(),console.log("直播第"+e.pageNum+"页"),console.log(e.activities.length,i.data.totalCount)}});case 3:case"end":return i.stop()}},i,e)}))()},clockerEnd:function(t){this.activities.splice(t,1)}},created:function(){}},T=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("scroller",{ref:"live",attrs:{noDataText:"好货扭起来","on-refresh":t.refresh,"on-infinite":t.infinite}},[i("div",t._l(t.activities,function(e,n){return i("activity-item",{key:n,attrs:{type:"ACTIVITY",activityInfo:e}},[i("div",{attrs:{slot:"badge"},slot:"badge"},[i("div",{staticClass:"badge1 gradient-gold brown"},[t._v(t._s(e.name))]),t._v(" "),i("div",{staticClass:"badge2"},[t._v("热卖中")])]),t._v(" "),i("div",{attrs:{slot:"countdown"},slot:"countdown"},[i("count-time",{attrs:{type:0,time:e.endTime},on:{clockerEnd:function(e){t.clockerEnd(n)}}})],1),t._v(" "),i("span",{attrs:{slot:"btn"},slot:"btn"},[i("x-button",{staticClass:"w82 has-radius",attrs:{mini:"",plain:"",type:"default"},nativeOn:{click:function(i){t.$router.push({path:"/activityDetail",query:{activityId:e.id,type:0}})}}},[t._v("抢购")]),t._v(" "),i("x-button",{staticClass:" has-radius",attrs:{mini:"",type:"primary"},nativeOn:{click:function(i){t.$router.push({path:"/transmitList",query:{id:e.id,type:"ACTIVITY"}})}}},[t._v("\n                批量转发\n            ")])],1)])}))])},k=[];T._withStripped=!0;var C={render:T,staticRenderFns:k},N=C,$=!1,I=i("VU/8"),L=s,j=I(_,N,!1,L,"data-v-63e47cdf",null);j.options.__file="src/views/activity/components/live.vue";var O=j.exports,S={name:"preview",data:function(){return{activities:[],pageNum:0}},methods:{refresh:function(t){var e=this;return v()(c.a.mark(function i(){return c.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t(!0),e.pageNum=1,i.next=4,e.getActivityList(t);case 4:case"end":return i.stop()}},i,e)}))()},infinite:function(t){var e=this;return v()(c.a.mark(function i(){return c.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return e.pageNum++,i.next=3,e.getActivityList(t);case 3:case"end":return i.stop()}},i,e)}))()},getActivityList:function(t){var e=this;return v()(c.a.mark(function i(){var n;return c.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n={userId:e.$store.getters.userInfo.id,pageSize:10,pageNum:e.pageNum,status:"notStart"},i.next=3,Object(d.c)(n).then(function(i){if(0===i.code){if(0==i.data.activities.length)return 1===e.pageNum&&(e.activities=[]),void t(!0);e.activities=1===e.pageNum?i.data.activities:e.activities.concat(i.data.activities),t(),console.log("预告第"+e.pageNum+"页"),console.log(e.activities.length,i.data.totalCount)}});case 3:case"end":return i.stop()}},i,e)}))()},clockerEnd:function(t){this.activities.splice(t,1)}},created:function(){}},P=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("scroller",{ref:"preview",attrs:{noDataText:"好货扭起来","on-refresh":t.refresh,"on-infinite":t.infinite}},[i("div",t._l(t.activities,function(e,n){return i("activity-item",{key:n,attrs:{type:"ACTIVITY",activityInfo:e}},[i("div",{attrs:{slot:"badge"},slot:"badge"},[i("div",{staticClass:"badge1 gradient-gold brown"},[t._v(t._s(e.name))]),t._v(" "),i("div",{staticClass:"badge2 preview"},[t._v("活动预告")])]),t._v(" "),i("div",{attrs:{slot:"countdown"},slot:"countdown"},[i("count-time",{attrs:{type:1,time:e.startTime},on:{clockerEnd:function(e){t.clockerEnd(n)}}})],1),t._v(" "),i("span",{attrs:{slot:"btn"},slot:"btn"},[i("x-button",{staticClass:"w82 has-radius",attrs:{mini:"",plain:"",type:"default"},nativeOn:{click:function(i){t.$router.push({path:"/activityDetail",query:{activityId:e.id,type:1}})}}},[t._v("详情")]),t._v(" "),i("x-button",{staticClass:" has-radius",attrs:{mini:"",type:"primary"},nativeOn:{click:function(i){t.$router.push({path:"/transmitList",query:{id:e.id,type:"ACTIVITY"}})}}},[t._v("\n        批量转发\n    ")])],1)])}))])},E=[];P._withStripped=!0;var F={render:P,staticRenderFns:E},A=F,V=!1,G=i("VU/8"),q=a,D=G(S,A,!1,q,"data-v-b3fbfdb6",null);D.options.__file="src/views/activity/components/preview.vue";var U=D.exports,R=i("AExY"),Z=i("63CM"),X=(Z.a,{directives:{TransferDom:Z.a},name:"activityIndex",data:function(){return{index:0,selectedText:"直播",activityText:["直播","预告","爆款"]}},methods:{selectTab:function(t){this.selectedText=t},swiperChange:function(t){this.selectTab(this.activityText[t])}},created:function(){},components:{hot:b,live:O,preview:U},beforeRouteLeave:function(t,e,i){sessionStorage.livePosition=Object(R.a)(this.$refs.live.$refs.live),sessionStorage.hotPosition=Object(R.a)(this.$refs.hot.$refs.hot),sessionStorage.previewPosition=Object(R.a)(this.$refs.preview.$refs.preview),"直播"==this.selectedText?(e.meta.isLive=!0,e.meta.isHot=!1,e.meta.isPreview=!1):"预告"==this.selectedText?(e.meta.isLive=!1,e.meta.isHot=!1,e.meta.isPreview=!0):"爆款"==this.selectedText&&(e.meta.isLive=!1,e.meta.isHot=!0,e.meta.isPreview=!1),i()},beforeRouteEnter:function(t,e,i){t.meta.isLive?sessionStorage.livePosition&&i(function(t){Object(R.b)(sessionStorage.livePosition,t,t.$refs.live.$refs.live)}):t.meta.isPreview?sessionStorage.previewPosition&&i(function(t){Object(R.b)(sessionStorage.previewPosition,t,t.$refs.preview.$refs.preview)}):t.meta.isHot&&sessionStorage.hotPosition&&i(function(t){Object(R.b)(sessionStorage.hotPosition,t,t.$refs.hot.$refs.hot)}),i()}}),Y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"custom-body activity-index"},[i("tab",{staticClass:"tab-bar",attrs:{"scroll-threshold":3,"custom-bar-width":"36px","line-width":2},model:{value:t.index,callback:function(e){t.index=e},expression:"index"}},t._l(t.activityText,function(e,n){return i("tab-item",{key:n,attrs:{selected:t.selectedText===e},nativeOn:{click:function(i){t.selectTab(e)}}},[t._v(t._s(e)+"\n        ")])})),t._v(" "),i("div",{staticClass:"main-content"},[i("div",{class:["detail-item",{active:"直播"==t.selectedText}]},[i("live",{ref:"live"})],1),t._v(" "),i("div",{class:["detail-item",{active:"预告"==t.selectedText}]},[i("preview",{ref:"preview"})],1),t._v(" "),i("div",{class:["detail-item",{active:"爆款"==t.selectedText}]},[i("hot",{ref:"hot"})],1)])],1)},H=[];Y._withStripped=!0;var M={render:Y,staticRenderFns:H},z=M,B=!1,W=i("VU/8"),J=r,K=W(X,z,!1,J,"data-v-99941528",null);K.options.__file="src/views/activity/index.vue";e.default=K.exports},ymFE:function(t,e,i){var n=i("r4j3");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("rjj0")("54f0d118",n,!1,{})}});
//# sourceMappingURL=4.js.map