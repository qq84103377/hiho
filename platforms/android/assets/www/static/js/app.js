webpackJsonp([40],{"+1ys":function(t,e){},"+Bf1":function(t,e){},"+PoZ":function(t,e,i){"use strict";i.d(e,"f",function(){return s}),i.d(e,"b",function(){return a}),i.d(e,"h",function(){return r}),i.d(e,"c",function(){return o}),i.d(e,"g",function(){return c}),i.d(e,"d",function(){return l}),i.d(e,"i",function(){return u}),i.d(e,"e",function(){return h}),i.d(e,"a",function(){return d});var n=i("zFqy"),s=function(t){return n.a.get("/web/message/getRYToken",{params:t})},a=function(t){return n.a.get("/web/message/getMessages",{params:t})},r=function(t){return n.a.get("/web/message/setHasRead",{params:t})},o=function(t){return n.a.get("/web/message/getMsgIcons",{params:t})},c=function(t){return n.a.get("/web/h5/settings/imMessageReceiveSetting",{params:t})},l=function(t){return n.a.get("/web/h5/settings/getMsgSettings",{params:t})},u=function(t){return n.a.get("/web/message/setSingleHasRead",{params:t})},h=function(t){return n.a.get("/web/message/getOnlineImMsgs",{params:t})},d=function(t){return n.a.post("/web/h5/version/addVersionUpdateMsg",t)}},"+uon":function(t,e){},"/Dk2":function(t,e){},"/kga":function(t,e,i){"use strict";function n(t){i("ZdaW")}var s=i("JkZY"),a=(s.a,Boolean,String,String,Number,String,String,Boolean,Object,Boolean,{mixins:[s.a],name:"x-dialog",model:{prop:"show",event:"change"},props:{show:{type:Boolean,default:!1},maskTransition:{type:String,default:"vux-mask"},maskZIndex:[String,Number],dialogTransition:{type:String,default:"vux-dialog"},dialogClass:{type:String,default:"weui-dialog"},hideOnBlur:Boolean,dialogStyle:Object,scroll:{type:Boolean,default:!0,validator:function(t){return!0}}},computed:{maskStyle:function(){if(void 0!==this.maskZIndex)return{zIndex:this.maskZIndex}}},mounted:function(){"undefined"!=typeof window&&window.VUX_CONFIG&&"VIEW_BOX"===window.VUX_CONFIG.$layout&&(this.layout="VIEW_BOX")},watch:{show:function(t){this.$emit("update:show",t),this.$emit(t?"on-show":"on-hide"),t?this.addModalClassName():this.removeModalClassName()}},methods:{shouldPreventScroll:function(){var t=/iPad|iPhone|iPod/i.test(window.navigator.userAgent),e=this.$el.querySelector("input")||this.$el.querySelector("textarea");if(t&&e)return!0},hide:function(){this.hideOnBlur&&(this.$emit("update:show",!1),this.$emit("change",!1),this.$emit("on-click-mask"))}},data:function(){return{layout:""}}}),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vux-x-dialog",class:{"vux-x-dialog-absolute":"VIEW_BOX"===t.layout}},[i("transition",{attrs:{name:t.maskTransition}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"weui-mask",style:t.maskStyle,on:{click:t.hide}})]),t._v(" "),i("transition",{attrs:{name:t.dialogTransition}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],class:t.dialogClass,style:t.dialogStyle},[t._t("default")],2)])],1)},o=[],c={render:r,staticRenderFns:o},l=c,u=i("VU/8"),h=n,d=u(a,l,!1,h,null,null);e.a=d.exports},"0I1v":function(t,e){},"1DHf":function(t,e,i){"use strict";function n(t){i("AHB/")}var s=i("kbG3"),a=i("0FxO"),r=i("2IIR"),o=i("wmxo"),c=i("vLYD"),l=(s.a,Object(r.a)(),{name:"cell",components:{InlineDesc:s.a},props:Object(r.a)(),created:function(){},beforeMount:function(){this.hasTitleSlot=!!this.$slots.title,this.$slots.value},computed:{labelStyles:function(){return Object(o.a)({width:Object(c.a)(this,"labelWidth"),textAlign:Object(c.a)(this,"labelAlign"),marginRight:Object(c.a)(this,"labelMarginRight")})},valueClass:function(){return{"vux-cell-primary":"content"===this.primary||"left"===this.valueAlign,"vux-cell-align-left":"left"===this.valueAlign,"vux-cell-arrow-transition":!!this.arrowDirection,"vux-cell-arrow-up":"up"===this.arrowDirection,"vux-cell-arrow-down":"down"===this.arrowDirection}},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}},style:function(){if(this.alignItems)return{alignItems:this.alignItems}}},methods:{onClick:function(){!this.disabled&&Object(a.a)(this.link,this.$router)}},data:function(){return{hasTitleSlot:!0,hasMounted:!1}}}),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"weui-cell",class:{"vux-tap-active":t.isLink||!!t.link,"weui-cell_access":t.isLink||!!t.link,"vux-cell-no-border-intent":!t.borderIntent,"vux-cell-disabled":t.disabled},style:t.style,on:{click:t.onClick}},[i("div",{staticClass:"weui-cell__hd"},[t._t("icon")],2),t._v(" "),i("div",{staticClass:"vux-cell-bd",class:{"vux-cell-primary":"title"===t.primary&&"left"!==t.valueAlign}},[i("p",[t.title||t.hasTitleSlot?i("label",{staticClass:"vux-label",class:t.labelClass,style:t.labelStyles},[t._t("title",[t._v(t._s(t.title))])],2):t._e(),t._v(" "),t._t("after-title")],2),t._v(" "),i("inline-desc",[t._t("inline-desc",[t._v(t._s(t.inlineDesc))])],2)],1),t._v(" "),i("div",{staticClass:"weui-cell__ft",class:t.valueClass},[t._t("value"),t._v(" "),t._t("default",[t._v(t._s(t.value))]),t._v(" "),t.isLoading?i("i",{staticClass:"weui-loading"}):t._e()],2),t._v(" "),t._t("child")],2)},h=[],d={render:u,staticRenderFns:h},p=d,f=i("VU/8"),m=n,g=f(l,p,!1,m,null,null);e.a=g.exports},"1d0H":function(t,e){},"1kUF":function(t,e,i){t.exports=i.p+"static/img/bg.png"},"3Lt7":function(t,e,i){"use strict";var n=["-moz-box-","-webkit-box-",""],s=(Number,String,Number,String,["-moz-box-","-webkit-box-",""]),a={name:"flexbox-item",props:{span:[Number,String],order:[Number,String]},beforeMount:function(){this.bodyWidth=document.documentElement.offsetWidth},methods:{buildWidth:function(t){return"number"==typeof t?t<1?t:t/12:"string"==typeof t?t.replace("px","")/this.bodyWidth:void 0}},computed:{style:function(){var t={},e="horizontal"===this.$parent.orient?"marginLeft":"marginTop";if(1*this.$parent.gutter!=0&&(t[e]=this.$parent.gutter+"px"),this.span)for(var i=0;i<s.length;i++)t[s[i]+"flex"]="0 0 "+100*this.buildWidth(this.span)+"%";return void 0!==this.order&&(t.order=this.order),t}},data:function(){return{bodyWidth:0}}},r=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"vux-flexbox-item",style:t.style},[t._t("default")],2)},o=[],c={render:r,staticRenderFns:o},l=c,u=i("VU/8"),h=u(a,l,!1,null,null,null);e.a=h.exports},"3WgW":function(t,e){},"5+IS":function(t,e,i){t.exports=i.p+"static/img/tab_brand-selected@2x.png"},"5Qen":function(t,e,i){"use strict";i.d(e,"B",function(){return s}),i.d(e,"g",function(){return a}),i.d(e,"D",function(){return r}),i.d(e,"y",function(){return o}),i.d(e,"d",function(){return c}),i.d(e,"C",function(){return l}),i.d(e,"z",function(){return u}),i.d(e,"r",function(){return h}),i.d(e,"v",function(){return d}),i.d(e,"l",function(){return p}),i.d(e,"x",function(){return f}),i.d(e,"w",function(){return m}),i.d(e,"u",function(){return g}),i.d(e,"e",function(){return v}),i.d(e,"o",function(){return _}),i.d(e,"b",function(){return b}),i.d(e,"j",function(){return w}),i.d(e,"m",function(){return x}),i.d(e,"a",function(){return S}),i.d(e,"h",function(){return y}),i.d(e,"f",function(){return I}),i.d(e,"s",function(){return C}),i.d(e,"n",function(){return k}),i.d(e,"p",function(){return T}),i.d(e,"k",function(){return $}),i.d(e,"t",function(){return E}),i.d(e,"A",function(){return O}),i.d(e,"i",function(){return L}),i.d(e,"q",function(){return A}),i.d(e,"c",function(){return D});var n=i("zFqy"),s=function(t){return n.a.get("/web/sms/sendVerificationSms",{params:t})},a=function(t){return n.a.get("/web/h5/settings/doH5Login",{params:t})},r=function(t){return n.a.get("/web/h5/settings/updateLevelByCode",{params:t})},o=function(t){return n.a.post("/web/h5/settings/saveH5WxUserInfo",t)},c=function(t){return n.a.get("/web/h5/userAddress/getAddressListH5",{params:t})},l=function(t){return n.a.get("/web/h5/userAddress/setDefaultAddressH5",{params:t})},u=function(t){return n.a.post("/web/h5/userAddress/saveUserAddressH5",t)},h=function(t){return n.a.get("/web/h5/userAddress/getUserAddressH5",{params:t})},d=function(t){return n.a.get("/web/h5/userAddress/removeAddressH5",{params:t})},p=function(t){return n.a.get("/web/h5/settings/getH5UserInfo",{params:t})},f=function(t){return n.a.get("/web/h5/settings/saveH5UserPhone",{params:t})},m=function(t){return n.a.get("/web/h5/settings/saveH5UserHeadImg",{params:t})},g=function(t){return n.a.get("/web/user/judgeInviteCode",{params:t})},v=function(t){return n.a.get("/web/image/createInviteCodeWithQRCode",{params:t})},_=function(t){return n.a.get("/web/image/getQRCodeImg",{params:t})},b=function(t){return n.a.get("/web/user/addInviteCode",{params:t})},w=function(t){return n.a.get("/web/h5/userInviteCode/getH5InviteCodes",{params:t})},x=function(t){return n.a.get("/web/h5/userPurchase/getH5UserPurchases",{params:t})},S=function(t){return n.a.post("/web/h5/userPurchase/addH5UserPurchase",t)},y=function(t){return n.a.post("/web/h5/userPurchase/editH5UserPurchase",t)},I=function(t){return n.a.post("/web/h5/userPurchase/deletePurchase",t)},C=function(t){return n.a.get("/web/h5/order/getYearSalesPerformance",{params:t})},k=function(t){return n.a.get("/web/h5/order/getMonthSalesPerformance",{params:t})},T=function(t){return n.a.get("/web/h5/version/getRecentUpdateMsg",{params:t})},$=function(t){return n.a.get("/web/h5/order/getH5OrderNo",{params:t})},E=function(t){return n.a.get("/web/h5/order/hideOrderSymbol",{params:t})},O=function(t){return n.a.get("/web/guide/searchGuides",{params:t})},L=function(t){return n.a.get("/web/guide/getGuides",{params:t})},A=function(t){return n.a.get("/web/searchHistory/getSearchHistory",{params:t})},D=function(t){return n.a.get("/web/searchHistory/addSearchHistory",{params:t})}},"5ojQ":function(t,e,i){t.exports=i.p+"static/img/order_fail@3x.png"},"62KO":function(t,e,i){"use strict";function n(t){i("HsVS")}var s=i("/kga"),a=(s.a,Boolean,Boolean,String,String,Boolean,String,String,String,String,Number,String,String,String,Boolean,Object,Boolean,String,Boolean,Boolean,{name:"confirm",components:{XDialog:s.a},props:{value:{type:Boolean,default:!1},showInput:{type:Boolean,default:!1},placeholder:{type:String,default:""},theme:{type:String,default:"ios"},hideOnBlur:{type:Boolean,default:!1},title:String,confirmText:String,cancelText:String,maskTransition:{type:String,default:"vux-fade"},maskZIndex:[Number,String],dialogTransition:{type:String,default:"vux-dialog"},content:String,closeOnConfirm:{type:Boolean,default:!0},inputAttrs:Object,showContent:{type:Boolean,default:!0},confirmType:{type:String,default:"primary"},showCancelButton:{type:Boolean,default:!0},showConfirmButton:{type:Boolean,default:!0}},created:function(){this.showValue=this.show,this.value&&(this.showValue=this.value)},watch:{value:function(t){this.showValue=t},showValue:function(t){var e=this;this.$emit("input",t),t&&(this.showInput&&(this.msg="",setTimeout(function(){e.$refs.input&&e.setInputFocus()},300)),this.$emit("on-show"))}},data:function(){return{msg:"",showValue:!1}},methods:{getInputAttrs:function(){return this.inputAttrs||{type:"text"}},setInputValue:function(t){this.msg=t},setInputFocus:function(t){t&&t.preventDefault(),this.$refs.input.focus()},_onConfirm:function(){this.showValue&&(this.closeOnConfirm&&(this.showValue=!1),this.$emit("on-confirm",this.msg))},_onCancel:function(){this.showValue&&(this.showValue=!1,this.$emit("on-cancel"))}}}),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vux-confirm"},[i("x-dialog",{attrs:{"dialog-class":"android"===t.theme?"weui-dialog weui-skin_android":"weui-dialog","mask-transition":t.maskTransition,"dialog-transition":"android"===t.theme?"vux-fade":t.dialogTransition,"hide-on-blur":t.hideOnBlur,"mask-z-index":t.maskZIndex},on:{"on-hide":function(e){t.$emit("on-hide")}},model:{value:t.showValue,callback:function(e){t.showValue=e},expression:"showValue"}},[t.title?i("div",{staticClass:"weui-dialog__hd",class:{"with-no-content":!t.showContent}},[i("strong",{staticClass:"weui-dialog__title"},[t._v(t._s(t.title))])]):t._e(),t._v(" "),t.showContent?[t.showInput?i("div",{staticClass:"vux-prompt"},["checkbox"===t.getInputAttrs().type?i("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],ref:"input",staticClass:"vux-prompt-msgbox",attrs:{placeholder:t.placeholder,type:"checkbox"},domProps:{checked:Array.isArray(t.msg)?t._i(t.msg,null)>-1:t.msg},on:{touchend:t.setInputFocus,change:function(e){var i=t.msg,n=e.target,s=!!n.checked;if(Array.isArray(i)){var a=t._i(i,null);n.checked?a<0&&(t.msg=i.concat([null])):a>-1&&(t.msg=i.slice(0,a).concat(i.slice(a+1)))}else t.msg=s}}},"input",t.getInputAttrs(),!1)):"radio"===t.getInputAttrs().type?i("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],ref:"input",staticClass:"vux-prompt-msgbox",attrs:{placeholder:t.placeholder,type:"radio"},domProps:{checked:t._q(t.msg,null)},on:{touchend:t.setInputFocus,change:function(e){t.msg=null}}},"input",t.getInputAttrs(),!1)):i("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],ref:"input",staticClass:"vux-prompt-msgbox",attrs:{placeholder:t.placeholder,type:t.getInputAttrs().type},domProps:{value:t.msg},on:{touchend:t.setInputFocus,input:function(e){e.target.composing||(t.msg=e.target.value)}}},"input",t.getInputAttrs(),!1))]):i("div",{staticClass:"weui-dialog__bd"},[t._t("default",[i("div",{domProps:{innerHTML:t._s(t.content)}})])],2)]:t._e(),t._v(" "),i("div",{staticClass:"weui-dialog__ft"},[t.showCancelButton?i("a",{staticClass:"weui-dialog__btn weui-dialog__btn_default",attrs:{href:"javascript:;"},on:{click:t._onCancel}},[t._v(t._s(t.cancelText||"取消"))]):t._e(),t._v(" "),t.showConfirmButton?i("a",{staticClass:"weui-dialog__btn",class:"weui-dialog__btn_"+t.confirmType,attrs:{href:"javascript:;"},on:{click:t._onConfirm}},[t._v(t._s(t.confirmText||"确定"))]):t._e()])],2)],1)},o=[],c={render:r,staticRenderFns:o},l=c,u=i("VU/8"),h=n,d=u(a,l,!1,h,null,null);e.a=d.exports},"6ndz":function(t,e){},"8klL":function(t,e,i){t.exports=i.p+"static/img/tab_mine-selected@2x.png"},"92n1":function(t,e){},"9Cox":function(t,e){},"9zTv":function(t,e){},"AHB/":function(t,e){},BCGI:function(t,e){},Bfwr:function(t,e,i){"use strict";function n(t){i("Y4Lg")}var s=(Boolean,String,String,String,{name:"loading",model:{prop:"show",event:"change"},props:{show:Boolean,text:String,position:String,transition:{type:String,default:"vux-mask"}},watch:{show:function(t){this.$emit("update:show",t)}}}),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:t.transition}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"weui-loading_toast vux-loading",class:t.text?"":"vux-loading-no-text"},[i("div",{staticClass:"weui-mask_transparent"}),t._v(" "),i("div",{staticClass:"weui-toast",style:{position:t.position}},[i("i",{staticClass:"weui-loading weui-icon_toast"}),t._v(" "),t.text?i("p",{staticClass:"weui-toast__content"},[t._v(t._s(t.text||"加载中")),t._t("default")],2):t._e()])])])},r=[],o={render:a,staticRenderFns:r},c=o,l=i("VU/8"),u=n,h=l(s,c,!1,u,null,null);e.a=h.exports},E0Vt:function(t,e){},EZFB:function(t,e){},"EvF+":function(t,e,i){t.exports=i.p+"static/img/tab_mine@2x.png"},FACE:function(t,e,i){t.exports=i.p+"static/img/tab_home-selected@2x.png"},HD9R:function(t,e,i){"use strict";function n(t){i("3WgW")}var s=i("fZjL"),a=i.n(s),r=i("+v63"),o=i("te2A"),c=(Boolean,String,String,Boolean,Boolean,Boolean,String,String,Object,Boolean,Boolean,Boolean,{name:"popup",props:{value:Boolean,height:{type:String,default:"auto"},width:{type:String,default:"auto"},showMask:{type:Boolean,default:!0},isTransparent:Boolean,hideOnBlur:{type:Boolean,default:!0},position:{type:String,default:"bottom"},maxHeight:String,popupStyle:Object,hideOnDeactivated:{type:Boolean,default:!0},shouldRerenderOnShow:{type:Boolean,default:!1},shouldScrollTopOnShow:{type:Boolean,default:!1}},created:function(){this.$vux&&this.$vux.config&&"VIEW_BOX"===this.$vux.config.$layout&&(this.layout="VIEW_BOX")},mounted:function(){var t=this;this.$overflowScrollingList=document.querySelectorAll(".vux-fix-safari-overflow-scrolling"),this.$nextTick(function(){var e=t;t.popup=new r.a({showMask:e.showMask,container:e.$el,hideOnBlur:e.hideOnBlur,onOpen:function(){e.fixSafariOverflowScrolling("auto"),e.show=!0},onClose:function(){e.show=!1,window.__$vuxPopups&&a()(window.__$vuxPopups).length>1||document.querySelector(".vux-popup-dialog.vux-popup-mask-disabled")||setTimeout(function(){e.fixSafariOverflowScrolling("touch")},300)}}),t.value&&t.popup.show(),t.initialShow=!1})},deactivated:function(){this.hideOnDeactivated&&(this.show=!1),this.removeModalClassName()},methods:{fixSafariOverflowScrolling:function(t){if(this.$overflowScrollingList.length)for(var e=0;e<this.$overflowScrollingList.length;e++)this.$overflowScrollingList[e].style.webkitOverflowScrolling=t},removeModalClassName:function(){"VIEW_BOX"===this.layout&&o.a.removeClass(document.body,"vux-modal-open")},doShow:function(){this.popup&&this.popup.show(),this.$emit("on-show"),this.fixSafariOverflowScrolling("auto"),"VIEW_BOX"===this.layout&&o.a.addClass(document.body,"vux-modal-open"),this.hasFirstShow||(this.$emit("on-first-show"),this.hasFirstShow=!0)},scrollTop:function(){var t=this;this.$nextTick(function(){t.$el.scrollTop=0;var e=t.$el.querySelectorAll(".vux-scrollable");if(e.length)for(var i=0;i<e.length;i++)e[i].scrollTop=0})}},data:function(){return{layout:"",initialShow:!0,hasFirstShow:!1,shouldRenderBody:!0,show:this.value}},computed:{styles:function(){var t={};if(this.position&&"bottom"!==this.position&&"top"!==this.position?t.width=this.width:t.height=this.height,this.maxHeight&&(t["max-height"]=this.maxHeight),this.isTransparent&&(t.background="transparent"),this.popupStyle)for(var e in this.popupStyle)t[e]=this.popupStyle[e];return t}},watch:{value:function(t){this.show=t},show:function(t){var e=this;this.$emit("input",t),t?this.shouldRerenderOnShow?(this.shouldRenderBody=!1,this.$nextTick(function(){e.scrollTop(),e.shouldRenderBody=!0,e.doShow()})):(this.shouldScrollTopOnShow&&this.scrollTop(),this.doShow()):(this.$emit("on-hide"),this.show=!1,this.popup.hide(!1),setTimeout(function(){document.querySelector(".vux-popup-dialog.vux-popup-show")||e.fixSafariOverflowScrolling("touch"),e.removeModalClassName()},200))}},beforeDestroy:function(){this.popup&&this.popup.destroy(),this.fixSafariOverflowScrolling("touch"),this.removeModalClassName()}}),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"vux-popup-animate-"+t.position}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.show&&!t.initialShow,expression:"show && !initialShow"}],staticClass:"vux-popup-dialog",class:["vux-popup-"+t.position,t.show?"vux-popup-show":""],style:t.styles},[t.shouldRenderBody?t._t("default"):t._e()],2)])},u=[],h={render:l,staticRenderFns:u},d=h,p=i("VU/8"),f=n,m=p(c,d,!1,f,null,null);e.a=m.exports},HsVS:function(t,e){},KaIJ:function(t,e,i){t.exports=i.p+"static/img/sign-soldout@2x.png"},L6sh:function(t,e,i){t.exports=i.p+"static/img/tab_follow@2x.png"},"N/bZ":function(t,e){},NHnr:function(t,e,i){"use strict";function n(t){i("Q0eu")}function s(t,e){return st()(t)===st()(e)}function a(t,e){return st()(t)===st()(e)}function r(t){i("nSXw")}function o(t){i("sBO5")}function c(t){i("jEXr")}function l(t){i("WeB6")}function u(t){i("PyU4")}function h(t){i("92n1")}function d(t){i("oRGq"),i("eb3B")}function p(t){i("ouOt")}function f(t){i("0I1v")}function m(t){i("N/bZ"),i("UWPC")}function g(t){i("9Cox"),i("VLHX")}function v(t){i("+1ys")}function _(t){i("1d0H")}function b(t){i("iJSS"),i("p8bI")}function w(t){i("/Dk2")}function x(t){i("d3oJ")}function S(t){i("gWrV")}function y(t){i("uvNg")}function I(t){i("9zTv")}function C(t){i("+Bf1")}function k(t){i("BCGI")}function T(t){return JSON.parse(st()(t))}function $(t){return JSON.parse(st()(t))}function E(t){i("6ndz")}function O(t){i("E0Vt")}function L(t){i("TEJr")}function A(t){return t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1}function D(t){var e,i,n,s;for(e="",n=t.length,i=0;i<n;i++)s=t.charCodeAt(i),s>=1&&s<=127?e+=t.charAt(i):s>2047?(e+=String.fromCharCode(224|s>>12&15),e+=String.fromCharCode(128|s>>6&63),e+=String.fromCharCode(128|s>>0&63)):(e+=String.fromCharCode(192|s>>6&31),e+=String.fromCharCode(128|s>>0&63));return e}function M(t){return t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1}function B(t){var e,i,n,s;for(e="",n=t.length,i=0;i<n;i++)s=t.charCodeAt(i),s>=1&&s<=127?e+=t.charAt(i):s>2047?(e+=String.fromCharCode(224|s>>12&15),e+=String.fromCharCode(128|s>>6&63),e+=String.fromCharCode(128|s>>0&63)):(e+=String.fromCharCode(192|s>>6&31),e+=String.fromCharCode(128|s>>0&63));return e}function R(t){i("TfqP")}Object.defineProperty(e,"__esModule",{value:!0});var V={};i.d(V,"defaultImg",function(){return Kr});var P=i("fZjL"),N=i.n(P),U=i("7+uW"),H=i("Gu7T"),W=i.n(H),F=i("/ocq"),j=i("Dd8w"),q=i.n(j),K=i("NYxO"),z=i("HD9R"),Y=(String,String,String,String,String,Number,Array,Object,Number,Boolean,{name:"checker",props:{defaultItemClass:String,selectedItemClass:String,disabledItemClass:String,type:{type:String,default:"radio"},value:[String,Number,Array,Object],max:Number,radioRequired:Boolean},watch:{value:function(t){this.currentValue=t},currentValue:function(t){this.$emit("input",t),this.$emit("on-change",t)}},data:function(){return{currentValue:this.value}}}),G=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"vux-checker-box"},[t._t("default")],2)},J=[],X={render:G,staticRenderFns:J},Z=X,Q=i("VU/8"),tt=n,et=Q(Y,Z,!1,tt,null,null),it=et.exports,nt=i("mvHQ"),st=i.n(nt),at=i("pFYg"),rt=i.n(at),ot=(String,Number,Object,Boolean,{name:"checker-item",props:{value:{type:[String,Number,Object],required:!0},disabled:Boolean},watch:{disabled:function(t){t&&"radio"===this.$parent.type&&this.value===this.$parent.currentValue&&(this.$parent.currentValue="")}},computed:{classNames:function(){var t=this,e="string"==typeof this.value||"number"==typeof this.value,i={"vux-tap-active":!this.disabled};if(this.$parent.defaultItemClass&&(i[this.$parent.defaultItemClass]=!0),this.$parent.selectedItemClass){var n=!1;if("radio"===this.$parent.type)e&&this.$parent.currentValue===this.value?n=!0:"object"===rt()(this.value)&&a(this.$parent.currentValue,this.value)&&(n=!0);else if("string"==typeof this.value)this.$parent.currentValue.indexOf(this.value)>-1&&(n=!0);else if(this.$parent.currentValue&&this.$parent.currentValue.length){var s=this.$parent.currentValue.filter(function(e){return a(e,t.value)});n=s.length>0}i[this.$parent.selectedItemClass]=n}return this.$parent.disabledItemClass&&(i[this.$parent.disabledItemClass]=this.disabled),i}},methods:{select:function(){"radio"===this.$parent.type?this.selectRadio():this.selectCheckbox()},selectRadio:function(){this.disabled||(this.$parent.currentValue===this.value?this.$parent.radioRequired||(this.$parent.currentValue=""):this.$parent.currentValue=this.value),this.$emit("on-item-click",this.value,this.disabled)},selectCheckbox:function(){this.$parent.currentValue&&null!==this.$parent.currentValue||(this.$parent.currentValue=[]);var t="string"==typeof this.value||"number"==typeof this.value;if(!this.disabled){var e=-1;e=t?this.$parent.currentValue.indexOf(this.value):this.$parent.currentValue.map(function(t){return st()(t)}).indexOf(st()(this.value)),e>-1?this.$parent.currentValue.splice(e,1):(!this.$parent.max||this.$parent.max&&null!==this.$parent.currentValue&&this.$parent.currentValue.length<this.$parent.max)&&(this.$parent.currentValue&&this.$parent.currentValue.length||(this.$parent.currentValue=[]),this.$parent.currentValue.push(this.value))}this.$emit("on-item-click",this.value,this.disabled)}}}),ct=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"vux-checker-item",class:t.classNames,on:{click:t.select}},[t._t("default")],2)},lt=[],ut={render:ct,staticRenderFns:lt},ht=ut,dt=i("VU/8"),pt=r,ft=dt(ot,ht,!1,pt,null,null),mt=ft.exports,gt=(q()({},Object(K.d)({isSearchShow:function(t){return t.isSearchShow},messageHeader:function(t){return t.Message.messageHeader},userInfo:function(t){return t.userInfo},reportFormList:function(t){return t.Report.reportFormList},hasMsg:function(t){return t.message.hasMsg}})),z.a,q()({},Object(K.c)(["handleShowSearchBar","handleSearch","initSearchData","setSendFormStatus","setMissionSearchData"]),{initInput:function(){this.keyword="",this.initSearchData()},handleSubmit:function(){this.handleSearch(this.keyword)},handleCancelSearch:function(){this.initInput()},handleSendMsg:function(){this.setSendFormStatus(!0)},handleMissionMsgSubmit:function(){this.setMissionSearchData({bol:!0,keyword:this.keyword}),this.keyword=""},handleTogglePopup:function(){this.$route.meta.isTriangleShow&&(this.showPopup=!0)},handleSelectReportType:function(t){var e=this;if(this.$route.meta.isTriangleShow&&this.reportFormList.length){var i=this.reportFormList.find(function(e){return e.value===t});i&&(this.$router.replace({path:t,query:{formId:i.formId}}),this.$nextTick(function(){e.showPopup=!1}))}}}),{data:function(){return{keyword:"",showPopup:!1,reportType:"/statement"}},computed:q()({},Object(K.d)({isSearchShow:function(t){return t.isSearchShow},messageHeader:function(t){return t.Message.messageHeader},userInfo:function(t){return t.userInfo},reportFormList:function(t){return t.Report.reportFormList},hasMsg:function(t){return t.message.hasMsg}})),watch:{$route:function(t){this.reportType=t.path},showPopup:function(t){this.$store.commit("updateStatement",t)}},mounted:function(){this.reportType=this.$route.path},components:{Popup:z.a,Checker:it,CheckerItem:mt},methods:q()({},Object(K.c)(["handleShowSearchBar","handleSearch","initSearchData","setSendFormStatus","setMissionSearchData"]),{initInput:function(){this.keyword="",this.initSearchData()},handleSubmit:function(){this.handleSearch(this.keyword)},handleCancelSearch:function(){this.initInput()},handleSendMsg:function(){this.setSendFormStatus(!0)},handleMissionMsgSubmit:function(){this.setMissionSearchData({bol:!0,keyword:this.keyword}),this.keyword=""},handleTogglePopup:function(){this.$route.meta.isTriangleShow&&(this.showPopup=!0)},handleSelectReportType:function(t){var e=this;if(this.$route.meta.isTriangleShow&&this.reportFormList.length){var i=this.reportFormList.find(function(e){return e.value===t});i&&(this.$router.replace({path:t,query:{formId:i.formId}}),this.$nextTick(function(){e.showPopup=!1}))}}})}),vt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.$route.meta.isShowHeader?i("header",{class:["/brandDetail/brandDetailLive"==t.$route.path||"/brandDetail/brandDetailGoods"==t.$route.path?"":"border"]},[i("div",{staticClass:"header-btn clearfix"},[i("div",{staticClass:"header-left fl"},["/activity"!=t.$route.path&&"/cart"!=t.$route.path?i("span",{staticClass:"header-handle",on:{click:function(e){t.$router.go(-1)}}},[i("i",{class:["/brandDetail/brandDetailLive"==t.$route.path||"/brandDetail/brandDetailGoods"==t.$route.path?"icon-back-white":"icon-back","iconNH"]})]):t._e()]),t._v(" "),i("div",{class:["header-center","/brandDetail/brandDetailLive"==t.$route.path||"/brandDetail/brandDetailGoods"==t.$route.path?"black":""]},[i("span",{class:["/brandDetail/brandDetailLive"==t.$route.path||"/brandDetail/brandDetailGoods"==t.$route.path?"white":""]},[t._v(t._s(t.$route.meta.title))])]),t._v(" "),t.$route.meta.isShowInfo?i("div",{staticClass:"header-right fr",on:{click:function(e){t.$router.push("/info")}}},[i("i",{staticClass:"iconNH icon-info"}),t.hasMsg?i("badge",{staticClass:"badge"}):t._e()],1):t._e()])]):t._e()},_t=[],bt={render:vt,staticRenderFns:_t},wt=bt,xt=i("VU/8"),St=o,yt=xt(gt,wt,!1,St,"data-v-99a50278",null),It=yt.exports,Ct=(q()({},Object(K.d)({cartNum:function(t){return t.cart.cartNum}}),{getPermission:function(t){return this.$store.state.userInfo.permissionList}}),{data:function(){return{badgeNum:"",tabIndex:0,beloneTo:"mission",tabOptions:[{text:"首页",path:"/activity/live",tabPath:"activity",icon:i("qeJM"),selectIcon:i("FACE")},{text:"品牌",path:"/brand",tabPath:"brand",icon:i("lypl"),selectIcon:i("5+IS")},{text:"关注",path:"/follow",tabPath:"follow",icon:i("L6sh"),selectIcon:i("m7ea")},{text:"进货车",path:"/cart",tabPath:"cart",icon:i("dodz"),selectIcon:i("rpqY")},{text:"我的",path:"/mine",tabPath:"mine",icon:i("EvF+"),selectIcon:i("8klL")}]}},watch:{$route:function(t,e,i){this.beloneTo=t.meta.belone}},computed:q()({},Object(K.d)({cartNum:function(t){return t.cart.cartNum}}),{getPermission:function(t){return this.$store.state.userInfo.permissionList}}),methods:{setIndex:function(t,e){this.tabIndex=t,this.$router.push(e.path)}},created:function(){}}),kt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.$route.meta.isHideTabbar?t._e():i("nav",{staticClass:"toolbar-footer"},t._l(t.tabOptions,function(e,n){return i("div",{key:n,staticClass:"nav-item",class:{active:t.$route.meta.belone===e.tabPath},on:{click:function(i){t.setIndex(n,e)}}},[i("div",{staticStyle:{position:"relative"}},[i("img",{class:["icon"+n,"icon"],attrs:{src:t.$route.meta.belone===e.tabPath?e.selectIcon:e.icon}}),t._v(" "),3==n&&t.cartNum>0?i("badge",{staticClass:"cart-badge",attrs:{text:t.cartNum}}):t._e()],1),t._v(" "),i("p",[t._v(t._s(e.text))])])}))},Tt=[],$t={render:kt,staticRenderFns:Tt},Et=$t,Ot=i("VU/8"),Lt=c,At=Ot(Ct,Et,!1,Lt,"data-v-fb78e3d8",null),Dt=At.exports,Mt=i("P7QF"),Bt=["android","ios","ios-small","bubbles","circles","crescent","dots","lines","ripple","spiral"],Rt=(String,String,["android","ios","ios-small","bubbles","circles","crescent","dots","lines","ripple","spiral"]),Vt={name:"spinner",mounted:function(){var t=this;this.$nextTick(function(){Object(Mt.a)(t.$el,t.type,t.size)})},props:{type:{type:String,default:"ios"},size:String},computed:{styles:function(){if(void 0!==this.size&&"28px"!==this.size)return{width:this.size,height:this.size}},className:function(){for(var t={},e=0;e<Rt.length;e++)t["vux-spinner-"+Rt[e]]=this.type===Rt[e];return t}}},Pt=function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",{staticClass:"vux-spinner",class:t.className,style:t.styles})},Nt=[],Ut={render:Pt,staticRenderFns:Nt},Ht=Ut,Wt=i("VU/8"),Ft=l,jt=Wt(Vt,Ht,!1,Ft,null,null),qt=jt.exports,Kt=i("gyMJ"),zt=i("lgNl"),Yt=(q()({},Object(K.d)({isLoading:function(t){return t.vuxLoading.isLoading}})),q()({},Object(K.b)(["getUserInfo","getLoginData"]),Object(K.c)(["setRongYunRes","setInstance","setToken","setUserInfo","setLoginData","loginOut"]),{login:function(t){if(0==localStorage.isLoginAgain)this.Ryinit(t),localStorage.isLoginAgain=1;else if(t){var e=this.getLoginData();if(e.bossCode)return void this.workerLogin(e);this.bossLogin(e)}},bossLogin:function(t){var e=this;Object(Kt.a)(t).then(function(i){if(0===i.code){var n={unitId:i.unitId,userId:i.userId,role:i.role,sid:i.sid,permissionList:i.permissionList},s=q()({},i.data);e.setUserInfo(n),e.setToken(s),e.setLoginData(t),e.Ryinit(i.userId)}else e.loginOut(function(){e.$router.push("/login")})})},workerLogin:function(t){var e=this;Object(Kt.b)(t).then(function(i){if(0===i.code){var n={unitId:i.to,userId:i.userId,role:0,sid:i.sid,permissionList:i.permissionList},s=q()({},i.data);e.setUserInfo(n),e.setToken(s),e.setLoginData(t),e.Ryinit(i.userId)}else e.loginOut(function(){e.$router.push("/login")})})},Ryinit:function(t){var e=this;this.fetchToken(t).then(function(t){Object(zt.a)({token:t,appKey:"qf3d5gbjqsnph"},{getMessage:e.setRongYunRes,getInstance:e.getInstance})})},fetchToken:function(t){return Object(Kt.c)({userId:t}).then(function(t){return t})},getInstance:function(t){this.instance=t,this.setInstance(t)},handleDisconnect:function(){this.instance.disconnect()},getScanNum:function(t){if(t){["/mission/report","/mission/nodedetail","/mission/wymScanResult","/mission/scanEntrance"].includes(this.$route.path)?this.$store.commit("setBarCode",{barcode:t.barcode,timeStamp:Math.round((new Date).getTime()/1e3)}):this.$vux.alert.show({title:"提示",content:"当前页面不支持扫码"})}}}),{name:"Home",data:function(){return{instance:{},transitionName:"fade-in",map:{}}},components:{AppHeader:It,AppNav:Dt,Spinner:qt},computed:q()({},Object(K.d)({isLoading:function(t){return t.vuxLoading.isLoading}})),watch:{$route:function(t,e,i){this.map[t.path]||(this.map[t.path]=Date.now()+1),this.map[e.path]||(this.map[e.path]=Date.now()),this.map[t.path]>this.map[e.path]?this.transitionName="fade-in":this.transitionName="fade-out"}},mounted:function(){},methods:q()({},Object(K.b)(["getUserInfo","getLoginData"]),Object(K.c)(["setRongYunRes","setInstance","setToken","setUserInfo","setLoginData","loginOut"]),{login:function(t){if(0==localStorage.isLoginAgain)this.Ryinit(t),localStorage.isLoginAgain=1;else if(t){var e=this.getLoginData();if(e.bossCode)return void this.workerLogin(e);this.bossLogin(e)}},bossLogin:function(t){var e=this;Object(Kt.a)(t).then(function(i){if(0===i.code){var n={unitId:i.unitId,userId:i.userId,role:i.role,sid:i.sid,permissionList:i.permissionList},s=q()({},i.data);e.setUserInfo(n),e.setToken(s),e.setLoginData(t),e.Ryinit(i.userId)}else e.loginOut(function(){e.$router.push("/login")})})},workerLogin:function(t){var e=this;Object(Kt.b)(t).then(function(i){if(0===i.code){var n={unitId:i.to,userId:i.userId,role:0,sid:i.sid,permissionList:i.permissionList},s=q()({},i.data);e.setUserInfo(n),e.setToken(s),e.setLoginData(t),e.Ryinit(i.userId)}else e.loginOut(function(){e.$router.push("/login")})})},Ryinit:function(t){var e=this;this.fetchToken(t).then(function(t){Object(zt.a)({token:t,appKey:"qf3d5gbjqsnph"},{getMessage:e.setRongYunRes,getInstance:e.getInstance})})},fetchToken:function(t){return Object(Kt.c)({userId:t}).then(function(t){return t})},getInstance:function(t){this.instance=t,this.setInstance(t)},handleDisconnect:function(){this.instance.disconnect()},getScanNum:function(t){if(t){["/mission/report","/mission/nodedetail","/mission/wymScanResult","/mission/scanEntrance"].includes(this.$route.path)?this.$store.commit("setBarCode",{barcode:t.barcode,timeStamp:Math.round((new Date).getTime()/1e3)}):this.$vux.alert.show({title:"提示",content:"当前页面不支持扫码"})}}})}),Gt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container nf-scroll-container"},[i("app-header"),t._v(" "),i("section",{staticClass:"nf-scroll-view"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],staticClass:"loading-box"},[i("spinner",{staticClass:"inline-loading"})],1),t._v(" "),i("router-view",{staticClass:"nf-router-view"})],1),t._v(" "),i("app-nav")],1)},Jt=[],Xt={render:Gt,staticRenderFns:Jt},Zt=Xt,Qt=i("VU/8"),te=u,ee=Qt(Yt,Zt,!1,te,"data-v-166d726f",null),ie=ee.exports,ne=[{path:"/activityDetail",component:function(){return Promise.all([i.e(0),i.e(36)]).then(i.bind(null,"b9wD"))},meta:{belone:"activity",title:"活动详情",isShowHeader:!0,isHideTabbar:!0}},{path:"/activityTransmit",name:"activityTransmit",component:function(){return i.e(6).then(i.bind(null,"UKG1"))},meta:{belone:"activity",title:"转发活动",isShowHeader:!1,isHideTabbar:!0}},{path:"/activity",name:"activityIndex",component:function(){return Promise.all([i.e(0),i.e(4)]).then(i.bind(null,"sZNU"))},meta:{belone:"activity",title:"首页",isShowHeader:!0,isLive:!0,isHot:!1,isPreview:!1,isShowInfo:!0}},{path:"/transmitList",name:"transmitList",component:function(t){Promise.all([i.e(0),i.e(30)]).then(function(){var e=[i("F9Y4")];t.apply(null,e)}.bind(this)).catch(i.oe)},meta:{belone:"activity",title:"批量转发",isShowHeader:!0,isHideTabbar:!0,keepAlive:!0}},{path:"/batchTransmit",component:function(t){i.e(18).then(function(){var e=[i("9GkV")];t.apply(null,e)}.bind(this)).catch(i.oe)},meta:{belone:"activity",title:"选择图片类型",isShowHeader:!0,isHideTabbar:!0}}],se=[{path:"/brand",component:function(t){Promise.all([i.e(0),i.e(29)]).then(function(){var e=[i("c6rK")];t.apply(null,e)}.bind(this)).catch(i.oe)},meta:{belone:"brand",title:"品牌",isShowHeader:!0,isShowInfo:!0}},{path:"/brandDetail",component:function(){return Promise.all([i.e(0),i.e(1)]).then(i.bind(null,"UA5U"))},meta:{belone:"brand",title:"品牌主页",isShowHeader:!0,isHideTabbar:!0,isSelect:!0}}],ae=[{path:"/cart",component:function(t){i.e(24).then(function(){var e=[i("1CLz")];t.apply(null,e)}.bind(this)).catch(i.oe)},meta:{belone:"cart",isShowHeader:!0,isHideTabbar:!1,isShowInfo:!0,title:"购物车"}},{path:"/invalidGoods",component:function(t){i.e(28).then(function(){var e=[i("xUg2")];t.apply(null,e)}.bind(this)).catch(i.oe)},meta:{belone:"cart",isShowHeader:!1,isHideTabbar:!0,title:"购物车"}},{path:"/pay",name:"pay",component:function(t){i.e(25).then(function(){var e=[i("9Wp7")];t.apply(null,e)}.bind(this)).catch(i.oe)},meta:{belone:"cart",isShowHeader:!0,isHideTabbar:!0,title:"支付订单"}},{path:"/address",component:function(t){i.e(34).then(function(){var e=[i("oJJ8")];t.apply(null,e)}.bind(this)).catch(i.oe)},meta:{belone:"cart",isShowHeader:!0,isHideTabbar:!0,title:"地址选择"}}],re=[{path:"/mine",component:function(t){i.e(3).then(function(){var e=[i("RcQE")];t.apply(null,e)}.bind(this)).catch(i.oe)},meta:{belone:"mine",isShowHeader:!1,title:"我的",isHideTabbar:!1,isShowInfo:!0}},{path:"/mine/myEdit",component:function(){return i.e(12).then(i.bind(null,"LSdA"))},meta:{belone:"mine",isShowHeader:!0,title:"个人信息",isHideTabbar:!0}},{path:"/mine/editTel",component:function(){return i.e(26).then(i.bind(null,"e9jE"))},meta:{belone:"mine",isShowHeader:!0,title:"修改手机号",isHideTabbar:!0}},{path:"/mine/addressList",component:function(){return i.e(27).then(i.bind(null,"u8Oa"))},meta:{belone:"mine",isShowHeader:!0,title:"地址管理",isHideTabbar:!0,isShowInfo:!0}},{path:"/mine/addressEdit",component:function(){return Promise.all([i.e(0),i.e(19)]).then(i.bind(null,"vkiy"))},meta:{belone:"mine",isShowHeader:!1,title:"收货人信息",isHideTabbar:!0}},{path:"/mine/myVip",component:function(){return i.e(20).then(i.bind(null,"YtqS"))},meta:{belone:"mine",isShowHeader:!0,title:"我的VIP",isHideTabbar:!0,isShowInfo:!0}},{path:"/mine/myShare",component:function(){return i.e(22).then(i.bind(null,"5kPN"))},meta:{belone:"mine",isShowHeader:!0,title:"邀请好友",isHideTabbar:!0,isShowInfo:!0}},{path:"/mine/myShare/shareList",component:function(){return i.e(15).then(i.bind(null,"KSHH"))},meta:{belone:"mine",isShowHeader:!0,title:"邀请记录",isHideTabbar:!0}},{path:"/mine/purchasePriceMag",component:function(){return i.e(32).then(i.bind(null,"TcZO"))},meta:{belone:"mine",isShowHeader:!0,title:"代购价管理",isHideTabbar:!0,isShowInfo:!0}},{path:"/mine/salesPerformance",component:function(){return i.e(23).then(i.bind(null,"N6Bj"))},meta:{belone:"mine",isShowHeader:!0,title:"邀请用户-销售业绩",isHideTabbar:!0,isShowInfo:!0}},{path:"/mine/customerService",component:function(){return i.e(9).then(i.bind(null,"BoH8"))},meta:{belone:"mine",isShowHeader:!1,title:"咨询客服",isHideTabbar:!0,isShowInfo:!0}},{path:"/mine/userGuide",component:function(){return i.e(38).then(i.bind(null,"0Q8M"))},meta:{belone:"mine",isShowHeader:!0,title:"使用指南",isHideTabbar:!0,isShowInfo:!1}},{path:"/mine/questionDetail",component:function(){return i.e(16).then(i.bind(null,"JTs6"))},meta:{belone:"mine",isShowHeader:!0,title:"问题详情",isHideTabbar:!0,isShowInfo:!1}},{path:"/mine/searchList",component:function(){return i.e(17).then(i.bind(null,"HW7T"))},meta:{belone:"mine",isShowHeader:!1,isHideTabbar:!0,isShowInfo:!1}}],oe=[{path:"/follow",component:function(t){Promise.all([i.e(0),i.e(2)]).then(function(){var e=[i("+pYd")];t.apply(null,e)}.bind(this)).catch(i.oe)},meta:{belone:"follow",isSearchHeader:!0,title:"关注",isShowHeader:!0,isGood:!0,isBrand:!1,isShowInfo:!0}},{path:"failedGoods",name:"failedGoods",component:function(){return Promise.all([i.e(0),i.e(37)]).then(i.bind(null,"aNS2"))},meta:{belone:"follow",title:"失效商品",isShowHeader:!1,isHideTabbar:!1}},{path:"failedActivity",name:"failedActivity",component:function(){return Promise.all([i.e(0),i.e(35)]).then(i.bind(null,"08nV"))},meta:{belone:"follow",title:"失效活动",isShowHeader:!1,isHideTabbar:!1}}],ce=[{path:"/orderList",component:function(){return Promise.all([i.e(0),i.e(8)]).then(i.bind(null,"iarJ"))},meta:{belone:"mine",title:"订单列表",isShowHeader:!0,isHideTabbar:!0,isShowInfo:!0}},{path:"/orderDetail",component:function(){return Promise.all([i.e(0),i.e(13)]).then(i.bind(null,"1I/c"))},meta:{belone:"mine",title:"订单详情",isShowHeader:!0,isHideTabbar:!0}},{path:"/refund",name:"refund",component:function(){return Promise.all([i.e(0),i.e(11)]).then(i.bind(null,"DAoj"))},meta:{belone:"mine",title:"申请退款",isShowHeader:!0,isHideTabbar:!0}},{path:"/afterSalesList",component:function(){return i.e(7).then(i.bind(null,"D3Ih"))},meta:{belone:"mine",title:"售后单列表",isShowHeader:!0,isHideTabbar:!0,isShowInfo:!0}},{path:"/afterSalesDetail",component:function(){return Promise.all([i.e(0),i.e(5)]).then(i.bind(null,"W1Ow"))},meta:{belone:"mine",title:"售后单详情",isShowHeader:!0,isHideTabbar:!0}}],le=[{path:"/info",component:function(t){i.e(10).then(function(){var e=[i("D7p0")];t.apply(null,e)}.bind(this)).catch(i.oe)},meta:{belone:"info",isShowHeader:!1,title:"消息中心",isHideTabbar:!0}},{path:"/infoSet",component:function(){return i.e(14).then(i.bind(null,"IjKc"))},meta:{belone:"info",isShowHeader:!0,title:"消息设置",isHideTabbar:!0}}];U.a.use(F.a);var ue=new F.a({routes:[{path:"/",component:ie,redirect:"/login",children:[].concat(W()(ne),W()(se),W()(ae),W()(re),W()(oe),W()(ce),W()(le),[{path:"/upgradeVIP",component:function(t){i.e(31).then(function(){var e=[i("MJ0z")];t.apply(null,e)}.bind(this)).catch(i.oe)},meta:{belone:"upgradeVIP",title:"我的VIP",isShowHeader:!1,isHideTabbar:!0}}])},{path:"/login",component:function(t){i.e(21).then(function(){var e=[i("T+/8")];t.apply(null,e)}.bind(this)).catch(i.oe)}},{path:"/register",component:function(t){i.e(33).then(function(){var e=[i("NTb/")];t.apply(null,e)}.bind(this)).catch(i.oe)}},{path:"*",redirect:"/"}]}),he={state:{userInfo:{},orderInfo:{},addressInfo:{},previewerInfo:{}},mutations:{setUserInfo:function(t,e){t.userInfo=e,localStorage.setItem("userInfo",st()(e))},setOrderInfo:function(t,e){t.orderInfo=e},setAddressInfo:function(t,e){t.addressInfo=e},setPreviewerInfo:function(t,e){t.previewerInfo=e}},actions:{}},de=he,pe={state:{orderListType:""},mutations:{setOrderListType:function(t,e){t.orderListType=e}},actions:{}},fe=pe,me={state:{afterSalesListType:"",afterSalesListSubType:""},mutations:{setAfterSalesListType:function(t,e){t.afterSalesListType=e},setAfterSalesListSubType:function(t,e){t.afterSalesListSubType=e}},actions:{}},ge=me,ve={userInfo:function(t){return t.user.userInfo},orderListType:function(t){return t.order.orderListType},previewerInfo:function(t){return t.user.previewerInfo},afterSalesListType:function(t){return t.sales.afterSalesListType},afterSalesListSubType:function(t){return t.sales.afterSalesListSubType},cartNum:function(t){return t.cart.cartNum}},_e=ve,be=i("Xxa5"),we=i.n(be),xe=i("exGp"),Se=i.n(xe),ye=i("c+FZ"),Ie={state:{cartNum:0},mutations:{setCartNum:function(t,e){t.cartNum=e}},actions:{getCartNum:function(t,e){var i=this,n=(t.state,t.commit);return Se()(we.a.mark(function t(){var s;return we.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(ye.f)({userId:e});case 2:return s=t.sent,n("setCartNum",s.data),t.abrupt("return",s);case 5:case"end":return t.stop()}},t,i)}))()}}},Ce=Ie,ke={state:{rongYunRes:{},messageList:[],replyMessage:{},missionSearchData:{},isSubmit:!1,messageHeader:{},unReadNum:0,instance:{},hasUpdate:"",hasMsg:!1},mutations:{setRongYunRes:function(t,e){t.rongYunRes=e},setMessageList:function(t,e){t.messageList=e},setSendFormStatus:function(t,e){t.isSubmit=e},setReplyMessage:function(t,e){t.replyMessage=e},setMissionSearchData:function(t,e){t.missionSearchData=e},setHeader:function(t,e){t.messageHeader=e},setUnreadNum:function(t,e){t.unReadNum=e},setInstance:function(t,e){t.instance=e},setHasUpdate:function(t,e){t.hasUpdate=e},setHasMsg:function(t,e){t.hasMsg=e}},actions:{}},Te=ke;U.a.use(K.a);var $e=new K.a.Store({modules:{user:de,order:fe,sales:ge,cart:Ce,message:Te},getters:_e}),Ee=$e,Oe=(i("bwrR"),i("xzd6")),Le=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("navigation",[i("router-view")],1),t._v(" "),i("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[i("confirm",{staticClass:"nf-confirm",attrs:{"dialog-transition":"",title:"提示",content:"是否确认退出app？"},on:{"on-confirm":t.onAppOutConfirm},model:{value:t.exitAppVisble,callback:function(e){t.exitAppVisble=e},expression:"exitAppVisble"}})],1),t._v(" "),i("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[i("transition",{attrs:{name:"fade",mode:"out-in"}},[t.topMsg&&"ACTIVITY"!=t.msgData[0].messageType&&"GOODS"!=t.msgData[0].redirectType&&"UPDATE"!=t.msgData[0].redirectType?i("div",{staticClass:"top-msg",on:{click:function(e){t.goTo()}}},[i("div",{staticClass:"top-msg-left"},[t._v("\n                    "+t._s(t.msgData[0].subTitle)+t._s(t.msgData[0].mainTitle)+t._s(t.msgData[0].mainContext?t.msgData[0].mainContext.split(";")[0]:"")+"\n                    "+t._s("ORDER"==t.msgData[0].redirectType||"ACTIVITY"==t.msgData[0].redirectType||"REFUND"==t.msgData[0].redirectType?"查看更多>>":"")+"\n                ")]),t._v(" "),i("i",{staticClass:"msg-close",on:{click:function(e){e.stopPropagation(),t.topMsg=!1}}})]):t._e()])],1),t._v(" "),i("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[i("x-dialog",{staticClass:"activity-dialog",attrs:{"dialog-transition":"",show:t.topMsg&&("ACTIVITY"==t.msgData[0].messageType||"GOODS"==t.msgData[0].redirectType)}},[i("div",{staticClass:"close",on:{click:function(e){t.topMsg=!1}}}),t._v(" "),i("div",{staticClass:"line"}),t._v(" "),t.msgData[0].picUrl?i("img",{staticClass:"activity-img",attrs:{src:t.msgData[0].picUrl,alt:""},on:{click:function(e){t.goTo()}}}):t._e()])],1),t._v(" "),i("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[i("x-dialog",{staticClass:"marketing-dialog",attrs:{"dialog-transition":""},model:{value:t.popMsg,callback:function(e){t.popMsg=e},expression:"popMsg"}},[i("div",{staticClass:"close",on:{click:t.closePop}}),t._v(" "),i("div",{staticClass:"line"}),t._v(" "),i("swiper",{attrs:{"dots-position":"center"}},t._l(t.popList,function(e,n){return i("swiper-item",{key:n,staticClass:"activity-swiper"},[i("div",{on:{click:function(i){t.goTo(e)}}},[i("content-item",{attrs:{info:e}})],1)])}))],1)],1),t._v(" "),i("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[i("previewer",{ref:"previewer",attrs:{list:t.previewerImgList},on:{"on-close":t.closeImg}})],1),t._v(" "),i("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}],staticClass:"purchase-price-mag"},[i("confirm",{staticClass:"nf-confirm",attrs:{"dialog-transition":"","confirm-text":"确定","cancel-text":"取消"},on:{"on-confirm":t.updateApp},model:{value:t.isUpdateVisible,callback:function(e){t.isUpdateVisible=e},expression:"isUpdateVisible"}},[i("div",{staticClass:"black fs18 bold",attrs:{solt:"title"}},[t._v("发现新版本"+t._s(t.appVersion))]),t._v(" "),i("div",t._l(t.text,function(e,n){return i("div",{key:n,staticStyle:{"text-align":"left"}},[t._v(t._s(n+1)+":"+t._s(e))])}))])],1)],1)},Ae=[],De={render:Le,staticRenderFns:Ae},Me=De,Be=i("VU/8"),Re=h,Ve=Be(Oe.a,Me,!1,Re,null,null),Pe=Ve.exports,Ne=i("63CM"),Ue=i("Ty/O"),He=(Ne.a,{directives:{TransferDom:Ne.a},name:"activity-item",props:["activityInfo","type","brandName"],data:function(){return{isSavingPic:!1,isShowSaving:!1,isShowAll:!1}},mounted:function(){},methods:{savePic:function(){if(!this.isSavingPic){this.isSavingPic=!0,this.$vux.loading.show({text:"存图中"});var t=this,e=[];this.activityInfo.picPathsList.forEach(function(t){e.push(t.src)}),Wechat.share({message:{title:"",description:"",thumb:"",mediaTagName:"",messageExt:"SaveImg",messageAction:"<action>dotalist</action>",media:{type:Wechat.Type.IMAGE,image:e}},scene:Wechat.Scene.TIMELINE},function(){t.isSavingPic=!1,t.$vux.loading.hide(),t.$vux.toast.show({text:"存图成功"})},function(e){t.isSavingPic=!1,t.$vux.loading.hide(),t.$vux.toast.show({text:"存图失败"})})}},goto:function(){this.activityInfo.startTime&&"/follow"==this.$route.path&&this.$router.push("/activityDetail?activityId="+this.activityInfo.id+"&type="+(this.activityInfo.isLive?"0":"1"))},close:function(){this.$refs.previewer.close()},showImg:function(t){this.$store.commit("setPreviewerInfo",{imgList:this.activityInfo.picPathsList,currentIndex:t,time:(new Date).getTime()})},focus:function(){var t=this,e={userId:this.$store.getters.userInfo.id,action:"1"==this.activityInfo.hasNotice?0:1,type:this.type,attrId:this.activityInfo.id};Object(Ue.f)(e).then(function(e){t.activityInfo.hasNotice="1"==t.activityInfo.hasNotice?"0":"1",t.$vux.toast.show({type:"text",text:"1"==t.activityInfo.hasNotice?"关注成功":"取消关注"}),t.$emit("focus")})}},created:function(){console.log(this.type)}}),We=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"activity-item"},[0==t.activityInfo.stockSum?i("div",{staticClass:"mask"},[i("div",{staticClass:"mask-tip"})]):t._e(),t._v(" "),"1"==t.activityInfo.status?i("div",{staticClass:"mask"},[t._m(0)]):t._e(),t._v(" "),"1"==t.activityInfo.isEnd?i("div",{staticClass:"mask"},[i("div",{staticClass:"mask-tip act-end"})]):t._e(),t._v(" "),i("div",{staticClass:"main-msg"},[i("div",{staticClass:"brand-img",on:{click:t.goto}},[i("img",{attrs:{src:t.activityInfo.brandPicPath,alt:""}})]),t._v(" "),i("div",{staticClass:"content-main"},[i("div",{staticClass:"content-top black"},[i("div",{staticClass:"brand-title fl"},[t._v(t._s(t.activityInfo.brandName||t.brandName))]),t._v(" "),i("div",{staticClass:"fr"},[t._t("badge")],2)]),t._v(" "),i("div",{class:["content-center",{"fold-text":"ACTIVITY"==t.type&&!t.isShowAll}]},[t._l(t.activityInfo.remark.split("\n")||t.activityInfo.goodsSpec.split("\n"),function(e){return[i("span",[t._v(t._s(e))]),i("br")]})],2),t._v(" "),"ACTIVITY"==t.type&&(t.activityInfo.remark.split("\n").length>4||t.activityInfo.remark.length>100)?i("div",{staticClass:"show-all blue",on:{click:function(e){t.isShowAll=!t.isShowAll}}},[t._v(t._s(t.isShowAll?"收起":"展开")+"全文")]):t._e(),t._v(" "),t._t("price"),t._v(" "),i("ul",t._l(t.activityInfo.picPathsList,function(e,n){return i("li",{class:["cover-bg-img",{"four-mode":t.activityInfo.picPathsList.length<=4},{"nine-mode":t.activityInfo.picPathsList.length>4}],style:{backgroundImage:"url("+e.src+")"},on:{click:function(e){t.showImg(n)}}})})),t._v(" "),t._t("countdown"),t._v(" "),i("div",{staticClass:"action-group"},[i("div",{staticClass:"icon-group"},[i("i",{staticClass:"iconNH icon-download-img active",on:{click:function(e){t.isShowSaving=!0}}}),t._v(" "),i("i",{class:["iconNH","icon-focus",{active:"1"==t.activityInfo.hasNotice}],on:{click:t.focus}})]),t._v(" "),i("div",{},[t._t("btn")],2)])],2)]),t._v(" "),i("div",[t._t("shopcar")],2),t._v(" "),i("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[i("confirm",{attrs:{"dialog-transition":"",title:"提示"},on:{"on-confirm":t.savePic},model:{value:t.isShowSaving,callback:function(e){t.isShowSaving=e},expression:"isShowSaving"}},[i("p",{staticStyle:{"text-align":"center"}},[t._v("您确定要保存图片吗？")])])],1)])},Fe=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mask-tip goods-down"},[i("div",{staticClass:"goods-tip"},[t._v("已下架")])])}],je={render:We,staticRenderFns:Fe},qe=je,Ke=i("VU/8"),ze=d,Ye=Ke(He,qe,!1,ze,"data-v-7db4d973",null),Ge=Ye.exports;Ge.install=function(t){t.component(Ge.name,Ge)};var Je=Ge,Xe=(String,{name:"count-time",props:{time:{type:""},type:{type:""},isEnd:{type:String,default:"0"}},data:function(){return{hour:"",min:"",sec:""}},methods:{clockerEnd:function(){this.$emit("clockerEnd")}},created:function(){},watch:{}}),Ze=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"count-down"},["0"==t.isEnd?i("clocker",{attrs:{time:t.time},on:{"on-finish":t.clockerEnd}},[i("div",{staticClass:"black"},[t._v("剩\n            "),i("span",[i("span",{staticClass:"time-box blue-white-bg red"},[t._v("%D")]),t._v("天")]),t._v(" "),i("span",[i("span",{staticClass:"time-box blue-white-bg red"},[t._v("%H")]),t._v(":"),i("span",{staticClass:"time-box blue-white-bg red"},[t._v("%M")]),t._v(":"),i("span",{staticClass:"time-box blue-white-bg red"},[t._v("%S")])]),t._v("\n            "+t._s(1==t.type?"开始":"结束")+"\n        ")])]):t._e(),t._v(" "),i("div",{staticClass:"time-date"},["1"==t.isEnd?i("div",[t._v("活动已结束")]):t._e(),t._v("\n        "+t._s(1==t.type?"开始":"结束")+"时间"+t._s(t.time?t.time.substr(5,11):"")+"\n        ")])],1)},Qe=[],ti={render:Ze,staticRenderFns:Qe},ei=ti,ii=i("VU/8"),ni=p,si=ii(Xe,ei,!1,ni,"data-v-4bde7b45",null),ai=si.exports,ri=(Ne.a,{name:"add-shopcar",props:["checkList","goodsId"],directives:{TransferDom:Ne.a},data:function(){return{remark:"",show:!1,checkValue:""}},watch:{show:function(t){t&&(this.remark="")}},methods:{goPay:function(){var t=this,e={userId:this.$store.getters.userInfo.id,goodsId:this.goodsId,goodsSpecId:this.checkValue};Object(ye.j)(e).then(function(e){if(0==e.code){var i=e.data,n=i.receiverInfo,s=i.shopCartBrandUnits,a=e.data.shopCartBrandUnits[0].shopCartItem[0],r=a.salePrice,o=a.freight;s[0].payAmount=r;var c={payMethod:"WX_PAY",receiverInfo:n,selectNum:1,shopCartBrandUnits:s,totalAmount:r+o,totalFreight:o,userId:t.$store.getters.userInfo.id};t.$store.commit("setOrderInfo",c),t.$router.push("/pay")}else t.$vux.toast.text(e.msg)})},addShopcar:function(){var t=this;if(""===this.checkValue)return void this.$vux.toast.show({type:"text",text:"请选择规格"});var e={goodsShopCartParams:[{userId:this.$store.getters.userInfo.id,goodsId:this.goodsId,goodsSpecId:this.checkValue,remark:this.remark}]};Object(Ue.a)(e).then(function(e){t.show=!1,0==e.code&&(t.checkValue="",t.$store.dispatch("getCartNum",t.$store.getters.userInfo.id),t.$vux.toast.show({type:"text",text:"添加成功"}))})}}}),oi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"add-shopcar"},[i("div",{staticClass:" shopcar gray-white-bg "},[i("div",{staticClass:"tip blue-gray"},[t._v("先选择规格再加入进货车")]),t._v(" "),i("checker",{attrs:{type:"radio","default-item-class":"select-item blue-gray-bg light-gray","selected-item-class":"is-active"},model:{value:t.checkValue,callback:function(e){t.checkValue=e},expression:"checkValue"}},t._l(t.checkList,function(e,n){return e.stock?i("checker-item",{key:n,attrs:{value:e.id}},[t._v("\n                "+t._s(e.name)+"\n            ")]):t._e()}))],1),t._v(" "),i("div",{staticClass:"btn-content"},[i("x-button",{class:[" default-btn",{"blue-gray-bg light-gray":!t.checkValue}],attrs:{type:t.checkValue?"primary":"",mini:""},nativeOn:{click:function(e){return t.goPay(e)}}},[i("i",{class:["iconNH","icon-add-order",{"is-active":t.checkValue}]}),i("i",{staticStyle:{display:"inline-block","vertical-align":"middle"}},[t._v("立即下单")])]),t._v(" "),i("x-button",{class:[" default-btn",{"blue-gray-bg light-gray":!t.checkValue}],attrs:{type:t.checkValue?"primary":"",mini:""},nativeOn:{click:function(e){return t.addShopcar(e)}}},[i("i",{class:["iconNH","icon-shopcar",{"is-active":t.checkValue}]}),i("i",{staticStyle:{display:"inline-block","vertical-align":"middle"}},[t._v("加入进货车")])])],1)])},ci=[],li={render:oi,staticRenderFns:ci},ui=li,hi=i("VU/8"),di=f,pi=hi(ri,ui,!1,di,"data-v-3d1653cc",null),fi=pi.exports,mi=(Ne.a,{directives:{TransferDom:Ne.a},name:"brand-item",props:["fileList","brandItemIndex"],data:function(){return{}},methods:{go:function(t){this.$router.push({path:"/brandDetail",query:{hasNotice:t.notice,brandId:t.brandId}})},showImg:function(t){this.$store.commit("setPreviewerInfo",{imgList:this.fileList.goodsSimples,currentIndex:t,time:(new Date).getTime()})},getNotice:function(){var t=this;console.log(this.fileList);var e={userId:this.$store.getters.userInfo.id,action:1===this.fileList.hasNotice?0:1,type:"BRAND",attrId:this.fileList.brandId};Object(Ue.f)(e).then(function(e){0===e.code&&(t.$emit("reverstNotice",t.brandItemIndex),t.$vux.toast.show({type:"text",text:1===t.fileList.hasNotice?"关注成功":"取消关注"}))})}}}),gi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"brand-item",on:{click:function(e){e.stopPropagation(),t.go(t.fileList)}}},[i("div",{staticClass:"brand-msg"},[i("img",{staticClass:"logo",attrs:{src:t.fileList.brandLogo}}),t._v(" "),i("div",{staticClass:"detail"},[i("p",{staticClass:"name"},[t._v(t._s(t.fileList.brandName))]),t._v(" "),i("p",{staticClass:"good light-gray fs12"},[i("span",{staticClass:"mgr16"},[t._v("活动 "+t._s(t.fileList.actNum))]),i("span",[t._v("商品 "+t._s(t.fileList.goodsNum))])])]),t._v(" "),i("div",{staticClass:"follow"},[i("i",{class:["iconNH","icon-focus",{active:1===t.fileList.hasNotice}],on:{click:function(e){e.stopPropagation(),t.getNotice()}}})])]),t._v(" "),t.fileList.goodsSimples.length>>0?i("ul",{staticClass:"good-list"},t._l(t.fileList.goodsSimples.length>3?t.fileList.goodsSimples.slice(0,3):t.fileList.goodsSimples,function(e,n){return i("li",{key:n,staticClass:"cover-bg-img",style:{backgroundImage:"url("+e.src+")"}},[i("div",{staticClass:"price-tag"},[t._v("\n                ¥"+t._s(e.salePrice)+"\n            ")])])})):t._e()])},vi=[],_i={render:gi,staticRenderFns:vi},bi=_i,wi=i("VU/8"),xi=m,Si=wi(mi,bi,!1,xi,"data-v-c0289828",null),yi=Si.exports;yi.install=function(t){t.component(yi.name,yi)};var Ii=yi,Ci=i("162o"),ki=(Ne.a,{name:"wechat-share-bar",directives:{TransferDom:Ne.a},props:["imgList","remark","imgBs64","indexList","isFinish","isSingle"],data:function(){return{isSavingPic:!1,isShowSaving:!1,isShowSaving1:!1,show1:!1,isShare:!1,imgBs64Length:0,curType:"",text:"正在合成,请耐心等待",imgbs64Share:[],bgSrc:i("1kUF"),index:0,src:[]}},methods:{savePic:function(){if(0===this.imgList.length)return void this.$vux.toast.text("请选择有图片的商品");if(!this.isSavingPic){this.isSavingPic=!0,this.$vux.loading.show({text:"存图中",type:"text"});var t=this;Wechat.share({message:{title:"",description:"",thumb:"",mediaTagName:"",messageExt:"SaveImg",messageAction:"<action>dotalist</action>",media:{type:Wechat.Type.IMAGE,image:this.imgList}},scene:Wechat.Scene.TIMELINE},function(){t.isSavingPic=!1,t.$vux.loading.hide(),t.$vux.toast.show({text:"存图成功"})},function(e){t.isSavingPic=!1,t.$vux.loading.hide(),t.$vux.toast.show({text:"存图失败",type:"cancel"})})}},savePic2:function(){if(!this.isSavingPic){this.isSavingPic=!0,this.$vux.loading.show({text:"存图中",type:"text"});var t=this;Wechat.share({message:{title:"",description:"",thumb:"",mediaTagName:"",messageExt:"SaveImg",messageAction:"<action>dotalist</action>",media:{type:Wechat.Type.IMAGE,image:this.imgbs64Share}},scene:Wechat.Scene.TIMELINE},function(){t.isSavingPic=!1,t.$vux.loading.hide(),t.$vux.toast.show({text:"存图成功"})},function(e){t.isSavingPic=!1,t.$vux.loading.hide(),t.$vux.toast.show({text:"存图失败",type:"cancel"})})}},shareMedia:function(t,e){console.log(e.length,"imgList"),Wechat.share({message:{title:"Hi, there",description:this.remark,thumb:"www/img/thumbnail.png",mediaTagName:"TEST-TAG-001",messageExt:t,messageAction:"<action>dotalist</action>",media:{type:Wechat.Type.IMAGE,image:e}},scene:"Circle"===t?Wechat.Scene.TIMELINE:Wechat.Scene.SESSION},function(){console.log("Success")},function(t){console.log("Failed: "+t)}),""!==this.remark.trim()&&this.$vux.toast.show({text:"活动描述已复制到粘贴板",type:"text"}),this.curType="",this.text="正在合成,请耐心等待"},canvasTextAutoLine:function(t,e,i,n,s,a,r){var o=0,c=0,l=0;this.index=0;for(var u=0;u<t.length;u++){if((c+=e.measureText(t[u]).width)>i-n){if(++o>=3){e.fillText(t.substring(l,u-2)+"...",n,s),s+=a,c=0,l=u;break}e.fillText(t.substring(l,u),n,s),s+=a,c=0,l=u,console.log(o,"111")}u==t.length-1&&e.fillText(t.substring(l,u+1),n,s)}this.index=s-r>0?(s-r)/a:0,console.log(this.index,"==========")},drawFirstImage:function(t,e,i){var n=this,s=document.createElement("canvas");s.width=800,s.height=1e3;var a=s.getContext("2d"),r=e.split("\n");console.log(r);var o=new Image;o.src=this.bgSrc,o.onload=function(){a.drawImage(o,0,0,800,1e3);var e=new Image;e.src=t[0],e.onload=function(){a.drawImage(e,0,0,800,780),a.beginPath(),a.fillStyle="#fff",a.fillRect(0,800,300,300),a.fill(),a.closePath(),a.font="20px Arial",a.fillStyle="#000",a.fillText(r[0],20,810,760),n.index=0;for(var t=1;t<r.length;t++)a.font=r[t]&&r[t].indexOf("现价")>=0?"bold 25px Arial":"20px Arial",a.fillStyle=r[t]&&r[t].indexOf("现价")>=0?"red":"#000",r[t]&&r[t].indexOf("规格")>=0?n.canvasTextAutoLine(r[t],a,760,20,810+30*t,20,810+30*t):a.fillText(r[t],20,810+30*t+20*n.index,760);a.moveTo(0,800),a.lineTo(800,1e3),a.strokeStyle="#fff",a.stroke();var o=s.toDataURL("image/png");n.src.push(o),i(o)}}},drawVerticalImage:function(t,e,i){var n=this,s=document.createElement("canvas");s.width=800,s.height=1300;var a=s.getContext("2d"),r=e.split("\n"),o=new Image;o.src=this.bgSrc,o.onload=function(){a.drawImage(o,0,0,800,1300);var e=new Image;e.src=t[0],e.onload=function(){a.drawImage(e,0,0,800,780),a.beginPath(),a.fillStyle="#fff";var r=new Image;r.src=t[1],r.onload=function(){a.drawImage(r,10,810,250,300),a.beginPath(),a.fillStyle="#fff";var e=new Image;e.src=t[2],e.onload=function(){a.drawImage(e,260,810,250,300),a.beginPath(),a.fillStyle="#fff";var r=new Image;r.src=t[3],r.onload=function(){a.drawImage(r,520,810,250,300),a.beginPath(),a.fillStyle="#fff";var t=s.toDataURL("image/png");n.src.push(t),i(t)}}}},a.font="20px Arial",a.fillStyle="#000",a.fillText(r[0],20,1140,760),n.index=0;for(var c=1;c<r.length;c++)a.font=r[c]&&r[c].indexOf("现价")>=0?"bold 25px Arial":"20px Arial",a.fillStyle=r[c]&&r[c].indexOf("现价")>=0?"red":"#000",r[c]&&r[c].indexOf("规格")>=0?n.canvasTextAutoLine(r[c],a,760,20,1140+30*c,20,1140+30*c):a.fillText(r[c],20,1140+30*c+20*n.index,760);a.moveTo(0,800),a.lineTo(800,1300),a.strokeStyle="#fff",a.stroke()}},drawHorizontalImage:function(t,e,i){var n=this,s=document.createElement("canvas");s.width=800,s.height=600;var a=s.getContext("2d"),r=e.split("\n");console.log(r,"remark");var o=new Image;o.src=this.bgSrc,o.onload=function(){a.drawImage(o,0,0,800,600);var e=new Image;e.src=t[0],e.onload=function(){a.drawImage(e,0,0,400,395),a.beginPath(),a.fillStyle="#fff";var r=new Image;r.src=t[1],r.onload=function(){a.drawImage(r,410,0,400,395),a.beginPath(),a.fillStyle="#fff";var e=new Image;e.src=t[2],e.onload=function(){a.drawImage(e,410,410,195,200),a.beginPath(),a.fillStyle="#fff";var r=new Image;r.src=t[3],r.onload=function(){a.drawImage(r,610,410,195,200),a.beginPath(),a.fillStyle="#fff";var t=s.toDataURL("image/png");n.src.push(t),i(t)}}}},a.font="20px Arial",a.fillStyle="#000",a.fillText(r[0],20,420,395),n.index=0;for(var c=1;c<r.length;c++)a.font=r[c]&&r[c].indexOf("现价")>=0?"bold 25px Arial":"20px Arial",a.fillStyle=r[c]&&r[c].indexOf("现价")>=0?"red":"#000",r[c]&&r[c].indexOf("规格")>=0?n.canvasTextAutoLine(r[c],a,395,20,420+30*c+20*n.index,20,420+30*c):a.fillText(r[c],20,420+30*c+20*n.index,395);a.moveTo(410,310),a.lineTo(410,600),a.strokeStyle="#fff",a.stroke()}},drawAndShareImage:function(t){if(this.curType=t,0==this.imgList.length){if("/mine/myShare"==this.$route.path)return this.$vux.loading.show({text:"Loading"});this.imgbs64Share=[],this.isShare=!0,this.show1=!0,console.log(this.isSingle,"this.isSingle"),this.isFinish&&this.isShare&&this.isSynthesis(),this.isSingle&&this.isShare&&this.isSynthesis()}else"save"==t?this.isShowSaving=!0:this.shareMedia(t,this.imgList)},isSynthesis:function(){var t=this;if(console.log("进来了。。。"),console.log(this.indexList,"this.indexList"),this.indexList.includes(0)){var e=this;this.imgBs64.forEach(function(i){t.drawFirstImage(i.imgList,i.remark,function(t){e.imgbs64Share.push(t)})})}if(this.indexList.includes(1)){var i=this;this.imgBs64.forEach(function(e){t.drawVerticalImage(e.imgList,e.remark,function(t){i.imgbs64Share.push(t)})})}if(this.indexList.includes(2)){var n=this;this.imgBs64.forEach(function(e){t.drawHorizontalImage(e.imgList,e.remark,function(t){n.imgbs64Share.push(t)})})}if(console.log(this.imgbs64Share,"this.imgbs64Share.length"),console.log(this.imgBs64,"this.imgBs64.length"),this.isFinish&&this.imgbs64Share.length==this.imgBs64.length&&this.isShare&&this.isCallBack(this.imgbs64Share),this.isSingle&&this.imgbs64Share.length==this.indexList.length&&this.isShare&&this.isCallBack(this.imgbs64Share),this.isSingle){var s=this;Object(Ci.setTimeout)(function(){s.show1=!1},3e3)}},isCallBack:function(t){this.show1=!1,"save"==this.curType?this.isShowSaving1=!0:this.shareMedia(this.curType,t)}},watch:{imgBs64:{handler:function(t){"/activityTransmit"==this.$route.path&&t.length&&this.curType&&(this.$vux.loading.hide(),this.drawAndShareImage(this.curType)),"/batchTransmit"==this.$route.path&&this.curType&&(this.text="共"+this.$route.query.info.length+"张合成图，正在合第"+t.length+"张")},deep:!0},imgList:{handler:function(t){"/mine/myShare"==this.$route.path&&t.length&&this.curType&&(this.$vux.loading.hide(),this.drawAndShareImage(this.curType))},deep:!0},imgbs64Share:{handler:function(t){this.isFinish&&t.length==this.imgBs64.length&&this.isShare&&this.isCallBack(t),this.isSingle&&this.imgbs64Share.length==this.indexList.length&&this.isShare&&this.isCallBack(t)},deep:!0},isFinish:function(t){t&&this.isSynthesis()}},created:function(){console.log()}}),Ti=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wechat-share-bar"},[i("div",{staticClass:"action-group blue-white-bg dark-gray"},[i("div",{staticClass:"action-btn",on:{click:function(e){t.drawAndShareImage("Friend")}}},[i("i",{staticClass:"icon-wx"}),t._v(" "),i("div",[t._v("转发给好友")])]),t._v(" "),i("span",{staticClass:"divider gray-bg"}),t._v(" "),i("div",{staticClass:"action-btn",on:{click:function(e){t.drawAndShareImage("Circle")}}},[i("i",{staticClass:"icon-wx-friend"}),t._v(" "),i("div",[t._v("转发到朋友圈")])]),t._v(" "),i("span",{staticClass:"divider gray-bg"}),t._v(" "),i("div",{staticClass:"action-btn",on:{click:function(e){t.drawAndShareImage("save")}}},[i("i",{staticClass:"icon-download"}),t._v(" "),i("div",[t._v("一键存图")])])]),t._v(" "),i("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[i("confirm",{attrs:{"dialog-transition":"",title:"提示"},on:{"on-confirm":t.savePic},model:{value:t.isShowSaving,callback:function(e){t.isShowSaving=e},expression:"isShowSaving"}},[i("p",{staticStyle:{"text-align":"center"}},[t._v("您确定要保存图片吗？")])])],1),t._v(" "),i("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[i("confirm",{attrs:{"dialog-transition":"",title:"提示"},on:{"on-confirm":t.savePic2},model:{value:t.isShowSaving1,callback:function(e){t.isShowSaving1=e},expression:"isShowSaving1"}},[i("p",{staticStyle:{"text-align":"center"}},[t._v("您确定要保存图片吗？")])])],1),t._v(" "),i("loading",{attrs:{show:t.show1,text:t.text}})],1)},$i=[],Ei={render:Ti,staticRenderFns:$i},Oi=Ei,Li=i("VU/8"),Ai=g,Di=Li(ki,Oi,!1,Ai,"data-v-378f1f02",null),Mi=Di.exports;Mi.install=function(t){t.component(Mi.name,Mi)};var Bi=Mi,Ri=[Je,ai,fi,Ii,Bi],Vi=function t(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.installed||Ri.map(function(t){console.log(t),e.component(t.name,t)})};"undefined"!=typeof window&&window.Vue&&Vi(window.Vue);var Pi={install:Vi},Ni=i("DRgf"),Ui=i("oWtu"),Hi=i("3BeM"),Wi=i("Peep"),Fi=i("NXWw"),ji=i("ODCk"),qi=i("oVYx"),Ki=i("0FxO"),zi=(Boolean,Boolean,Boolean,String,String,Boolean,String,Object,Array,{name:"x-button",props:{type:{default:"default"},disabled:Boolean,mini:Boolean,plain:Boolean,text:String,actionType:String,showLoading:Boolean,link:[String,Object],gradients:{type:Array,validator:function(t){return 2===t.length}}},methods:{onClick:function(){!this.disabled&&Object(Ki.a)(this.link,this.$router)}},computed:{noBorder:function(){return Array.isArray(this.gradients)},buttonStyle:function(){if(this.gradients)return{background:"linear-gradient(90deg, "+this.gradients[0]+", "+this.gradients[1]+")",color:"#FFFFFF"}},classes:function(){return[{"weui-btn_disabled":!this.plain&&this.disabled,"weui-btn_plain-disabled":this.plain&&this.disabled,"weui-btn_mini":this.mini,"vux-x-button-no-border":this.noBorder},this.plain?"":"weui-btn_"+this.type,this.plain?"weui-btn_plain-"+this.type:"",this.showLoading?"weui-btn_loading":""]}}}),Yi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{staticClass:"weui-btn",class:t.classes,style:t.buttonStyle,attrs:{disabled:t.disabled,type:t.actionType},on:{click:t.onClick}},[t.showLoading?i("i",{staticClass:"weui-loading"}):t._e(),t._v(" "),t._t("default",[t._v(t._s(t.text))])],2)},Gi=[],Ji={render:Yi,staticRenderFns:Gi},Xi=Ji,Zi=i("VU/8"),Qi=v,tn=Zi(zi,Xi,!1,Qi,null,null),en=tn.exports,nn=i("piuB"),sn=(nn.b,Number,String,String,String,String,Boolean,Function,String,Boolean,Number,String,{name:"tab",mixins:[nn.b],mounted:function(){var t=this;this.$nextTick(function(){setTimeout(function(){t.hasReady=!0},0)})},props:{lineWidth:{type:Number,default:3},activeColor:String,barActiveColor:String,defaultColor:String,disabledColor:String,animate:{type:Boolean,default:!0},customBarWidth:[Function,String],preventDefault:Boolean,scrollThreshold:{type:Number,default:4},barPosition:{type:String,default:"bottom",validator:function(t){return-1!==["bottom","top"].indexOf(t)}}},computed:{barLeft:function(){if(this.hasReady){var t=this.scrollable?window.innerWidth/this.$children[this.currentIndex||0].$el.getBoundingClientRect().width:this.number;return this.currentIndex*(100/t)+"%"}},barRight:function(){if(this.hasReady){var t=this.scrollable?window.innerWidth/this.$children[this.currentIndex||0].$el.getBoundingClientRect().width:this.number;return(t-this.currentIndex-1)*(100/t)+"%"}},innerBarStyle:function(){return{width:"function"==typeof this.customBarWidth?this.customBarWidth(this.currentIndex):this.customBarWidth,backgroundColor:this.barActiveColor||this.activeColor}},barStyle:function(){var t={left:this.barLeft,right:this.barRight,display:"block",height:this.lineWidth+"px",transition:this.hasReady?null:"none"};return this.customBarWidth?t.backgroundColor="transparent":t.backgroundColor=this.barActiveColor||this.activeColor,t},barClass:function(){return{"vux-tab-ink-bar-transition-forward":"forward"===this.direction,"vux-tab-ink-bar-transition-backward":"backward"===this.direction}},scrollable:function(){return this.number>this.scrollThreshold}},watch:{currentIndex:function(t,e){this.direction=t>e?"forward":"backward",this.$emit("on-index-change",t,e),this.hasReady&&this.scrollToActiveTab()}},data:function(){return{direction:"forward",right:"100%",hasReady:!1}},methods:{scrollToActiveTab:function(){var t=this;if(this.scrollable&&this.$children&&this.$children.length){var e=this.$children[this.currentIndex].$el,i=0,n=function n(){var s=t.$refs.nav;s.scrollLeft+=(e.offsetLeft-(s.offsetWidth-e.offsetWidth)/2-s.scrollLeft)/15,++i<15&&window.requestAnimationFrame(n)};window.requestAnimationFrame(n)}}}}),an=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vux-tab-wrap",class:"top"===t.barPosition?"vux-tab-bar-top":""},[i("div",{staticClass:"vux-tab-container"},[i("div",{ref:"nav",staticClass:"vux-tab",class:[{"vux-tab-no-animate":!t.animate},{scrollable:t.scrollable}]},[t._t("default"),t._v(" "),t.animate?i("div",{staticClass:"vux-tab-ink-bar",class:t.barClass,style:t.barStyle},[t.customBarWidth?i("span",{staticClass:"vux-tab-bar-inner",style:t.innerBarStyle}):t._e()]):t._e()],2)])])},rn=[],on={render:an,staticRenderFns:rn},cn=on,ln=i("VU/8"),un=_,hn=ln(sn,cn,!1,un,null,null),dn=hn.exports,pn=(nn.a,String,Boolean,String,String,String,{name:"tab-item",mixins:[nn.a],props:{activeClass:String,disabled:Boolean,badgeBackground:{type:String,default:"#f74c31"},badgeColor:{type:String,default:"#fff"},badgeLabel:String},computed:{style:function(){return{borderWidth:this.$parent.lineWidth+"px",borderColor:this.$parent.activeColor,color:this.currentSelected?this.$parent.activeColor:this.disabled?this.$parent.disabledColor:this.$parent.defaultColor,border:this.$parent.animate?"none":"auto"}}}}),fn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vux-tab-item",class:[t.currentSelected?t.activeClass:"",{"vux-tab-selected":t.currentSelected,"vux-tab-disabled":t.disabled}],style:t.style,on:{click:t.onItemClick}},[t._t("default"),t._v(" "),void 0!==t.badgeLabel&&""!==t.badgeLabel?i("span",{staticClass:"vux-tab-item-badge",style:{background:t.badgeBackground,color:t.badgeColor}},[t._v("\n  "+t._s(t.badgeLabel))]):t._e()],2)},mn=[],gn={render:fn,staticRenderFns:mn},vn=gn,_n=i("VU/8"),bn=_n(pn,vn,!1,null,null,null),wn=bn.exports,xn=i("i7N3"),Sn=i.n(xn),yn=i("72M0"),In=i.n(yn),Cn=i("BEQ0"),kn=i.n(Cn),Tn=(Array,Number,Object,{name:"previewer",computed:{imgs:function(){return this.list.map(function(t){return t.msrc||(t.msrc=t.src),void 0===t.w&&(t.w=0,t.h=0),t})}},watch:{imgs:function(t,e){if(this.photoswipe)if(t.length&&t.length-e.length==-1){var i=this.photoswipe.getCurrentIndex();this.photoswipe.invalidateCurrItems(),this.photoswipe.items.splice(i,1);var n=i;n>this.photoswipe.items.length-1&&(n=0),this.photoswipe.goTo(n),this.photoswipe.updateSize(!0),this.photoswipe.ui.update()}else t.length||this.close()}},methods:{init:function(t){var e=this,i=this.imgs[t];if(!i.w||!i.h||i.w<5||i.h<5){var n=new Image;n.onload=function(){i.w=this.width,i.h=this.height,e.doInit(t)},n.src=i.src}else this.doInit(t)},doInit:function(t){var e=this,i=this,n=kn()({history:!1,shareEl:!1,tapToClose:!0,index:t},this.options);this.photoswipe=new Sn.a(this.$el,In.a,this.imgs,n),this.photoswipe.listen("gettingData",function(t,e){if(!e.w||!e.h||e.w<1||e.h<1){var n=new Image;n.onload=function(){e.w=this.width,e.h=this.height,i.photoswipe.updateSize(!0)},n.src=e.src}}),this.photoswipe.init(),this.photoswipe.listen("close",function(){e.$emit("on-close")}),this.photoswipe.listen("afterChange",function(t,i){e.$emit("on-index-change",{currentIndex:e.photoswipe.getCurrentIndex()})})},show:function(t){this.init(t)},getCurrentIndex:function(){return this.photoswipe.getCurrentIndex()},close:function(){this.photoswipe.close()},goTo:function(t){this.photoswipe.goTo(t)},prev:function(){this.photoswipe.prev()},next:function(){this.photoswipe.next()}},props:{list:{type:Array,required:!0},index:{type:Number,default:0},options:{type:Object,default:function(){return{}}}}}),$n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pswp vux-previewer",attrs:{tabindex:"-1",role:"dialog","aria-hidden":"true"}},[i("div",{staticClass:"pswp__bg"}),t._v(" "),i("div",{staticClass:"pswp__scroll-wrap"},[t._m(0),t._v(" "),i("div",{staticClass:"pswp__ui pswp__ui--hidden"},[i("div",{staticClass:"pswp__top-bar"},[i("div",{staticClass:"pswp__counter"}),t._v(" "),t._t("button-after"),t._v(" "),i("button",{staticClass:"pswp__button pswp__button--close",attrs:{title:"Close (Esc)"}}),t._v(" "),i("button",{staticClass:"pswp__button pswp__button--share",attrs:{title:"Share"}}),t._v(" "),i("button",{staticClass:"pswp__button pswp__button--fs",attrs:{title:"Toggle fullscreen"}}),t._v(" "),i("button",{staticClass:"pswp__button pswp__button--zoom",attrs:{title:"Zoom in/out"}}),t._v(" "),t._t("button-before"),t._v(" "),t._m(1)],2),t._v(" "),t._m(2),t._v(" "),i("button",{staticClass:"pswp__button pswp__button--arrow--left",attrs:{title:"Previous (arrow left)"}}),t._v(" "),i("button",{staticClass:"pswp__button pswp__button--arrow--right",attrs:{title:"Next (arrow right)"}}),t._v(" "),t._m(3)])])])},En=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pswp__container"},[i("div",{staticClass:"pswp__item"}),t._v(" "),i("div",{staticClass:"pswp__item"}),t._v(" "),i("div",{staticClass:"pswp__item"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pswp__preloader"},[i("div",{staticClass:"pswp__preloader__icn"},[i("div",{staticClass:"pswp__preloader__cut"},[i("div",{staticClass:"pswp__preloader__donut"})])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pswp__share-modal pswp__share-modal--hidden pswp__single-tap"},[i("div",{staticClass:"pswp__share-tooltip"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pswp__caption"},[i("div",{staticClass:"pswp__caption__center"})])}],On={render:$n,staticRenderFns:En},Ln=On,An=i("VU/8"),Dn=b,Mn=An(Tn,Ln,!1,Dn,null,null),Bn=Mn.exports,Rn=(Number,Boolean,{name:"countdown",props:{value:Number,start:{type:Boolean,default:!0}},created:function(){this.currentTime=this.time,this.value&&(this.currentTime=this.value)},methods:{tick:function(){var t=this;this.interval=setInterval(function(){t.currentTime>0?t.currentTime--:(t.stop(),t.index++,t.$emit("on-finish",t.index))},1e3)},stop:function(){clearInterval(this.interval)}},watch:{value:function(t){this.currentTime=t},currentTime:function(t){this.$emit("input",t)},start:function(t,e){!0===t&&!1===e&&this.currentTime>0&&this.tick(),!1===t&&!0===e&&this.stop()}},mounted:function(){this.start&&this.tick()},data:function(){return{interval:null,index:0,currentTime:60}}}),Vn=function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",[t._v(t._s(t.currentTime))])},Pn=[],Nn={render:Vn,staticRenderFns:Pn},Un=Nn,Hn=i("VU/8"),Wn=Hn(Rn,Un,!1,null,null,null),Fn=Wn.exports,jn=i("/kga"),qn=i("f6Hi"),Kn=i("rLAy"),zn=i("kbG3"),Yn=i("2LX0"),Gn=i.n(Yn),Jn=i("Ewe+"),Xn=i.n(Jn),Zn=i("nror"),Qn=i("lFEC"),ts=i.n(Qn),es={email:{fn:Gn.a,msg:"邮箱格式"},"china-mobile":{fn:function(t){return Xn()(t,"zh-CN")},msg:"手机号码"},"china-name":{fn:function(t){return t.length>=2&&t.length<=6},msg:"中文姓名"}},is=(qn.a,Ui.a,zn.a,Kn.a,String,String,String,String,Number,String,Boolean,Boolean,String,String,String,Function,Number,Number,Boolean,String,String,String,String,String,String,Boolean,String,Number,String,String,String,Boolean,{email:{fn:Gn.a,msg:"邮箱格式"},"china-mobile":{fn:function(t){return Xn()(t,"zh-CN")},msg:"手机号码"},"china-name":{fn:function(t){return t.length>=2&&t.length<=6},msg:"中文姓名"}}),ns={name:"x-input",created:function(){var t=this;this.currentValue=void 0===this.value||null===this.value?"":this.mask?this.maskValue(this.value):this.value,!this.required||void 0!==this.currentValue&&""!==this.currentValue||(this.valid=!1),this.handleChangeEvent=!0,this.debounce&&(this._debounce=Object(Zn.a)(function(){t.$emit("on-change",t.currentValue)},this.debounce))},beforeMount:function(){this.$slots&&this.$slots["restricted-label"]&&(this.hasRestrictedLabel=!0),this.$slots&&this.$slots["right-full-height"]&&(this.hasRightFullHeightSlot=!0)},beforeDestroy:function(){this._debounce&&this._debounce.cancel(),window.removeEventListener("resize",this.scrollIntoView)},mixins:[qn.a],components:{Icon:Ui.a,InlineDesc:zn.a,Toast:Kn.a},props:{title:{type:String,default:""},type:{type:String,default:"text"},placeholder:String,value:[String,Number],name:String,readonly:Boolean,disabled:Boolean,keyboard:String,inlineDesc:String,isType:[String,Function],min:Number,max:Number,showClear:{type:Boolean,default:!0},equalWith:String,textAlign:String,autocomplete:{type:String,default:"off"},autocapitalize:{type:String,default:"off"},autocorrect:{type:String,default:"off"},spellcheck:{type:String,default:"false"},novalidate:{type:Boolean,default:!1},iconType:String,debounce:Number,placeholderAlign:String,labelWidth:String,mask:String,shouldToastError:{type:Boolean,default:!0}},computed:{labelStyles:function(){return{width:this.labelWidthComputed||this.$parent.labelWidth||this.labelWidthComputed,textAlign:this.$parent.labelAlign,marginRight:this.$parent.labelMarginRight}},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}},pattern:function(){if("number"===this.keyboard||"china-mobile"===this.isType)return"[0-9]*"},labelWidthComputed:function(){var t=this.title.replace(/[^x00-xff]/g,"00").length/2+1;if(t<10)return t+"em"},hasErrors:function(){return N()(this.errors).length>0},inputStyle:function(){if(this.textAlign)return{textAlign:this.textAlign}},showWarn:function(){return!this.novalidate&&!this.equalWith&&!this.valid&&this.firstError&&(this.touched||this.forceShowError)}},mounted:function(){window.addEventListener("resize",this.scrollIntoView)},methods:{scrollIntoView:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;/iphone/i.test(navigator.userAgent),"INPUT"!==document.activeElement.tagName&&"TEXTAREA"!==document.activeElement.tagName||setTimeout(function(){t.$refs.input.scrollIntoViewIfNeeded(!0)},e)},onClickErrorIcon:function(){this.shouldToastError&&this.firstError&&(this.showErrorToast=!0),this.$emit("on-click-error-icon",this.firstError)},maskValue:function(t){return this.mask?ts.a.toPattern(t,this.mask):t},reset:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.dirty=!1,this.currentValue=t,this.firstError="",this.valid=!0},clear:function(){this.currentValue="",this.focus(),this.$emit("on-click-clear-icon")},focus:function(){this.$refs.input.focus()},blur:function(){this.$refs.input.blur()},focusHandler:function(t){var e=this;this.$emit("on-focus",this.currentValue,t),this.isFocus=!0,setTimeout(function(){e.$refs.input.scrollIntoViewIfNeeded(!1)},1e3)},onBlur:function(t){this.setTouched(),this.validate(),this.isFocus=!1,this.$emit("on-blur",this.currentValue,t)},onKeyUp:function(t){"Enter"===t.key&&(t.target.blur(),this.$emit("on-enter",this.currentValue,t))},getError:function(){var t=N()(this.errors)[0];this.firstError=this.errors[t]},validate:function(){if(void 0!==this.equalWith)return void this.validateEqual();if(this.errors={},!this.currentValue&&!this.required)return void(this.valid=!0);if(!this.currentValue&&this.required)return this.valid=!1,this.errors.required="必填哦",void this.getError();if("string"==typeof this.isType){var t=is[this.isType];if(t){var e=this.currentValue;if("china-mobile"===this.isType&&"999 9999 9999"===this.mask&&(e=this.currentValue.replace(/\s+/g,"")),this.valid=t.fn(e),!this.valid)return this.forceShowError=!0,this.errors.format=t.msg+"格式不对哦~",void this.getError();delete this.errors.format}}if("function"==typeof this.isType){var i=this.isType(this.currentValue);if(this.valid=i.valid,!this.valid)return this.errors.format=i.msg,this.forceShowError=!0,void this.getError();delete this.errors.format}if(this.min){if(this.currentValue.length<this.min)return this.errors.min="最少应该输入"+this.min+"个字符哦",this.valid=!1,void this.getError();delete this.errors.min}if(this.max){if(this.currentValue.length>this.max)return this.errors.max="最多可以输入"+this.max+"个字符哦",this.valid=!1,void(this.forceShowError=!0);this.forceShowError=!1,delete this.errors.max}this.valid=!0},validateEqual:function(){return!this.equalWith&&this.currentValue?(this.valid=!1,void(this.errors.equal="输入不一致")):(this.dirty||this.currentValue.length>=this.equalWith.length)&&this.currentValue!==this.equalWith?(this.valid=!1,void(this.errors.equal="输入不一致")):void(!this.currentValue&&this.required?this.valid=!1:(this.valid=!0,delete this.errors.equal))},_getInputMaskSelection:function(t,e,i,n){if(!this.mask||n&&0===e)return t;if(0===e&&(e=this.lastDirection),e>0){if(!this.mask.substr(t-e,1).match(/[9SA]/))return this._getInputMaskSelection(t+1,e,i,!0)}return t}},data:function(){return{hasRightFullHeightSlot:!1,hasRestrictedLabel:!1,firstError:"",forceShowError:!1,hasLengthEqual:!1,valid:!0,currentValue:"",showErrorToast:!1,isFocus:!1}},watch:{mask:function(t){t&&this.currentValue&&(this.currentValue=this.maskValue(this.currentValue))},valid:function(){this.getError()},value:function(t){this.currentValue=t},equalWith:function(t){t&&this.equalWith?(t.length===this.equalWith.length&&(this.hasLengthEqual=!0),this.validateEqual()):this.validate()},currentValue:function(t,e){var i=this;!this.equalWith&&t&&this.validateEqual(),t&&this.equalWith?(t.length===this.equalWith.length&&(this.hasLengthEqual=!0),this.validateEqual()):this.validate();var n=this.$refs.input.selectionStart,s=t.length-e.length;n=this._getInputMaskSelection(n,s,this.maskValue(t)),this.lastDirection=s,this.$emit("input",this.maskValue(t)),this.$nextTick(function(){i.$refs.input.selectionStart!==n&&(i.$refs.input.selectionStart=n,i.$refs.input.selectionEnd=n),i.currentValue!==i.maskValue(t)&&(i.currentValue=i.maskValue(t))}),this._debounce?this._debounce():this.$emit("on-change",t)}}},ss=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vux-x-input weui-cell",class:{"weui-cell_warn":t.showWarn,disabled:t.disabled,"vux-x-input-has-right-full":t.hasRightFullHeightSlot}},[i("div",{staticClass:"weui-cell__hd"},[t.hasRestrictedLabel?i("div",{style:t.labelStyles},[t._t("restricted-label")],2):t._e(),t._v(" "),t._t("label",[t.title?i("label",{staticClass:"weui-label",class:t.labelClass,style:{width:t.labelWidth||t.$parent.labelWidth||t.labelWidthComputed,textAlign:t.$parent.labelAlign,marginRight:t.$parent.labelMarginRight},attrs:{for:"vux-x-input-"+t.uuid},domProps:{innerHTML:t._s(t.title)}}):t._e(),t._v(" "),t.inlineDesc?i("inline-desc",[t._v(t._s(t.inlineDesc))]):t._e()])],2),t._v(" "),i("div",{staticClass:"weui-cell__bd weui-cell__primary",class:t.placeholderAlign?"vux-x-input-placeholder-"+t.placeholderAlign:""},[t.type&&"text"!==t.type?t._e():i("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-input",style:t.inputStyle,attrs:{id:"vux-x-input-"+t.uuid,maxlength:t.max,autocomplete:t.autocomplete,autocapitalize:t.autocapitalize,autocorrect:t.autocorrect,spellcheck:t.spellcheck,type:"text",name:t.name,pattern:t.pattern,placeholder:t.placeholder,readonly:t.readonly,disabled:t.disabled},domProps:{value:t.currentValue},on:{focus:t.focusHandler,blur:t.onBlur,keyup:t.onKeyUp,input:function(e){e.target.composing||(t.currentValue=e.target.value)}}}),t._v(" "),"number"===t.type?i("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-input",style:t.inputStyle,attrs:{id:"vux-x-input-"+t.uuid,maxlength:t.max,autocomplete:t.autocomplete,autocapitalize:t.autocapitalize,autocorrect:t.autocorrect,spellcheck:t.spellcheck,type:"number",name:t.name,pattern:t.pattern,placeholder:t.placeholder,readonly:t.readonly,disabled:t.disabled},domProps:{value:t.currentValue},on:{focus:t.focusHandler,blur:t.onBlur,keyup:t.onKeyUp,input:function(e){e.target.composing||(t.currentValue=e.target.value)}}}):t._e(),t._v(" "),"email"===t.type?i("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-input",style:t.inputStyle,attrs:{id:"vux-x-input-"+t.uuid,maxlength:t.max,autocomplete:t.autocomplete,autocapitalize:t.autocapitalize,autocorrect:t.autocorrect,spellcheck:t.spellcheck,type:"email",name:t.name,pattern:t.pattern,placeholder:t.placeholder,readonly:t.readonly,disabled:t.disabled},domProps:{value:t.currentValue},on:{focus:t.focusHandler,blur:t.onBlur,keyup:t.onKeyUp,input:function(e){e.target.composing||(t.currentValue=e.target.value)}}}):t._e(),t._v(" "),"password"===t.type?i("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-input",style:t.inputStyle,attrs:{id:"vux-x-input-"+t.uuid,maxlength:t.max,autocomplete:t.autocomplete,autocapitalize:t.autocapitalize,autocorrect:t.autocorrect,spellcheck:t.spellcheck,type:"password",name:t.name,pattern:t.pattern,placeholder:t.placeholder,readonly:t.readonly,disabled:t.disabled},domProps:{value:t.currentValue},on:{focus:t.focusHandler,blur:t.onBlur,keyup:t.onKeyUp,input:function(e){e.target.composing||(t.currentValue=e.target.value)}}}):t._e(),t._v(" "),"tel"===t.type?i("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-input",style:t.inputStyle,attrs:{id:"vux-x-input-"+t.uuid,maxlength:t.max,autocomplete:t.autocomplete,autocapitalize:t.autocapitalize,autocorrect:t.autocorrect,spellcheck:t.spellcheck,type:"tel",name:t.name,pattern:t.pattern,placeholder:t.placeholder,readonly:t.readonly,disabled:t.disabled},domProps:{value:t.currentValue},on:{focus:t.focusHandler,blur:t.onBlur,keyup:t.onKeyUp,input:function(e){e.target.composing||(t.currentValue=e.target.value)}}}):t._e()]),t._v(" "),i("div",{staticClass:"weui-cell__ft"},[i("icon",{directives:[{name:"show",rawName:"v-show",value:!t.hasRightFullHeightSlot&&!t.equalWith&&t.showClear&&""!==t.currentValue&&!t.readonly&&!t.disabled&&t.isFocus,expression:"!hasRightFullHeightSlot && !equalWith && showClear && currentValue !== '' && !readonly && !disabled && isFocus"}],attrs:{type:"clear"},nativeOn:{click:function(e){return t.clear(e)}}}),t._v(" "),i("icon",{directives:[{name:"show",rawName:"v-show",value:t.showWarn,expression:"showWarn"}],staticClass:"vux-input-icon",attrs:{type:"warn",title:t.valid?"":t.firstError},nativeOn:{click:function(e){return t.onClickErrorIcon(e)}}}),t._v(" "),!t.novalidate&&t.hasLengthEqual&&t.dirty&&t.equalWith&&!t.valid?i("icon",{staticClass:"vux-input-icon",attrs:{type:"warn"},nativeOn:{click:function(e){return t.onClickErrorIcon(e)}}}):t._e(),t._v(" "),i("icon",{directives:[{name:"show",rawName:"v-show",value:!t.novalidate&&t.equalWith&&t.equalWith===t.currentValue&&t.valid,expression:"!novalidate && equalWith && equalWith === currentValue && valid"}],attrs:{type:"success"}}),t._v(" "),i("icon",{directives:[{name:"show",rawName:"v-show",value:t.novalidate&&"success"===t.iconType,expression:"novalidate && iconType === 'success'"}],staticClass:"vux-input-icon",attrs:{type:"success"}}),t._v(" "),i("icon",{directives:[{name:"show",rawName:"v-show",value:t.novalidate&&"error"===t.iconType,expression:"novalidate && iconType === 'error'"}],staticClass:"vux-input-icon",attrs:{type:"warn"}}),t._v(" "),t._t("right"),t._v(" "),t.hasRightFullHeightSlot?i("div",{staticClass:"vux-x-input-right-full"},[t._t("right-full-height")],2):t._e()],2),t._v(" "),i("toast",{attrs:{type:"text",width:"auto",time:600},model:{value:t.showErrorToast,callback:function(e){t.showErrorToast=e},expression:"showErrorToast"}},[t._v(t._s(t.firstError))])],1)},as=[],rs={render:ss,staticRenderFns:as},os=rs,cs=i("VU/8"),ls=w,us=cs(ns,os,!1,ls,null,null),hs=us.exports,ds=i("rHil"),ps=i("JnrT"),fs=i.n(ps),ms=(qn.a,zn.a,String,String,Boolean,Number,String,String,String,Boolean,Boolean,Number,Number,Number,String,String,String,String,Boolean,{name:"x-textarea",minxins:[qn.a],mounted:function(){var t=this;this.$slots&&this.$slots["restricted-label"]&&(this.hasRestrictedLabel=!0),this.$nextTick(function(){t.autosize&&t.bindAutosize()})},components:{InlineDesc:zn.a},props:{title:String,inlineDesc:String,showCounter:{type:Boolean,default:!0},max:Number,value:String,name:String,placeholder:String,readonly:Boolean,disabled:Boolean,rows:{type:Number,default:3},cols:{type:Number,default:30},height:Number,autocomplete:{type:String,default:"off"},autocapitalize:{type:String,default:"off"},autocorrect:{type:String,default:"off"},spellcheck:{type:String,default:"false"},autosize:Boolean},created:function(){this.currentValue=this.value},watch:{autosize:function(t){this.unbindAutosize(),t&&this.bindAutosize()},value:function(t){this.currentValue=t},currentValue:function(t){this.max&&t&&t.length>this.max&&(this.currentValue=t.slice(0,this.max)),this.$emit("input",this.currentValue),this.$emit("on-change",this.currentValue)}},data:function(){return{hasRestrictedLabel:!1,currentValue:""}},computed:{count:function(){var t=0;return this.currentValue&&(t=this.currentValue.replace(/\n/g,"aa").length),t>this.max?this.max:t},textareaStyle:function(){if(this.height)return{height:this.height+"px"}},labelStyles:function(){return{width:this.$parent.labelWidth||this.labelWidth+"em",textAlign:this.$parent.labelAlign,marginRight:this.$parent.labelMarginRight}},labelWidth:function(){return this.title.replace(/[^x00-xff]/g,"00").length/2+1},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}}},methods:{updateAutosize:function(){fs.a.update(this.$refs.textarea)},bindAutosize:function(){fs()(this.$refs.textarea)},unbindAutosize:function(){fs.a.destroy(this.$refs.textarea)},focus:function(){this.$refs.textarea.focus()}},beforeDestroy:function(){this.unbindAutosize()}}),gs=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"weui-cell vux-x-textarea"},[i("div",{staticClass:"weui-cell__hd"},[t.hasRestrictedLabel?i("div",{style:t.labelStyles},[t._t("restricted-label")],2):t._e(),t._v(" "),t._t("label",[t.title?i("label",{staticClass:"weui-label",class:t.labelClass,style:{width:t.$parent.labelWidth||t.labelWidth+"em",textAlign:t.$parent.labelAlign,marginRight:t.$parent.labelMarginRight},domProps:{innerHTML:t._s(t.title)}}):t._e(),t._v(" "),t.inlineDesc?i("inline-desc",[t._v(t._s(t.inlineDesc))]):t._e()])],2),t._v(" "),i("div",{staticClass:"weui-cell__bd"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],ref:"textarea",staticClass:"weui-textarea",style:t.textareaStyle,attrs:{autocomplete:t.autocomplete,autocapitalize:t.autocapitalize,autocorrect:t.autocorrect,spellcheck:t.spellcheck,placeholder:t.placeholder,readonly:t.readonly,disabled:t.disabled,name:t.name,rows:t.rows,cols:t.cols,maxlength:t.max},domProps:{value:t.currentValue},on:{focus:function(e){t.$emit("on-focus")},blur:function(e){t.$emit("on-blur")},input:function(e){e.target.composing||(t.currentValue=e.target.value)}}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showCounter&&t.max,expression:"showCounter && max"}],staticClass:"weui-textarea-counter",on:{click:t.focus}},[i("span",[t._v(t._s(t.count))]),t._v("/"+t._s(t.max)+"\n    ")])])])},vs=[],_s={render:gs,staticRenderFns:vs},bs=_s,ws=i("VU/8"),xs=x,Ss=ws(ms,bs,!1,xs,null,null),ys=Ss.exports,Is=i("NjrX"),Cs=(Array,String,Boolean,Boolean,String,String,Boolean,Boolean,Number,Number,Number,String,Number,Number,Number,{name:"swiper",created:function(){this.index=this.value||0,this.index&&(this.current=this.index)},mounted:function(){var t=this;this.hasTwoLoopItem(),this.$nextTick(function(){t.list&&0===t.list.length||t.render(t.index),t.xheight=t.getHeight(),t.$emit("on-get-height",t.xheight)})},methods:{hasTwoLoopItem:function(){2===this.list.length&&this.loop?this.listTwoLoopItem=this.list:this.listTwoLoopItem=[]},clickListItem:function(t){Object(Ki.a)(t.url,this.$router),this.$emit("on-click-list-item",JSON.parse(st()(t)))},buildBackgroundUrl:function(t){return t.fallbackImg?"url("+t.img+"), url("+t.fallbackImg+")":"url("+t.img+")"},render:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.swiper&&this.swiper.destroy(),this.swiper=new Is.a({container:this.$el,direction:this.direction,auto:this.auto,loop:this.loop,interval:this.interval,threshold:this.threshold,duration:this.duration,height:this.height||this._height,minMovingDistance:this.minMovingDistance,imgList:this.imgList}).on("swiped",function(e,i){t.current=i%t.length,t.index=i%t.length}),e>0&&this.swiper.go(e)},rerender:function(){var t=this;this.$el&&!this.hasRender&&(this.hasRender=!0,this.hasTwoLoopItem(),this.$nextTick(function(){t.index=t.value||0,t.current=t.value||0,t.length=t.list.length||t.$children.length,t.destroy(),t.render(t.value)}))},destroy:function(){this.hasRender=!1,this.swiper&&this.swiper.destroy()},getHeight:function(){var t=parseInt(this.height,10);return t?this.height:t?void 0:this.aspectRatio?this.$el.offsetWidth*this.aspectRatio+"px":"180px"}},props:{list:{type:Array,default:function(){return[]}},direction:{type:String,default:"horizontal"},showDots:{type:Boolean,default:!0},showDescMask:{type:Boolean,default:!0},dotsPosition:{type:String,default:"right"},dotsClass:String,auto:Boolean,loop:Boolean,interval:{type:Number,default:3e3},threshold:{type:Number,default:50},duration:{type:Number,default:300},height:{type:String,default:"auto"},aspectRatio:Number,minMovingDistance:{type:Number,default:0},value:{type:Number,default:0}},data:function(){return{hasRender:!1,current:this.index||0,xheight:"auto",length:this.list.length,index:0,listTwoLoopItem:[]}},watch:{auto:function(t){t?this.swiper&&this.swiper._auto():this.swiper&&this.swiper.stop()},list:function(t,e){st()(t)!==st()(e)&&this.rerender()},current:function(t){this.index=t,this.$emit("on-index-change",t)},index:function(t){var e=this;t!==this.current&&this.$nextTick(function(){e.swiper&&e.swiper.go(t)}),this.$emit("input",t)},value:function(t){this.index=t}},beforeDestroy:function(){this.destroy()}}),ks=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vux-slider"},[i("div",{staticClass:"vux-swiper",style:{height:t.xheight}},[t._t("default"),t._v(" "),t._l(t.list,function(e,n){return i("div",{staticClass:"vux-swiper-item",attrs:{"data-index":n},on:{click:function(i){t.clickListItem(e)}}},[i("a",{attrs:{href:"javascript:"}},[i("div",{staticClass:"vux-img",style:{backgroundImage:t.buildBackgroundUrl(e)}}),t._v(" "),t.showDescMask?i("p",{staticClass:"vux-swiper-desc"},[t._v(t._s(e.title))]):t._e()])])}),t._v(" "),t._l(t.listTwoLoopItem,function(e,n){return t.listTwoLoopItem.length>0?i("div",{staticClass:"vux-swiper-item vux-swiper-item-clone",attrs:{"data-index":n},on:{click:function(i){t.clickListItem(e)}}},[i("a",{attrs:{href:"javascript:"}},[i("div",{staticClass:"vux-img",style:{backgroundImage:t.buildBackgroundUrl(e)}}),t._v(" "),t.showDescMask?i("p",{staticClass:"vux-swiper-desc"},[t._v(t._s(e.title))]):t._e()])]):t._e()})],2),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showDots,expression:"showDots"}],class:[t.dotsClass,"vux-indicator","vux-indicator-"+t.dotsPosition]},t._l(t.length,function(e){return i("a",{attrs:{href:"javascript:"}},[i("i",{staticClass:"vux-icon-dot",class:{active:e-1===t.current}})])}))])},Ts=[],$s={render:ks,staticRenderFns:Ts},Es=$s,Os=i("VU/8"),Ls=S,As=Os(Cs,Es,!1,Ls,null,null),Ds=As.exports,Ms={name:"swiper-item",mounted:function(){var t=this;this.$nextTick(function(){t.$parent.rerender()})},beforeDestroy:function(){var t=this.$parent;this.$nextTick(function(){t.rerender()})}},Bs=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"vux-swiper-item"},[t._t("default")],2)},Rs=[],Vs={render:Bs,staticRenderFns:Rs},Ps=Vs,Ns=i("VU/8"),Us=Ns(Ms,Ps,!1,null,null,null),Hs=Us.exports,Ws=i("1DHf"),Fs=i("58JO"),js={name:"sticky",data:function(){return{initTimes:0}},created:function(){this.$vux&&this.$vux.bus&&this.$vux.bus.$on("vux:after-view-enter",this.bindSticky)},activated:function(){this.initTimes>0&&this.bindSticky(),this.initTimes++},mounted:function(){var t=this;this.$nextTick(function(){t.bindSticky()})},beforeDestroy:function(){this.$vux&&this.$vux.bus&&this.$vux.bus.$off("vux:after-view-enter",this.bindSticky)},methods:{bindSticky:function(){var t=this;this.disabled||this.$nextTick(function(){Object(Fs.a)(t.$el,{scrollBox:t.scrollBox,offset:t.offset,checkStickySupport:void 0===t.checkStickySupport||t.checkStickySupport})})}},props:["scrollBox","offset","checkStickySupport","disabled"]},qs=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"vux-sticky-box"},[t._t("default")],2)},Ks=[],zs={render:qs,staticRenderFns:Ks},Ys=zs,Gs=i("VU/8"),Js=y,Xs=Gs(js,Ys,!1,Js,null,null),Zs=Xs.exports,Qs=i("YxJB"),ta=i("3Lt7"),ea=(Ui.a,Boolean,String,{name:"check-icon",components:{Icon:Ui.a},methods:{updateValue:function(){this.$emit("update:value",!this.value)}},props:{value:{type:Boolean,default:!1},type:{type:String,default:"default"}}}),ia=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vux-check-icon",on:{click:t.updateValue}},[i("icon",{directives:[{name:"show",rawName:"v-show",value:"default"===t.type&&t.value,expression:"type === 'default' && value"}],attrs:{type:"success"}}),t._v(" "),i("icon",{directives:[{name:"show",rawName:"v-show",value:"plain"===t.type&&t.value,expression:"type === 'plain' && value"}],attrs:{type:"success_circle"}}),t._v(" "),i("icon",{directives:[{name:"show",rawName:"v-show",value:!t.value,expression:"!value"}],attrs:{type:"circle"}}),t._v(" "),i("span",[t._t("default")],2)],1)},na=[],sa={render:ia,staticRenderFns:na},aa=sa,ra=i("VU/8"),oa=I,ca=ra(ea,aa,!1,oa,null,null),la=ca.exports,ua=i("iRq5"),ha=i.n(ua),da=i("p3QP"),pa=i("OFgA"),fa=(pa.a,String,String,String,String,String,Number,Object,String,Number,String,{name:"x-img",mixins:[pa.a],created:function(){this.$vux&&this.$vux.bus&&this.$vux.bus.$on("vux:after-view-enter",this.init)},methods:{init:function(){var t=this;this.blazy&&this.blazy.destroy(),this.$el.src=this.defaultSrc,this.$el.className=this.$el.className.replace("b-loaded",""),this.blazy=new ha.a({scroller:this.scroller,container:this.container,selector:"#vux-ximg-"+this.uuid,offset:t.offset,errorClass:t.errorClass,successClass:t.successClass,separator:t.separator,success:function(e){t.$emit("on-success",t.src,e)},error:function(e,i){t.$emit("on-error",t.src,e,i)}})}},mounted:function(){var t=this;this.$el.setAttribute("id","vux-ximg-"+this.uuid),this.$nextTick(function(){setTimeout(function(){t.init()},t.delay)}),Object(da.a)()},computed:{currentSrc:function(){return Object(da.b)()&&this.webpSrc?this.webpSrc:this.src}},props:{src:String,webpSrc:String,defaultSrc:{type:String,default:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="},errorClass:String,successClass:String,offset:{type:Number,default:100},scroller:Object,container:String,delay:{type:Number,default:0},separator:String},watch:{src:function(t){this.init()}},beforeDestroy:function(){this.blazy&&this.blazy.destroy(),this.blazy=null,this.$vux&&this.$vux.bus&&this.$vux.bus.$off("vux:after-view-enter",this.init)}}),ma=function(){var t=this,e=t.$createElement;return(t._self._c||e)("img",{staticClass:"vux-x-img",attrs:{src:t.defaultSrc,"data-src":t.currentSrc}})},ga=[],va={render:ma,staticRenderFns:ga},_a=va,ba=i("VU/8"),wa=C,xa=ba(fa,_a,!1,wa,null,null),Sa=xa.exports,ya=i("QUsI"),Ia="%D 天 %H 小时 %M 分 %S 秒";Ia="%D 天 %H 小时 %M 分 %S 秒";var Ca=(String,Number,String,"%D 天 %H 小时 %M 分 %S 秒");Ca="%D 天 %H 小时 %M 分 %S 秒";var ka={name:"clocker",mounted:function(){var t=this;this.$nextTick(function(){t.slot=t.$el.querySelector(".vux-clocker-tpl"),t.slotString=t.slot.innerHTML,""!==t.slotString&&(t.showTimeString=!1),t.render()})},methods:{render:function(){var t=this;this.time&&(this.clocker=new ya.a(this.time).on("tick",function(e){t.update(e),t.$emit("on-tick",e)}).on("finish",function(){t.timeString="00:00:00",t.$emit("on-finish")}).start())},update:function(t){if(this.showTimeString)this.timeString=t.strftime(this.format);else{var e=t.strftime(this.slotString);e!==this.cacheSlotString&&(this.slot.innerHTML=this.cacheSlotString=e)}}},props:{time:[String,Number],format:{type:String,default:Ca}},watch:{time:function(){this.clocker&&this.clocker.remove(),this.render()}},data:function(){return{showTimeString:!0,timeString:"",slotString:"",cacheSlotString:""}},beforeDestroy:function(){this.clocker&&(this.clocker.remove(),this.clocker=null)}},Ta=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{display:"inline-block"}},[t.showTimeString?i("span",[t._v(t._s(t.timeString))]):t._e(),t._v(" "),i("div",{staticClass:"vux-clocker-tpl"},[t._t("default")],2)])},$a=[],Ea={render:Ta,staticRenderFns:$a},Oa=Ea,La=i("VU/8"),Aa=La(ka,Oa,!1,null,null,null),Da=Aa.exports,Ma=(String,{name:"tip",props:{align:{type:String,default:"left"}}}),Ba=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"vux-group-tip",style:{"text-align":t.align}},[t._t("default")],2)},Ra=[],Va={render:Ba,staticRenderFns:Ra},Pa=Va,Na=i("VU/8"),Ua=k,Ha=Na(Ma,Pa,!1,Ua,null,null),Wa=Ha.exports,Fa=i("q5lo"),ja=i("HHx2"),qa=i.n(ja),Ka=(Ui.a,zn.a,Fa.d,Fa.b,qn.a,String,Boolean,String,Boolean,Array,Array,Number,Number,Boolean,Boolean,Boolean,String,Boolean,Fa.d,Fa.b,Fa.a,{name:"checklist",components:{Tip:Wa,Icon:Ui.a,InlineDesc:zn.a},filters:{getValue:Fa.d,getKey:Fa.b},mixins:[qn.a],props:{name:String,showError:Boolean,title:String,required:{type:Boolean,default:!1},options:{type:Array,required:!0},value:{type:Array,default:function(){return[]}},max:Number,min:Number,fillMode:Boolean,randomOrder:Boolean,checkDisabled:{type:Boolean,default:!0},labelPosition:{type:String,default:"right"},disabled:Boolean},data:function(){return{currentValue:[],currentOptions:this.options,tempValue:""}},beforeUpdate:function(){if(this.isRadio){var t=this.currentValue.length;t>1&&(this.currentValue=[this.currentValue[t-1]]);var e=$(this.currentValue);this.tempValue=e.length?e[0]:""}},created:function(){this.handleChangeEvent=!0,this.value&&(this.currentValue=this.value,this.isRadio&&(this.tempValue=this.isRadio?this.value[0]:this.value)),this.randomOrder?this.currentOptions=qa()(this.options):this.currentOptions=this.options},methods:{getValue:Fa.d,getKey:Fa.b,getInlineDesc:Fa.a,getFullValue:function(){var t=Object(Fa.c)(this.options,this.value);return this.currentValue.map(function(e,i){return{value:e,label:t[i]}})},isDisabled:function(t){return!!this.checkDisabled&&(this._max>1&&(-1===this.currentValue.indexOf(t)&&this.currentValue.length===this._max))}},computed:{isRadio:function(){return void 0!==this.max&&1===this.max},_total:function(){return this.fillMode?this.options.length+1:this.options.length},_min:function(){if(!this.required&&!this.min)return 0;if(!this.required&&this.min)return Math.min(this._total,this.min);if(this.required){if(this.min){var t=Math.max(1,this.min);return Math.min(this._total,t)}return 1}},_max:function(){return(this.required||this.max)&&this.max?this.max>this._total?this._total:this.max:this._total},valid:function(){return this.currentValue.length>=this._min&&this.currentValue.length<=this._max}},watch:{tempValue:function(t){var e=t?[t]:[];this.$emit("input",e),this.$emit("on-change",e,Object(Fa.c)(this.options,e))},value:function(t){st()(t)!==st()(this.currentValue)&&(this.currentValue=t)},options:function(t){this.currentOptions=t},currentValue:function(t){var e=$(t);if(!this.isRadio){this.$emit("input",e),this.$emit("on-change",e,Object(Fa.c)(this.options,e));var i={};this._min&&(this.required?this.currentValue.length<this._min&&(i={min:this._min}):this.currentValue.length&&this.currentValue.length<this._min&&(i={min:this._min})),!this.valid&&this.dirty&&N()(i).length?this.$emit("on-error",i):this.$emit("on-clear-error")}}}}),za=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.disabled?"vux-checklist-disabled":""},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.title,expression:"title"}],staticClass:"weui-cells__title"},[t._v(t._s(t.title))]),t._v(" "),t._t("after-title"),t._v(" "),i("div",{staticClass:"weui-cells weui-cells_checkbox"},t._l(t.currentOptions,function(e,n){return i("label",{staticClass:"weui-cell weui-check_label",class:{"vux-checklist-label-left":"left"===t.labelPosition},attrs:{for:"checkbox_"+t.uuid+"_"+n}},[i("div",{staticClass:"weui-cell__hd"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],staticClass:"weui-check",attrs:{type:"checkbox",name:"vux-checkbox-"+t.uuid,id:t.disabled?"":"checkbox_"+t.uuid+"_"+n,disabled:t.isDisabled(t.getKey(e))},domProps:{value:t.getKey(e),checked:Array.isArray(t.currentValue)?t._i(t.currentValue,t.getKey(e))>-1:t.currentValue},on:{change:function(i){var n=t.currentValue,s=i.target,a=!!s.checked;if(Array.isArray(n)){var r=t.getKey(e),o=t._i(n,r);s.checked?o<0&&(t.currentValue=n.concat([r])):o>-1&&(t.currentValue=n.slice(0,o).concat(n.slice(o+1)))}else t.currentValue=a}}}),t._v(" "),i("i",{staticClass:"weui-icon-checked vux-checklist-icon-checked"})]),t._v(" "),i("div",{staticClass:"weui-cell__bd"},[i("p",{domProps:{innerHTML:t._s(t.getValue(e))}}),t._v(" "),t.getInlineDesc(e)?i("inline-desc",[t._v(t._s(t.getInlineDesc(e)))]):t._e()],1)])})),t._v(" "),t._t("footer")],2)},Ya=[],Ga={render:za,staticRenderFns:Ya},Ja=Ga,Xa=i("VU/8"),Za=E,Qa=Xa(Ka,Ja,!1,Za,null,null),tr=Qa.exports,er=(Boolean,Boolean,String,String,Object,Array,Boolean,Boolean,{name:"actionsheet",mounted:function(){var t=this;this.hasHeaderSlot=!!this.$slots.header,this.$nextTick(function(){t.$tabbar=document.querySelector(".weui-tabbar"),t.$refs.iOSMenu&&t.$refs.iOSMenu.addEventListener("transitionend",t.onTransitionEnd)})},props:{value:Boolean,showCancel:Boolean,cancelText:String,theme:{type:String,default:"ios"},menus:{type:[Object,Array],default:function(){return{}}},closeOnClickingMask:{type:Boolean,default:!0},closeOnClickingMenu:{type:Boolean,default:!0}},data:function(){return{hasHeaderSlot:!1,show:!1}},methods:{onTransitionEnd:function(){this.$emit(this.show?"on-after-show":"on-after-hide")},onMenuClick:function(t,e){"string"==typeof t?this.emitEvent("on-click-menu",e,t):"disabled"!==t.type&&"info"!==t.type&&(t.value||0===t.value?this.emitEvent("on-click-menu",t.value,t):(this.emitEvent("on-click-menu","",t),this.show=!1))},onClickingMask:function(){this.$emit("on-click-mask"),this.closeOnClickingMask&&(this.show=!1)},emitEvent:function(t,e,i){if("on-click-menu"===t&&!/.noop/.test(e)){var n=i;"object"===(void 0===n?"undefined":rt()(n))&&(n=JSON.parse(st()(n))),this.$emit(t,e,n),this.$emit(t+"-"+e),this.closeOnClickingMenu&&(this.show=!1)}},fixIos:function(t){this.$el.parentNode&&-1!==this.$el.parentNode.className.indexOf("v-transfer-dom")||this.$tabbar&&/iphone/i.test(navigator.userAgent)&&(this.$tabbar.style.zIndex=t)}},watch:{show:function(t){var e=this;this.$emit("input",t),t?this.fixIos(-1):setTimeout(function(){e.fixIos(100)},200)},value:{handler:function(t){this.show=t},immediate:!0}},beforeDestroy:function(){this.fixIos(100),this.$refs.iOSMenu&&this.$refs.iOSMenu.removeEventListener("transitionend",this.onTransitionEnd)}}),ir=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vux-actionsheet"},[i("transition",{attrs:{name:"vux-actionsheet-mask"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"weui-mask weui-mask_transparent",on:{click:t.onClickingMask}})]),t._v(" "),"android"===t.theme?i("div",{staticClass:"weui-skin_android"},[i("transition",{attrs:{name:"vux-android-actionsheet"},on:{"after-enter":function(e){t.$emit("on-after-show")},"after-leave":function(e){t.$emit("on-after-hide")}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"weui-actionsheet"},[i("div",{staticClass:"weui-actionsheet__menu"},t._l(t.menus,function(e,n){return i("div",{staticClass:"weui-actionsheet__cell",domProps:{innerHTML:t._s(e.label||e)},on:{click:function(i){t.onMenuClick(e,n)}}})}))])])],1):i("div",{ref:"iOSMenu",staticClass:"weui-actionsheet",class:{"weui-actionsheet_toggle":t.show}},[i("div",{staticClass:"weui-actionsheet__menu"},[t.hasHeaderSlot?i("div",{staticClass:"weui-actionsheet__cell"},[t._t("header")],2):t._e(),t._v(" "),t._l(t.menus,function(e,n){return i("div",{staticClass:"weui-actionsheet__cell",class:"vux-actionsheet-menu-"+(e.type||"default"),domProps:{innerHTML:t._s(e.label||e)},on:{click:function(i){t.onMenuClick(e,n)}}})})],2),t._v(" "),t.showCancel?i("div",{staticClass:"weui-actionsheet__action",on:{click:function(e){t.emitEvent("on-click-menu","cancel")}}},[i("div",{staticClass:"weui-actionsheet__cell"},[t._v(t._s(t.cancelText||"取消"))])]):t._e()])],1)},nr=[],sr={render:ir,staticRenderFns:nr},ar=sr,rr=i("VU/8"),or=O,cr=rr(er,ar,!1,or,null,null),lr=cr.exports,ur={name:"divider"},hr=function(){var t=this,e=t.$createElement;return(t._self._c||e)("p",{staticClass:"vux-divider"},[t._t("default")],2)},dr=[],pr={render:hr,staticRenderFns:dr},fr=pr,mr=i("VU/8"),gr=L,vr=mr(ur,fr,!1,gr,null,null),_r=vr.exports,br=i("Bfwr"),wr=i("62KO"),xr=i("Y+qm"),Sr=i("UNGY"),yr=i("0k+n"),Ir=i.n(yr),Cr=i("LpmL"),kr=i.n(Cr),Tr=(String,Number,String,String,String,String,{name:"qrcode",props:{value:String,size:{type:Number,default:160},level:{type:String,default:"L"},bgColor:{type:String,default:"#FFFFFF"},fgColor:{type:String,default:"#000000"},type:{type:String,default:"img"}},mounted:function(){var t=this;this.$nextTick(function(){t.render()})},data:function(){return{imgData:""}},watch:{value:function(){this.render()},size:function(){this.render()},level:function(){this.render()},bgColor:function(){this.render()},fgColor:function(){this.render()}},methods:{render:function(){var t=this;if(void 0!==this.value){var e=new Ir.a(-1,kr.a[this.level]);e.addData(B(this.value)),e.make();var i=this.$refs.canvas,n=i.getContext("2d"),s=e.modules,a=this.size/s.length,r=this.size/s.length,o=(window.devicePixelRatio||1)/M(n);i.height=i.width=this.size*o,n.scale(o,o),s.forEach(function(e,i){e.forEach(function(e,s){n.fillStyle=e?t.fgColor:t.bgColor;var o=Math.ceil((s+1)*a)-Math.floor(s*a),c=Math.ceil((i+1)*r)-Math.floor(i*r);n.fillRect(Math.round(s*a),Math.round(i*r),o,c)})}),"img"===this.type&&(this.imgData=i.toDataURL("image/png"))}}}}),$r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("canvas",{directives:[{name:"show",rawName:"v-show",value:"canvas"===t.type,expression:"type === 'canvas'"}],ref:"canvas",style:{height:t.size+"px",width:t.size+"px"},attrs:{height:t.size,width:t.size}}),t._v(" "),"img"===t.type?i("img",{style:{height:t.size+"px",width:t.size+"px"},attrs:{src:t.imgData}}):t._e()])},Er=[],Or={render:$r,staticRenderFns:Er},Lr=Or,Ar=i("VU/8"),Dr=Ar(Tr,Lr,!1,null,null,null),Mr=Dr.exports,Br=(String,Number,{name:"badge",props:{text:[String,Number]}}),Rr=function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",{class:["vux-badge",{"vux-badge-dot":void 0===t.text,"vux-badge-single":void 0!==t.text&&1===t.text.toString().length}],domProps:{textContent:t._s(t.text)}})},Vr=[],Pr={render:Rr,staticRenderFns:Vr},Nr=Pr,Ur=i("VU/8"),Hr=R,Wr=Ur(Br,Nr,!1,Hr,null,null),Fr=Wr.exports,jr=i("POcy"),qr=i.n(jr),Kr=function(t){t&&(t.onerror=function(){t.src="static/img/commom_pic-placeholder@3x.png"},t.src=t.src?t.src:"static/img/icon/commom_pic-placeholder@3x.png")};N()(V).forEach(function(t){return U.a.directive(t,V[t])}),U.a.use(Ni.a,{router:ue}),U.a.use(qr.a),U.a.config.productionTip=!1,U.a.filter("dateFilter",function(t){return t?Object(ji.a)(t,"YYYY/MM/DD"):"未设置"}),Ee.registerModule("vuxLoading",{state:{isLoading:!1},mutations:{updateLoadingStatus:function(t,e){t.isLoading=e.isLoading}}}),ue.beforeEach(function(t,e,i){var n=JSON.parse(localStorage.getItem("userInfo"));"/login"===t.path?n&&n.vipLevelId&&"游客"!==n.vipLevelId?(Ee.commit("setUserInfo",n),i({path:"/activity"})):i():(!n||n.vipLevelId&&"游客"===n.vipLevelId)&&"/upgradeVIP"!==t.path?i({path:"/login"}):(Ee.commit("setUserInfo",n),i())}),ue.afterEach(function(t){Ee.commit("updateLoadingStatus",{isLoading:!1})}),U.a.use(Hi.a),U.a.use(Wi.a),U.a.use(Fi.a),U.a.use(Pi),U.a.use(qi.a),U.a.use(xr.a),U.a.component("x-button",en),U.a.component("tab",dn),U.a.component("tab-item",wn),U.a.component("previewer",Bn),U.a.component("countdown",Fn),U.a.component("checker",it),U.a.component("checker-item",mt),U.a.component("x-dialog",jn.a),U.a.component("x-input",hs),U.a.component("group",ds.a),U.a.component("x-textarea",ys),U.a.component("swiper",Ds),U.a.component("swiper-item",Hs),U.a.component("cell",Ws.a),U.a.component("sticky",Zs),U.a.component("flexbox",Qs.a),U.a.component("flexbox-item",ta.a),U.a.component("popup",z.a),U.a.component("check-icon",la),U.a.component("x-img",Sa),U.a.component("clocker",Da),U.a.component("checklist",tr),U.a.component("toast",Kn.a),U.a.component("actionsheet",lr),U.a.component("loading",br.a),U.a.component("divider",_r),U.a.component("confirm",wr.a),U.a.component("datetime",Sr.a),U.a.component("qrcode",Mr),U.a.component("badge",Fr),U.a.component("icon",Ui.a),console.log(Sa.props.offset),console.log(Sa.props),U.a.prototype.$getUserInfo=function(){return Ee.getters.getUserInfo},U.a.prototype.$isPermissionAllow=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!!Ee.getters.getUserInfo.permissionList.includes(t)||!!e&&(U.a.$vux.toast.show({text:"抱歉，您没有操作权限！",type:"cancel",width:"10em"}),void console.log(U.a.$vux))},new U.a({router:ue,store:Ee,render:function(t){return t(Pe)}}).$mount("#app-box")},NwmK:function(t,e){},PyU4:function(t,e){},Q0eu:function(t,e){},TEJr:function(t,e){},TfqP:function(t,e){},"Ty/O":function(t,e,i){"use strict";i.d(e,"c",function(){return s}),i.d(e,"f",function(){return a}),i.d(e,"b",function(){return r}),i.d(e,"a",function(){return o}),i.d(e,"d",function(){return c}),i.d(e,"e",function(){return l}),i.d(e,"g",function(){return u});var n=i("zFqy"),s=function(t){return n.a.post("/web/h5/activity/getH5ActivityList",t)},a=function(t){return n.a.get("/web/h5/goods/notice",{params:t})},r=function(t){return n.a.get("/web/h5/activity/getH5ActivityDetail",{params:t})},o=function(t){return n.a.post("/web/h5/shopCart/addGoodsCartH5",t)},c=function(t){return n.a.post("/web/h5/goods/getH5GoodsList",t)},l=function(t){return n.a.get("/web/h5/activity/getH5GoodsListOfActivity",{params:t})},u=function(t){return n.a.post("/web/image/transferBase64",t)}},UNGY:function(t,e,i){"use strict";function n(t){i("NwmK")}var s=i("fZjL"),a=i.n(s),r=i("oWtu"),o=i("zV4+"),c=i("rHil"),l=i("kbG3"),u=i("KRg4"),h=i("ODCk"),d=(u.a,c.a,l.a,r.a,String,String,String,String,String,Number,Number,String,String,String,String,String,String,String,String,Boolean,Number,Number,String,String,String,Function,Boolean,Array,Array,Boolean,String,Function,Function,Object,{name:"datetime",mixins:[u.a],components:{Group:c.a,InlineDesc:l.a,Icon:r.a},props:{format:{type:String,default:"YYYY-MM-DD",validator:function(t){return!0}},title:String,value:{type:String,default:""},inlineDesc:String,placeholder:String,minYear:Number,maxYear:Number,confirmText:String,cancelText:String,clearText:String,yearRow:{type:String,default:"{value}"},monthRow:{type:String,default:"{value}"},dayRow:{type:String,default:"{value}"},hourRow:{type:String,default:"{value}"},minuteRow:{type:String,default:"{value}"},required:{type:Boolean,default:!1},minHour:{type:Number,default:0},maxHour:{type:Number,default:23},startDate:{type:String,validator:function(t){return!t||10===t.length}},endDate:{type:String,validator:function(t){return!t||10===t.length}},valueTextAlign:String,displayFormat:Function,readonly:Boolean,hourList:Array,minuteList:Array,show:Boolean,defaultSelectedValue:String,computeHoursFunction:Function,computeDaysFunction:Function,orderMap:Object},created:function(){this.isFirstSetValue=!1,this.currentValue=this.value},data:function(){return{currentShow:!1,currentValue:null,valid:!0,errors:{}}},mounted:function(){var t=this,e=this.uuid;this.$el.setAttribute("id","vux-datetime-"+e),this.readonly||this.$nextTick(function(){t.render(),t.show&&t.$nextTick(function(){t.picker&&t.picker.show(t.currentValue)})})},computed:{styles:function(){return this.$parent?{width:this.$parent.labelWidth,textAlign:this.$parent.labelAlign,marginRight:this.$parent.labelMarginRight}:{}},pickerOptions:function(){var t=this,e={trigger:"#vux-datetime-"+this.uuid,format:this.format,value:this.currentValue,output:".vux-datetime-value",confirmText:t.getButtonText("confirm"),cancelText:t.getButtonText("cancel"),clearText:t.clearText,yearRow:this.yearRow,monthRow:this.monthRow,dayRow:this.dayRow,hourRow:this.hourRow,minuteRow:this.minuteRow,minHour:this.minHour,maxHour:this.maxHour,startDate:this.startDate,endDate:this.endDate,hourList:this.hourList,minuteList:this.minuteList,defaultSelectedValue:this.defaultSelectedValue,computeHoursFunction:this.computeHoursFunction,computeDaysFunction:this.computeDaysFunction,orderMap:this.orderMap||{},onSelect:function(e,i,n){t.picker&&t.picker.config.renderInline&&(t.$emit("input",n),t.$emit("on-change",n))},onConfirm:function(e){t.currentValue=e},onClear:function(e){t.$emit("on-clear",e)},onHide:function(e){t.currentShow=!1,t.$emit("update:show",!1),t.validate(),t.$emit("on-hide",e),"cancel"===e&&t.$emit("on-cancel"),"confirm"===e&&setTimeout(function(){t.$nextTick(function(){t.$emit("on-confirm",t.value)})})},onShow:function(){t.currentShow=!0,t.$emit("update:show",!0),t.$emit("on-show")}};return this.minYear&&(e.minYear=this.minYear),this.maxYear&&(e.maxYear=this.maxYear),e},firstError:function(){var t=a()(this.errors)[0];return this.errors[t]},labelClass:function(){return this.$parent?{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}:{}}},methods:{getButtonText:function(t){return"cancel"===t&&this.cancelText?this.cancelText:"confirm"===t&&this.confirmText?this.confirmText:this.$el.getAttribute("data-"+t+"-text")},render:function(){var t=this;this.$nextTick(function(){t.picker&&t.picker.destroy(),t.picker=new o.a(t.pickerOptions)})},validate:function(){if(!this.currentValue&&this.required)return this.valid=!1,void(this.errors.required="必填");this.valid=!0,this.errors={}}},watch:{readonly:function(t){t?this.picker&&this.picker.destroy():this.render()},show:function(t){t!==this.currentShow&&(t?this.picker&&this.picker.show(this.currentValue):this.picker&&this.picker.hide(this.currentValue))},currentValue:function(t,e){this.$emit("input",t),this.isFirstSetValue?this.$emit("on-change",t):(this.isFirstSetValue=!0,e&&this.$emit("on-change",t)),this.validate()},startDate:function(){this.render()},endDate:function(){this.render()},format:function(t){this.currentValue&&(this.currentValue=Object(h.a)(this.currentValue,t)),this.render()},value:function(t){if(this.readonly||this.picker&&this.picker.config.renderInline)return void(this.currentValue=t);this.currentValue!==t&&(this.currentValue=t,this.render())}},beforeDestroy:function(){this.picker&&this.picker.destroy()}}),p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a",{staticClass:"vux-datetime weui-cell",class:{"weui-cell_access":!t.readonly},attrs:{"data-cancel-text":"取消","data-confirm-text":"确定",href:"javascript:"}},[t._t("default",[i("div",[t._t("title",[i("p",{class:t.labelClass,style:t.styles,domProps:{innerHTML:t._s(t.title)}})]),t._v(" "),t.inlineDesc?i("inline-desc",[t._v(t._s(t.inlineDesc))]):t._e()],2),t._v(" "),i("div",{staticClass:"weui-cell__ft vux-cell-primary vux-datetime-value",style:{textAlign:t.valueTextAlign}},[!t.currentValue&&t.placeholder?i("span",{staticClass:"vux-cell-placeholder"},[t._v(t._s(t.placeholder))]):t._e(),t._v(" "),t.currentValue?i("span",{staticClass:"vux-cell-value"},[t._v(t._s(t.displayFormat?t.displayFormat(t.currentValue):t.currentValue))]):t._e(),t._v(" "),i("icon",{directives:[{name:"show",rawName:"v-show",value:!t.valid,expression:"!valid"}],staticClass:"vux-input-icon",attrs:{type:"warn",title:t.firstError}})],1)])],2)},f=[],m={render:p,staticRenderFns:f},g=m,v=i("VU/8"),_=n,b=v(d,g,!1,_,null,null);e.a=b.exports},UWPC:function(t,e){},VASZ:function(t,e){},VLHX:function(t,e){},WeB6:function(t,e){},Y4Lg:function(t,e){},YxJB:function(t,e,i){"use strict";function n(t){i("EZFB")}var s=(Number,String,String,String,String,String,{name:"flexbox",props:{gutter:{type:Number,default:8},orient:{type:String,default:"horizontal"},justify:String,align:String,wrap:String,direction:String},computed:{styles:function(){return{"justify-content":this.justify,"-webkit-justify-content":this.justify,"align-items":this.align,"-webkit-align-items":this.align,"flex-wrap":this.wrap,"-webkit-flex-wrap":this.wrap,"flex-direction":this.direction,"-webkit-flex-direction":this.direction}}}}),a=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"vux-flexbox",class:{"vux-flex-col":"vertical"===t.orient,"vux-flex-row":"horizontal"===t.orient},style:t.styles},[t._t("default")],2)},r=[],o={render:a,staticRenderFns:r},c=o,l=i("VU/8"),u=n,h=l(s,c,!1,u,null,null);e.a=h.exports},ZdaW:function(t,e){},aALv:function(t,e,i){"use strict";function n(t){i("rB43")}var s=i("+PoZ"),a={name:"contentItem",props:["info"],created:function(){},computed:{totalGoods:function(){return this.info.mainContext?this.info.mainContext.split(";").length:1}},methods:{convertText:function(){return"<div>"+this.info.mainContext.split(";")[0].replace(/\n/g,"<br>")+(this.info.mainContext.includes(";")?"等商品":"")+"</div>"},goTo:function(){if(this.info.hasRead=!0,Object(s.i)({uniqueFlag:this.info.uniqueFlag}).then(function(t){console.log(t.data,"设置单个消息已读")}),"/activity"!=this.$route.path)if("ORDER"==this.info.redirectType)this.$router.push("/orderDetail?id="+this.info.redirectReferId);else if("ACTIVITY"==this.info.redirectType){var t=this.checkTime();this.$router.push("/activityDetail?activityId="+this.info.redirectReferId+"&type="+t)}else"REFUND"==this.info.redirectType&&this.$router.push("/afterSalesDetail?refundOrderId="+this.info.redirectReferId)},checkTime:function(){return 1*this.info.remark.split(",")[0]>(new Date).getTime()?1:0}}},r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content-item",on:{click:function(e){t.goTo()}}},[i("div",{staticClass:"box"},[i("div",{staticClass:"box-title"},[i("div",{staticClass:"fs16"},[t._v(t._s(t.info.mainTitle)+"\n                "),t.info.hasRead?t._e():i("badge",{staticClass:"flag mgl5"})],1),t._v(" "),i("div",{staticClass:"fs12 light-gray"},[t._v(t._s(t._f("dateFilter")(t.info.createAt)))])]),t._v(" "),i("div",{staticClass:"light-gray mgb6 fs12",staticStyle:{"text-align":"left"}},[t._v(t._s(t.info.subTitle))]),t._v(" "),i("div",{class:["box-bottom",{"no-box":!t.info.mainContext&&!t.info.picUrl}]},[i("div",{staticClass:"posR",staticStyle:{display:"flex","align-items":"center"}},[t.info.picUrl?i("img",{staticClass:"icon-img",attrs:{src:t.info.picUrl,alt:""}}):t._e(),t._v(" "),t.totalGoods>1?i("div",{staticClass:"good fs13"},[t._v("共"+t._s(t.totalGoods)+"件商品")]):t._e()]),t._v(" "),i("div",{staticClass:"content-right"},[t.info.mainContext?i("div",{staticClass:"fs13 mgb6",domProps:{innerHTML:t._s(t.convertText())}}):t._e(),t._v(" "),t.info.subContext?i("div",{staticClass:"fs12 light-gray"},[t._v(t._s(t.info.subContext))]):t._e()])])])])},o=[],c={render:r,staticRenderFns:o},l=c,u=i("VU/8"),h=n,d=u(a,l,!1,h,"data-v-0f79f80b",null);e.a=d.exports},bwrR:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__=__webpack_require__("Dd8w"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__),__WEBPACK_IMPORTED_MODULE_1_fastclick__=__webpack_require__("v5o6"),__WEBPACK_IMPORTED_MODULE_1_fastclick___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_fastclick__),__WEBPACK_IMPORTED_MODULE_2_vux_src_components_loading_index_vue__=__webpack_require__("Bfwr"),__WEBPACK_IMPORTED_MODULE_3_vux_src_directives_transfer_dom_index_js__=__webpack_require__("63CM"),__WEBPACK_IMPORTED_MODULE_4_vux_src_components_confirm_index_vue__=__webpack_require__("62KO"),__WEBPACK_IMPORTED_MODULE_5_vuex__=__webpack_require__("NYxO"),__WEBPACK_IMPORTED_MODULE_6__api__=__webpack_require__("gyMJ"),__WEBPACK_IMPORTED_MODULE_7__api_cart__=__webpack_require__("c+FZ"),__WEBPACK_IMPORTED_MODULE_8__api_mine_js__=__webpack_require__("5Qen"),__WEBPACK_IMPORTED_MODULE_9__config_rongyun__=__webpack_require__("lgNl"),__WEBPACK_IMPORTED_MODULE_10__api_message__=__webpack_require__("+PoZ"),__WEBPACK_IMPORTED_MODULE_11__views_info_components_content_item__=__webpack_require__("aALv"),_unused_webpack_default_export={name:"app",data:function(){return{firstLogin:!0,popMsg:!1,instance:{},exitAppVisble:!1,isAppBackgroud:!1,isUpdateVisible:!1,previewerImgList:[],appVersion:"",text:[],topMsg:!1,msgData:[{picUrl:""}],popList:[]}},directives:{TransferDom:__WEBPACK_IMPORTED_MODULE_3_vux_src_directives_transfer_dom_index_js__.a},components:{Loading:__WEBPACK_IMPORTED_MODULE_2_vux_src_components_loading_index_vue__.a,Confirm:__WEBPACK_IMPORTED_MODULE_4_vux_src_components_confirm_index_vue__.a,contentItem:__WEBPACK_IMPORTED_MODULE_11__views_info_components_content_item__.a},mounted:function(){this.userId&&this.Ryinit(this.userId),document.documentElement.addEventListener("touchstart",function(t){t.touches.length>1&&t.preventDefault()},!1),__WEBPACK_IMPORTED_MODULE_1_fastclick___default.a.attach(document.body),document.addEventListener("backbutton",this.showConfirm,!0),document.addEventListener("resume",this.onAppForeground,!0),document.addEventListener("pause",this.onAppBackground,!0)},created:function(){},computed:{previewerInfo:function(){return this.$store.getters.previewerInfo},userId:function(){return this.$store.getters.userInfo.id},msg:function(){return this.$store.state.message.rongYunRes}},watch:{userId:function(t){t?this.Ryinit(t):Object(__WEBPACK_IMPORTED_MODULE_9__config_rongyun__.b)()},previewerInfo:{handler:function(t,e){console.log(t),this.previewerImgList=this.previewerInfo.imgList;var i=this;setTimeout(function(){i.$refs.previewer.show(i.previewerInfo.currentIndex)},200)},deep:!0},msg:function msg(v){v.content&&(console.log(eval(v.content.data),"msg显示"),this.setHasMsg(!0),this.msgData=eval(v.content.data),this.popMsg||this.topMsgShow())},$route:function(t,e,i){var n=this;console.log(t,e,"d=d=d=d=d"),"/activity"==t.path&&this.firstLogin&&Object(__WEBPACK_IMPORTED_MODULE_10__api_message__.e)({userId:this.userId}).then(function(t){console.log(t,"上线活动"),n.firstLogin=!1,0==t.code&&t.data&&t.data.imMessages.length?(n.popList=t.data.imMessages,n.popMsg=!0):n.getRecentUpdateMsg()}),t.meta.isShowInfo&&this.checkNewMsg(),!t.meta.isHideTabbar&&this.userId&&this.$store.dispatch("getCartNum",this.userId)}},methods:__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({},Object(__WEBPACK_IMPORTED_MODULE_5_vuex__.c)(["setHasMsg","setHasUpdate","setInstance","setRongYunRes","setToken","setUserInfo","setLoginData","loginOut","setCartNum"]),Object(__WEBPACK_IMPORTED_MODULE_5_vuex__.b)(["getUserInfo","getLoginData"]),{checkNewMsg:function(){var t=this;Object(__WEBPACK_IMPORTED_MODULE_10__api_message__.c)({userId:this.userId}).then(function(e){var i=e.data.reduce(function(t,e){return t+e});console.log(i,"未读消息数量"),t.setHasMsg(i>0)})},closePop:function(){var t=this;this.popMsg=!1;var e=setTimeout(function(){t.getRecentUpdateMsg(),clearTimeout(e)},3e3)},topMsgShow:function(){var t=this;if(this.topMsg=!0,"ACTIVITY"!=this.msgData[0].messageType&&"GOODS"!=this.msgData[0].redirectType&&"UPDATE"!=this.msgData[0].redirectType)var e=setTimeout(function(){t.topMsg=!1,clearTimeout(e)},3e3)},addUpdateMsg:function(){var t={version:this.appVersion,userId:this.userId,msgList:this.text};Object(__WEBPACK_IMPORTED_MODULE_10__api_message__.a)(t).then(function(t){console.log(t,"添加更新版本通知")})},getRecentUpdateMsg:function(){var t=this,e=navigator.userAgent,i="ANDROID",n="";e.indexOf("Android")>-1||e.indexOf("Linux")>-1?i="ANDROID":e.indexOf("iPhone")>-1&&(i="IOS"),chcp.getVersionInfo(function(t,e){n=e.appVersion}),Object(__WEBPACK_IMPORTED_MODULE_8__api_mine_js__.p)({system:i,version:n,userId:this.userId}).then(function(e){0==e.code&&e.data&&(t.text=e.data.msgList,t.appVersion=e.data.version,t.isUpdateVisible=!0,t.setHasUpdate(e.data.version),console.log(e,"版本更新信息"))})},checkUpdate:function(t){var e=this;chcp.fetchUpdate(function(t,i){t||(e.isUpdateVisible=!0)})},updateApp:function(){var t=this;t.$vux.loading.show({text:"更新中"}),this.setHasUpdate(""),chcp.installUpdate(function(e){t.$vux.loading.hide(),t.$vux.toast.text("更新完成"),t.isUpdateVisible=!1})},updateOnlineStatus:function(){window.navigator.onLine?this.$router.push("/mission"):this.$vux.alert.show({title:"提示",content:"网络未连接！"})},goTo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.msgData[0];this.popMsg=!1,this.topMsg=!1,Object(__WEBPACK_IMPORTED_MODULE_10__api_message__.i)({uniqueFlag:t.uniqueFlag}).then(function(t){console.log(t.data,"设置单个消息已读")}),"ORDER"==t.redirectType?this.$router.push("/orderDetail?id="+t.redirectReferId):"ACTIVITY"==t.redirectType?this.$router.push("/activityDetail?activityId="+t.redirectReferId+"&type="+this.checkTime(t)):"REFUND"==t.redirectType?this.$router.push("/afterSalesDetail?refundOrderId="+t.redirectReferId):"BRAND"==t.redirectType&&this.$router.push("/brandDetail?brandId="+t.redirectReferId)},checkTime:function(t){return 1*t.remark.split(",")[0]>(new Date).getTime()?1:0},fetchToken:function(t){return Object(__WEBPACK_IMPORTED_MODULE_10__api_message__.f)({userId:t}).then(function(t){return t})},Ryinit:function(t){var e=this;this.fetchToken(t).then(function(t){Object(__WEBPACK_IMPORTED_MODULE_9__config_rongyun__.a)({token:t,appKey:"kj7swf8ok1dv2"},{getMessage:e.setRongYunRes,getInstance:e.getInstance})})},getInstance:function(t){this.instance=t,this.setInstance(t)},onAppOutConfirm:function(){navigator.app.exitApp()},onAppForeground:function(){var t=this;this.isAppBackgroud=!1,setTimeout(function(){document.addEventListener("backbutton",t.showConfirm,!0)},1e3)},onAppBackground:function(){document.removeEventListener("backbutton",this.showConfirm,!0),this.isAppBackgroud=!0},showConfirm:function(){if(!this.isAppBackgroud){var t=this.$route.path,e=["/login","/activity","/brand","/follow/followGoods","/cart","/mine"];this.previewerImgList.length>0?(this.$refs.previewer.close(),this.previewerImgList=[]):-1!==e.indexOf(t)?this.exitAppVisble=!0:this.$router.go(-1)}},closeImg:function(){this.previewerImgList=[]}})}},"c+FZ":function(t,e,i){"use strict";i.d(e,"g",function(){return s}),i.d(e,"e",function(){return a}),i.d(e,"i",function(){return r}),i.d(e,"a",function(){return o}),i.d(e,"b",function(){return c}),i.d(e,"d",function(){return l}),i.d(e,"c",function(){return u}),i.d(e,"h",function(){return h}),i.d(e,"f",function(){return d}),i.d(e,"j",function(){return p});var n=i("zFqy"),s=function(t){return n.a.get("/web/h5/shopCart/getShopCartsH5",{params:t})},a=function(t){return n.a.get("/web/h5/shopCart/getInvalidShopCartsH5",{params:t})},r=function(t){return n.a.post("/web/h5/order/placeOrderH5",t)},o=function(t){return n.a.post("/web/h5/shopCart/batchRemoveH5",t)},c=function(t){return n.a.get("/web/h5/shopCart/editRemark",{params:t})},l=function(t){return n.a.get("/web/goods/editStockPage",{params:t})},u=function(t){return n.a.get("/web/h5/shopCart/editShopCartSpecH5",{params:t})},h=function(t){return n.a.get("/web/h5/finPayment/payOrderH5",{params:t})},d=function(t){return n.a.get("/web/h5/shopCart/getShopCartNum",{params:t})},p=function(t){return n.a.get("/web/h5/order/placeOrderNow",{params:t})}},d3oJ:function(t,e){},dodz:function(t,e,i){t.exports=i.p+"static/img/tab_cart@2x.png"},eb3B:function(t,e){},gWrV:function(t,e){},gyMJ:function(t,e,i){"use strict";i.d(e,"b",function(){return s}),i.d(e,"a",function(){return a}),i.d(e,"c",function(){return r});var n=i("zFqy"),s=function(t){return n.a.post("v1/api/login/workbayLogin",t)},a=function(t){return n.a.post("v1/api/login/doLogin",t)},r=function(t){return n.a.get("v1/api/rong/getToken",{params:t})}},iJSS:function(t,e){},jEXr:function(t,e){},kbG3:function(t,e,i){"use strict";function n(t){i("VASZ")}var s={name:"inline-desc"},a=function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",{staticClass:"vux-label-desc"},[t._t("default")],2)},r=[],o={render:a,staticRenderFns:r},c=o,l=i("VU/8"),u=n,h=l(s,c,!1,u,null,null);e.a=h.exports},lgNl:function(t,e,i){"use strict";i.d(e,"b",function(){return n}),i.d(e,"a",function(){return s});var n=function(){window.RongIMLib.RongIMClient.getInstance().logout()},s=function(t,e,i){var n=t.appKey,s=t.token.data,a=t.navi||"";i=i||{};var r=i.RongIMLib||window.RongIMLib,o=r.RongIMClient,c=i.protobuf||null,l={};""!==a&&(l.navi=a);var u=t.api||"";""!==u&&(l.api=u),null!=c&&(l.protobuf=c),r.RongIMClient.init(n,null,l),console.log(r,"RongIMClient");var h=o.getInstance();o.setConnectionStatusListener({onChanged:function(t){switch(console.log("连接状态监听器",t),t){case r.ConnectionStatus.CONNECTED:e.getInstance&&e.getInstance(h);break;case r.ConnectionStatus.CONNECTED:console.log("链接成功");break;case r.ConnectionStatus.CONNECTING:console.log("正在链接");break;case r.ConnectionStatus.DISCONNECTED:console.log("断开连接");break;case r.ConnectionStatus.KICKED_OFFLINE_BY_OTHER_CLIENT:console.log("其他设备登录");break;case r.ConnectionStatus.DOMAIN_INCORRECT:console.log("域名不正确");break;case r.ConnectionStatus.NETWORK_UNAVAILABLE:console.log("网络不可用")}}}),o.setOnReceiveMessageListener({onReceived:function(t){console.log("新消息: "+t.targetId),console.log(t),e.getMessage&&e.getMessage(t)}}),o.connect(s,{onSuccess:function(t){console.log("链接成功，用户id："+t)},onTokenIncorrect:function(){console.log(s,"token无效")},onError:function(t){console.log("============================================="),console.log(t)}})}},lypl:function(t,e,i){t.exports=i.p+"static/img/tab_brand@2x.png"},m7ea:function(t,e,i){t.exports=i.p+"static/img/tab_follow-selected@2x.png"},mzja:function(t,e,i){"use strict";function n(t){i("qJoR")}var s=i("/kga"),a=(s.a,Boolean,String,String,String,Boolean,String,String,Number,String,{name:"alert",components:{XDialog:s.a},created:function(){void 0!==this.value&&(this.showValue=this.value)},props:{value:Boolean,title:String,content:String,buttonText:String,hideOnBlur:{type:Boolean,default:!1},maskTransition:{type:String,default:"vux-mask"},dialogTransition:{type:String,default:"vux-dialog"},maskZIndex:[Number,String]},data:function(){return{showValue:!1}},methods:{_onHide:function(){this.showValue=!1}},watch:{value:function(t){this.showValue=t},showValue:function(t){this.$emit("input",t)}}}),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vux-alert"},[i("x-dialog",{attrs:{"mask-transition":t.maskTransition,"dialog-transition":t.dialogTransition,"hide-on-blur":t.hideOnBlur,"mask-z-index":t.maskZIndex},on:{"on-hide":function(e){t.$emit("on-hide")},"on-show":function(e){t.$emit("on-show")}},model:{value:t.showValue,callback:function(e){t.showValue=e},expression:"showValue"}},[i("div",{staticClass:"weui-dialog__hd"},[i("strong",{staticClass:"weui-dialog__title"},[t._v(t._s(t.title))])]),t._v(" "),i("div",{staticClass:"weui-dialog__bd"},[t._t("default",[i("div",{domProps:{innerHTML:t._s(t.content)}})])],2),t._v(" "),i("div",{staticClass:"weui-dialog__ft"},[i("a",{staticClass:"weui-dialog__btn weui-dialog__btn_primary",attrs:{href:"javascript:;"},on:{click:t._onHide}},[t._v(t._s(t.buttonText||"确定"))])])])],1)},o=[],c={render:r,staticRenderFns:o},l=c,u=i("VU/8"),h=n,d=u(a,l,!1,h,null,null);e.a=d.exports},nSXw:function(t,e){},oRGq:function(t,e){},oWtu:function(t,e,i){"use strict";function n(t){i("us/H")}var s=(String,Boolean,{name:"icon",props:{type:String,isMsg:Boolean},computed:{className:function(){return"weui-icon weui_icon_"+this.type+" weui-icon-"+this.type.replace(/_/g,"-")}}}),a=function(){var t=this,e=t.$createElement;return(t._self._c||e)("i",{class:[t.className,t.isMsg?"weui-icon_msg":""]})},r=[],o={render:a,staticRenderFns:r},c=o,l=i("VU/8"),u=n,h=l(s,c,!1,u,null,null);e.a=h.exports},ouOt:function(t,e){},p8bI:function(t,e){},qJoR:function(t,e){},qeJM:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAYAAADFeBvrAAAABGdBTUEAALGPC/xhBQAAA2RJREFUaAXtWc1PE0EUn5ml5fPSHv1AYxQ1Xjz4B4jRGA/GGE0NCiUBtstBwAIxREKMIRhjBAQ8sF0gaUGJjcYYD8ZojH+AV6MSYxQ/ju0FkBZ21rcma6cbBrYtJauZvey837x57/1+7+30UITEIxQQCggF/mcFcLHJTU3d35NO6yNmHq9X6mhquvS5mDmLRigej5cnEss9GBtXDQOVmSQwRsuGgW/7/WW3AoHAr2IQKwohTYue0XV0FwrezSn6iyShK7Lc+JSznze8qYQmJqb36jodhY6cYivCGM8Z0BrA9mXj6LkkkfaWloZPLF7IelMIqeqzCoSS16Dobiim1CoIRmwJITLg85XeMbFkMgX7tBcIg//fJwWEYd93U1FOg39hT8GEIpGZs4ZBh4HMLrYUKPIx2J2KEpxncVWNVYM9BP7nWBz8v2JMwqFQ/RMWz3WdN6FIJFpDKR5FyDiZnRR/lCTcJssNL7PxbEvTpk/oujEG5/dn7+AXhBjtoVDjXDbuzMqZUCwWq1xaQr0wTl2gstdKAwovwmfS7/eXDsMNlrbw9d5wE3oTiVQYbsI+iFVp+UKsNIzlYEUFGggGg4sW7uSdEyFNmzmv6/oQBN5pCx6XJKlLluu/23BHJsTdAXEHwTlgO/AN4nZC3Ec2nGs6IqSqDw4gtDoGKh5nI4GS7wlBl2U5+JrF811rWuwYpege5DnIxoA8rxAqaVOUix9YfK31uoRgJKqSyeU+mPMwjIAnEwAvEIJvQN4RRTmyksELX6nqWw/o1EGpcR3yVlkRYcQhDx72+cr6YaQXLNz+5hIaH49eAGdzDLbbDs16PN7u5ua6nzZ8U83JydltKytp87qvswX+AXZXa2vjQxv+x1yPkMEeAIXeEUJgvBresHix13AbHqWUwhiiQ2wuILRm7YR14q9JT01N9eGtJmPWY+Y0c8MPdA+/vsyOI0Ll5XSitrZ2NXNsa1dmbrMGJ1kdEXISyC0+gpBbOsGrQ3SIp4xbcNEht3SCV4foEE8Zt+CiQ27pBK8O0SGeMm7BRYfc0gleHaJDPGXcgosOuaUTvDpEh3jKuAUXHXJLJ3h1lPA2WJzSEn80GmWhLV+bNcAfBhvmdUQolVrN68+nDbPn5LAxGTOc+IZyElU4CwWEAv+cAr8Bi2sB7oIXkA0AAAAASUVORK5CYII="},rB43:function(t,e){},rHil:function(t,e,i){"use strict";function n(t){i("+uon")}var s=i("wmxo"),a=(s.a,String,String,String,String,String,String,Number,String,String,{name:"group",methods:{cleanStyle:s.a},props:{title:String,titleColor:String,labelWidth:String,labelAlign:String,labelMarginRight:String,gutter:[String,Number],footerTitle:String,footerTitleColor:String}}),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.title?i("div",{staticClass:"weui-cells__title",style:t.cleanStyle({color:t.titleColor}),domProps:{innerHTML:t._s(t.title)}}):t._e(),t._v(" "),t._t("title"),t._v(" "),i("div",{staticClass:"weui-cells",class:{"vux-no-group-title":!t.title},style:t.cleanStyle({marginTop:"number"==typeof t.gutter?t.gutter+"px":t.gutter})},[t._t("after-title"),t._v(" "),t._t("default")],2),t._v(" "),t.footerTitle?i("div",{staticClass:"weui-cells__title vux-group-footer-title",style:t.cleanStyle({color:t.footerTitleColor}),domProps:{innerHTML:t._s(t.footerTitle)}}):t._e()],2)},o=[],c={render:r,staticRenderFns:o},l=c,u=i("VU/8"),h=n,d=u(a,l,!1,h,null,null);e.a=d.exports},rLAy:function(t,e,i){"use strict";function n(t){i("ruXm")}var s=i("xNvf"),a=(s.a,Boolean,Number,String,String,String,Boolean,String,String,{name:"toast",mixins:[s.a],props:{value:Boolean,time:{type:Number,default:2e3},type:{type:String,default:"success"},transition:String,width:{type:String,default:"7.6em"},isShowMask:{type:Boolean,default:!1},text:String,position:String},data:function(){return{show:!1}},created:function(){this.value&&(this.show=!0)},computed:{currentTransition:function(){return this.transition?this.transition:"top"===this.position?"vux-slide-from-top":"bottom"===this.position?"vux-slide-from-bottom":"vux-fade"},toastClass:function(){return{"weui-toast_forbidden":"warn"===this.type,"weui-toast_cancel":"cancel"===this.type,"weui-toast_success":"success"===this.type,"weui-toast_text":"text"===this.type,"vux-toast-top":"top"===this.position,"vux-toast-bottom":"bottom"===this.position,"vux-toast-middle":"middle"===this.position}},style:function(){if("text"===this.type&&"auto"===this.width)return{padding:"10px"}}},watch:{show:function(t){var e=this;t&&(this.$emit("input",!0),this.$emit("on-show"),this.fixSafariOverflowScrolling("auto"),clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.show=!1,e.$emit("input",!1),e.$emit("on-hide"),e.fixSafariOverflowScrolling("touch")},this.time))},value:function(t){this.show=t}}}),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vux-toast"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowMask&&t.show,expression:"isShowMask && show"}],staticClass:"weui-mask_transparent"}),t._v(" "),i("transition",{attrs:{name:t.currentTransition}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"weui-toast",class:t.toastClass,style:{width:t.width}},[i("i",{directives:[{name:"show",rawName:"v-show",value:"text"!==t.type,expression:"type !== 'text'"}],staticClass:"weui-icon-success-no-circle weui-icon_toast"}),t._v(" "),t.text?i("p",{staticClass:"weui-toast__content",style:t.style,domProps:{innerHTML:t._s(t.text)}}):i("p",{staticClass:"weui-toast__content",style:t.style},[t._t("default")],2)])])],1)},o=[],c={render:r,staticRenderFns:o},l=c,u=i("VU/8"),h=n,d=u(a,l,!1,h,null,null);e.a=d.exports},rpqY:function(t,e,i){t.exports=i.p+"static/img/tab_cart-selected@2x.png"},ruXm:function(t,e){},sBO5:function(t,e){},"us/H":function(t,e){},uvNg:function(t,e){},xzd6:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__=__webpack_require__("Dd8w"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__),__WEBPACK_IMPORTED_MODULE_1_fastclick__=__webpack_require__("v5o6"),__WEBPACK_IMPORTED_MODULE_1_fastclick___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_fastclick__),__WEBPACK_IMPORTED_MODULE_2_vux_src_components_loading_index_vue__=__webpack_require__("Bfwr"),__WEBPACK_IMPORTED_MODULE_3_vux_src_directives_transfer_dom_index_js__=__webpack_require__("63CM"),__WEBPACK_IMPORTED_MODULE_4_vux_src_components_confirm_index_vue__=__webpack_require__("62KO"),__WEBPACK_IMPORTED_MODULE_5_vuex__=__webpack_require__("NYxO"),__WEBPACK_IMPORTED_MODULE_6__api__=__webpack_require__("gyMJ"),__WEBPACK_IMPORTED_MODULE_7__api_cart__=__webpack_require__("c+FZ"),__WEBPACK_IMPORTED_MODULE_8__api_mine_js__=__webpack_require__("5Qen"),__WEBPACK_IMPORTED_MODULE_9__config_rongyun__=__webpack_require__("lgNl"),__WEBPACK_IMPORTED_MODULE_10__api_message__=__webpack_require__("+PoZ"),__WEBPACK_IMPORTED_MODULE_11__views_info_components_content_item__=__webpack_require__("aALv");__webpack_exports__.a={name:"app",data:function(){return{firstLogin:!0,popMsg:!1,instance:{},exitAppVisble:!1,isAppBackgroud:!1,isUpdateVisible:!1,previewerImgList:[],appVersion:"",text:[],topMsg:!1,msgData:[{picUrl:""}],popList:[]}},directives:{TransferDom:__WEBPACK_IMPORTED_MODULE_3_vux_src_directives_transfer_dom_index_js__.a},components:{Loading:__WEBPACK_IMPORTED_MODULE_2_vux_src_components_loading_index_vue__.a,Confirm:__WEBPACK_IMPORTED_MODULE_4_vux_src_components_confirm_index_vue__.a,contentItem:__WEBPACK_IMPORTED_MODULE_11__views_info_components_content_item__.a},mounted:function(){this.userId&&this.Ryinit(this.userId),document.documentElement.addEventListener("touchstart",function(t){t.touches.length>1&&t.preventDefault()},!1),__WEBPACK_IMPORTED_MODULE_1_fastclick___default.a.attach(document.body),document.addEventListener("backbutton",this.showConfirm,!0),document.addEventListener("resume",this.onAppForeground,!0),document.addEventListener("pause",this.onAppBackground,!0)},created:function(){},computed:{previewerInfo:function(){return this.$store.getters.previewerInfo},userId:function(){return this.$store.getters.userInfo.id},msg:function(){return this.$store.state.message.rongYunRes}},watch:{userId:function(t){t?this.Ryinit(t):Object(__WEBPACK_IMPORTED_MODULE_9__config_rongyun__.b)()},previewerInfo:{handler:function(t,e){console.log(t),this.previewerImgList=this.previewerInfo.imgList;var i=this;setTimeout(function(){i.$refs.previewer.show(i.previewerInfo.currentIndex)},200)},deep:!0},msg:function msg(v){v.content&&(console.log(eval(v.content.data),"msg显示"),this.setHasMsg(!0),this.msgData=eval(v.content.data),this.popMsg||this.topMsgShow())},$route:function(t,e,i){var n=this;console.log(t,e,"d=d=d=d=d"),"/activity"==t.path&&this.firstLogin&&Object(__WEBPACK_IMPORTED_MODULE_10__api_message__.e)({userId:this.userId}).then(function(t){console.log(t,"上线活动"),n.firstLogin=!1,0==t.code&&t.data&&t.data.imMessages.length?(n.popList=t.data.imMessages,n.popMsg=!0):n.getRecentUpdateMsg()}),t.meta.isShowInfo&&this.checkNewMsg(),!t.meta.isHideTabbar&&this.userId&&this.$store.dispatch("getCartNum",this.userId)}},methods:__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({},Object(__WEBPACK_IMPORTED_MODULE_5_vuex__.c)(["setHasMsg","setHasUpdate","setInstance","setRongYunRes","setToken","setUserInfo","setLoginData","loginOut","setCartNum"]),Object(__WEBPACK_IMPORTED_MODULE_5_vuex__.b)(["getUserInfo","getLoginData"]),{checkNewMsg:function(){var t=this;Object(__WEBPACK_IMPORTED_MODULE_10__api_message__.c)({userId:this.userId}).then(function(e){var i=e.data.reduce(function(t,e){return t+e});console.log(i,"未读消息数量"),t.setHasMsg(i>0)})},closePop:function(){var t=this;this.popMsg=!1;var e=setTimeout(function(){t.getRecentUpdateMsg(),clearTimeout(e)},3e3)},topMsgShow:function(){var t=this;if(this.topMsg=!0,"ACTIVITY"!=this.msgData[0].messageType&&"GOODS"!=this.msgData[0].redirectType&&"UPDATE"!=this.msgData[0].redirectType)var e=setTimeout(function(){t.topMsg=!1,clearTimeout(e)},3e3)},addUpdateMsg:function(){var t={version:this.appVersion,userId:this.userId,msgList:this.text};Object(__WEBPACK_IMPORTED_MODULE_10__api_message__.a)(t).then(function(t){console.log(t,"添加更新版本通知")})},getRecentUpdateMsg:function(){var t=this,e=navigator.userAgent,i="ANDROID",n="";e.indexOf("Android")>-1||e.indexOf("Linux")>-1?i="ANDROID":e.indexOf("iPhone")>-1&&(i="IOS"),chcp.getVersionInfo(function(t,e){n=e.appVersion}),Object(__WEBPACK_IMPORTED_MODULE_8__api_mine_js__.p)({system:i,version:n,userId:this.userId}).then(function(e){0==e.code&&e.data&&(t.text=e.data.msgList,t.appVersion=e.data.version,t.isUpdateVisible=!0,t.setHasUpdate(e.data.version),console.log(e,"版本更新信息"))})},checkUpdate:function(t){var e=this;chcp.fetchUpdate(function(t,i){t||(e.isUpdateVisible=!0)})},updateApp:function(){var t=this;t.$vux.loading.show({text:"更新中"}),this.setHasUpdate(""),chcp.installUpdate(function(e){t.$vux.loading.hide(),t.$vux.toast.text("更新完成"),t.isUpdateVisible=!1})},updateOnlineStatus:function(){window.navigator.onLine?this.$router.push("/mission"):this.$vux.alert.show({title:"提示",content:"网络未连接！"})},goTo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.msgData[0];this.popMsg=!1,this.topMsg=!1,Object(__WEBPACK_IMPORTED_MODULE_10__api_message__.i)({uniqueFlag:t.uniqueFlag}).then(function(t){console.log(t.data,"设置单个消息已读")}),"ORDER"==t.redirectType?this.$router.push("/orderDetail?id="+t.redirectReferId):"ACTIVITY"==t.redirectType?this.$router.push("/activityDetail?activityId="+t.redirectReferId+"&type="+this.checkTime(t)):"REFUND"==t.redirectType?this.$router.push("/afterSalesDetail?refundOrderId="+t.redirectReferId):"BRAND"==t.redirectType&&this.$router.push("/brandDetail?brandId="+t.redirectReferId)},checkTime:function(t){return 1*t.remark.split(",")[0]>(new Date).getTime()?1:0},fetchToken:function(t){return Object(__WEBPACK_IMPORTED_MODULE_10__api_message__.f)({userId:t}).then(function(t){return t})},Ryinit:function(t){var e=this;this.fetchToken(t).then(function(t){Object(__WEBPACK_IMPORTED_MODULE_9__config_rongyun__.a)({token:t,appKey:"kj7swf8ok1dv2"},{getMessage:e.setRongYunRes,getInstance:e.getInstance})})},getInstance:function(t){this.instance=t,this.setInstance(t)},onAppOutConfirm:function(){navigator.app.exitApp()},onAppForeground:function(){var t=this;this.isAppBackgroud=!1,setTimeout(function(){document.addEventListener("backbutton",t.showConfirm,!0)},1e3)},onAppBackground:function(){document.removeEventListener("backbutton",this.showConfirm,!0),this.isAppBackgroud=!0},showConfirm:function(){if(!this.isAppBackgroud){var t=this.$route.path,e=["/login","/activity","/brand","/follow/followGoods","/cart","/mine"];this.previewerImgList.length>0?(this.$refs.previewer.close(),this.previewerImgList=[]):-1!==e.indexOf(t)?this.exitAppVisble=!0:this.$router.go(-1)}},closeImg:function(){this.previewerImgList=[]}})}},zFqy:function(t,e,i){"use strict";var n=i("//Fk"),s=i.n(n),a=i("7+uW"),r=i("mtWM"),o=i.n(r);i("rLAy");o.a.defaults.baseURL="http://factory-alpha.juniusoft.com/hiho/",o.a.defaults.withCredentials=!0,o.a.interceptors.request.use(function(t){return t},function(t){return s.a.reject(t)}),o.a.interceptors.response.use(function(t){return 0!==t.data.code&&"https://upload-z2.qiniup.com"!==t.config.url&&"https://api.weixin.qq.com/sns/oauth2/access_token"!==t.config.url&&"https://api.weixin.qq.com/sns/userinfo"!==t.config.url&&a.a.$vux.toast.show({type:"text",text:t.data.msg}),t.data},function(t){return s.a.reject(t)}),e.a=o.a}},["NHnr"]);
//# sourceMappingURL=app.js.map