webpackJsonp([4],{"0jvz":function(t,e,i){e=t.exports=i("FZ+f")(!0),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"live.vue",sourceRoot:""}])},"1j2B":function(t,e,i){var n=i("wYCD");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("rjj0")("30d8219a",n,!0,{})},"2e9X":function(t,e,i){var n=i("JCfH");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("rjj0")("3e921262",n,!0,{})},"4CJM":function(t,e,i){var n=i("rxeD");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("rjj0")("993d9504",n,!0,{})},JCfH:function(t,e,i){e=t.exports=i("FZ+f")(!0),e.push([t.i,"\n.tab-bar[data-v-4193c9b3]{width:100%\n}\n.detail-item[data-v-4193c9b3]{width:100%;height:100%;position:absolute;-webkit-transition:all .3s ease;transition:all .3s ease;-webkit-transform:translateX(-100%);transform:translateX(-100%)\n}\n.detail-item.active[data-v-4193c9b3]{-webkit-transform:translateX(0);transform:translateX(0)\n}\n.bold[data-v-4193c9b3]{font-weight:550\n}","",{version:3,sources:["/Users/shanlin/Desktop/hiho-mobile/src/views/activity/index.vue"],names:[],mappings:";AACA,0BAA0B,UAAU;CACnC;AACD,8BAA8B,WAAW,YAAY,kBAAkB,gCAAgC,wBAAwB,oCAAoC,2BAA2B;CAC7L;AACD,qCAAqC,gCAAgC,uBAAuB;CAC3F;AACD,uBAAuB,eAAe;CACrC",file:"index.vue",sourcesContent:["\n.tab-bar[data-v-4193c9b3]{width:100%\n}\n.detail-item[data-v-4193c9b3]{width:100%;height:100%;position:absolute;-webkit-transition:all .3s ease;transition:all .3s ease;-webkit-transform:translateX(-100%);transform:translateX(-100%)\n}\n.detail-item.active[data-v-4193c9b3]{-webkit-transform:translateX(0);transform:translateX(0)\n}\n.bold[data-v-4193c9b3]{font-weight:550\n}"],sourceRoot:""}])},r2Bh:function(t,e,i){e=t.exports=i("FZ+f")(!0),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"preview.vue",sourceRoot:""}])},rxeD:function(t,e,i){e=t.exports=i("FZ+f")(!0),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"hot.vue",sourceRoot:""}])},sZNU:function(t,e,i){"use strict";function n(t){i("4CJM")}function s(t){i("vmpB")}function a(t){i("yZME")}function r(t){i("1j2B"),i("2e9X")}Object.defineProperty(e,"__esModule",{value:!0});var o=i("Xxa5"),c=i.n(o),u=i("exGp"),v=i.n(u),d=i("Ty/O"),l={name:"hot",data:function(){return{goodsList:[],pageNum:0}},methods:{refresh:function(t){t(!0),this.pageNum=1,this.getGoodsList(t)},infinite:function(t){this.pageNum++,this.getGoodsList(t)},getGoodsList:function(t){var e=this;return v()(c.a.mark(function i(){var n;return c.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n={userId:e.$store.getters.userInfo.id,pageSize:10,pageNum:e.pageNum,noticeFlag:0},i.next=3,Object(d.d)(n).then(function(i){if(0===i.code){if(0==i.data.goods.length)return 1===e.pageNum&&(e.goodsList=[]),void t(!0);e.goodsList=1===e.pageNum?i.data.goods:e.goodsList.concat(i.data.goods),t(),console.log("爆款第"+e.pageNum+"页"),console.log(e.goodsList.length,i.data.totalCount)}});case 3:case"end":return i.stop()}},i,e)}))()}},created:function(){}},p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("scroller",{ref:"hot",attrs:{noDataText:"好货扭起来","on-refresh":t.refresh,"on-infinite":t.infinite}},[i("div",t._l(t.goodsList,function(e,n){return i("activity-item",{key:n,attrs:{type:"GOODS",activityInfo:e}},[i("div",{staticClass:"price",attrs:{slot:"price"},slot:"price"},[i("div",{staticClass:"sale-price red"},[t._v("¥"+t._s(e.salePrice)+"\n                    "),e.postedPrice?i("s",{staticClass:"blue-gray fs12"},[t._v("¥"+t._s(e.postedPrice))]):t._e()]),t._v(" "),i("div",{staticClass:"black fs12"},[t._v("默认代购费:"),i("span",{staticClass:"red fs18"},[t._v("¥"+t._s(e.purchaseCost))])])]),t._v(" "),i("div",{attrs:{slot:"shopcar"},slot:"shopcar"},[i("add-shopcar",{attrs:{checkList:e.specs,goodsId:e.id}})],1),t._v(" "),i("span",{attrs:{slot:"btn"},slot:"btn"},[i("x-button",{staticClass:"w82 has-radius",attrs:{mini:"",type:"primary"},nativeOn:{click:function(i){t.$router.push({path:"/activityTransmit",query:{type:1,info:e}})}}},[t._v("\n                转发\n                ")])],1)])}))])},f=[],h={render:p,staticRenderFns:f},g=h,m=i("VU/8"),A=n,w=m(l,g,!1,A,"data-v-0fda5aa0",null),b=w.exports,x={name:"live",data:function(){return{activities:[],pageNum:0}},methods:{refresh:function(t){var e=this;return v()(c.a.mark(function i(){return c.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t(!0),e.pageNum=1,i.next=4,e.getActivityList(t);case 4:case"end":return i.stop()}},i,e)}))()},infinite:function(t){var e=this;return v()(c.a.mark(function i(){return c.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return e.pageNum++,i.next=3,e.getActivityList(t);case 3:case"end":return i.stop()}},i,e)}))()},getActivityList:function(t){var e=this;return v()(c.a.mark(function i(){var n;return c.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n={userId:e.$store.getters.userInfo.id,pageSize:10,pageNum:e.pageNum,status:"onGoing"},i.next=3,Object(d.c)(n).then(function(i){if(0===i.code){if(0==i.data.activities.length)return void t(!0);e.activities=1===e.pageNum?i.data.activities:e.activities.concat(i.data.activities),t(),console.log("直播第"+e.pageNum+"页"),console.log(e.activities.length,i.data.totalCount)}});case 3:case"end":return i.stop()}},i,e)}))()},clockerEnd:function(t){this.activities.splice(t,1)}},created:function(){}},y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("scroller",{ref:"live",attrs:{noDataText:"好货扭起来","on-refresh":t.refresh,"on-infinite":t.infinite}},[i("div",t._l(t.activities,function(e,n){return i("activity-item",{key:n,attrs:{type:"ACTIVITY",activityInfo:e}},[i("div",{attrs:{slot:"badge"},slot:"badge"},[i("div",{staticClass:"badge1 gradient-gold brown"},[t._v(t._s(e.name))]),t._v(" "),i("div",{staticClass:"badge2"},[t._v("热卖中")])]),t._v(" "),i("div",{attrs:{slot:"countdown"},slot:"countdown"},[i("count-time",{attrs:{type:0,time:e.endTime},on:{clockerEnd:function(e){t.clockerEnd(n)}}})],1),t._v(" "),i("span",{attrs:{slot:"btn"},slot:"btn"},[i("x-button",{staticClass:"w82 has-radius",attrs:{mini:"",plain:"",type:"default"},nativeOn:{click:function(i){t.$router.push({path:"/activityDetail",query:{activityId:e.id,type:0}})}}},[t._v("抢购")]),t._v(" "),i("x-button",{staticClass:" has-radius",attrs:{mini:"",type:"primary"},nativeOn:{click:function(i){t.$router.push({path:"/transmitList",query:{id:e.id,type:"ACTIVITY"}})}}},[t._v("\n                批量转发\n            ")])],1)])}))])},C=[],_={render:y,staticRenderFns:C},B=_,k=i("VU/8"),T=s,D=k(x,B,!1,T,"data-v-c8476512",null),j=D.exports,L={name:"preview",data:function(){return{activities:[],pageNum:0}},methods:{refresh:function(t){var e=this;return v()(c.a.mark(function i(){return c.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t(!0),e.pageNum=1,i.next=4,e.getActivityList(t);case 4:case"end":return i.stop()}},i,e)}))()},infinite:function(t){var e=this;return v()(c.a.mark(function i(){return c.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return e.pageNum++,i.next=3,e.getActivityList(t);case 3:case"end":return i.stop()}},i,e)}))()},getActivityList:function(t){var e=this;return v()(c.a.mark(function i(){var n;return c.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n={userId:e.$store.getters.userInfo.id,pageSize:10,pageNum:e.pageNum,status:"notStart"},i.next=3,Object(d.c)(n).then(function(i){if(0===i.code){if(0==i.data.activities.length)return 1===e.pageNum&&(e.activities=[]),void t(!0);e.activities=1===e.pageNum?i.data.activities:e.activities.concat(i.data.activities),t(),console.log("预告第"+e.pageNum+"页"),console.log(e.activities.length,i.data.totalCount)}});case 3:case"end":return i.stop()}},i,e)}))()},clockerEnd:function(t){this.activities.splice(t,1)}},created:function(){}},N=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("scroller",{ref:"preview",attrs:{noDataText:"好货扭起来","on-refresh":t.refresh,"on-infinite":t.infinite}},[i("div",t._l(t.activities,function(e,n){return i("activity-item",{key:n,attrs:{type:"ACTIVITY",activityInfo:e}},[i("div",{attrs:{slot:"badge"},slot:"badge"},[i("div",{staticClass:"badge1 gradient-gold brown"},[t._v(t._s(e.name))]),t._v(" "),i("div",{staticClass:"badge2 preview"},[t._v("活动预告")])]),t._v(" "),i("div",{attrs:{slot:"countdown"},slot:"countdown"},[i("count-time",{attrs:{type:1,time:e.startTime},on:{clockerEnd:function(e){t.clockerEnd(n)}}})],1),t._v(" "),i("span",{attrs:{slot:"btn"},slot:"btn"},[i("x-button",{staticClass:"w82 has-radius",attrs:{mini:"",plain:"",type:"default"},nativeOn:{click:function(i){t.$router.push({path:"/activityDetail",query:{activityId:e.id,type:1}})}}},[t._v("详情")]),t._v(" "),i("x-button",{staticClass:" has-radius",attrs:{mini:"",type:"primary"},nativeOn:{click:function(i){t.$router.push({path:"/transmitList",query:{id:e.id,type:"ACTIVITY"}})}}},[t._v("\n        批量转发\n    ")])],1)])}))])},$=[],I={render:N,staticRenderFns:$},O=I,P=i("VU/8"),q=a,E=P(L,O,!1,q,"data-v-8b604ab6",null),S=E.exports,F=i("AExY"),R=i("63CM"),X=(R.a,{directives:{TransferDom:R.a},name:"activityIndex",data:function(){return{index:0,selectedText:"直播",activityText:["直播","预告","爆款"]}},methods:{selectTab:function(t){this.selectedText=t},swiperChange:function(t){this.selectTab(this.activityText[t])}},created:function(){},components:{hot:b,live:j,preview:S},beforeRouteLeave:function(t,e,i){sessionStorage.livePosition=Object(F.a)(this.$refs.live.$refs.live),sessionStorage.hotPosition=Object(F.a)(this.$refs.hot.$refs.hot),sessionStorage.previewPosition=Object(F.a)(this.$refs.preview.$refs.preview),"直播"==this.selectedText?(e.meta.isLive=!0,e.meta.isHot=!1,e.meta.isPreview=!1):"预告"==this.selectedText?(e.meta.isLive=!1,e.meta.isHot=!1,e.meta.isPreview=!0):"爆款"==this.selectedText&&(e.meta.isLive=!1,e.meta.isHot=!0,e.meta.isPreview=!1),i()},beforeRouteEnter:function(t,e,i){t.meta.isLive?sessionStorage.livePosition&&i(function(t){Object(F.b)(sessionStorage.livePosition,t,t.$refs.live.$refs.live)}):t.meta.isPreview?sessionStorage.previewPosition&&i(function(t){Object(F.b)(sessionStorage.previewPosition,t,t.$refs.preview.$refs.preview)}):t.meta.isHot&&sessionStorage.hotPosition&&i(function(t){Object(F.b)(sessionStorage.hotPosition,t,t.$refs.hot.$refs.hot)}),i()}}),Y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"custom-body activity-index"},[i("tab",{staticClass:"tab-bar",attrs:{"scroll-threshold":3,"custom-bar-width":"36px","line-width":2},model:{value:t.index,callback:function(e){t.index=e},expression:"index"}},t._l(t.activityText,function(e,n){return i("tab-item",{key:n,attrs:{selected:t.selectedText===e},nativeOn:{click:function(i){t.selectTab(e)}}},[t._v(t._s(e)+"\n        ")])})),t._v(" "),i("div",{staticClass:"main-content"},[i("div",{class:["detail-item",{active:"直播"==t.selectedText}]},[i("live",{ref:"live"})],1),t._v(" "),i("div",{class:["detail-item",{active:"预告"==t.selectedText}]},[i("preview",{ref:"preview"})],1),t._v(" "),i("div",{class:["detail-item",{active:"爆款"==t.selectedText}]},[i("hot",{ref:"hot"})],1)])],1)},U=[],H={render:Y,staticRenderFns:U},V=H,Z=i("VU/8"),z=r,G=Z(X,V,!1,z,"data-v-4193c9b3",null);e.default=G.exports},vmpB:function(t,e,i){var n=i("0jvz");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("rjj0")("09e38d51",n,!0,{})},wYCD:function(t,e,i){e=t.exports=i("FZ+f")(!0),e.push([t.i,'\n.activity-index .vux-tab-wrap{height:9.6vw!important;padding-top:0!important;content:"viewport-units-buggyfill; height: 9.6vw"\n}\n.activity-index .vux-slider{height:100%;overflow:auto;padding-top:11.733vw;content:"viewport-units-buggyfill; padding-top: 11.733vw"\n}\n.activity-index .vux-slider .vux-swiper{height:100%!important;overflow-y:auto!important\n}\n.activity-index .vux-swiper-item>div{height:100%!important\n}\n.activity-index .weui-btn.has-radius{border-radius:.8vw!important;content:"viewport-units-buggyfill; border-radius: 0.8vw"\n}',"",{version:3,sources:["/Users/shanlin/Desktop/hiho-mobile/src/views/activity/index.vue"],names:[],mappings:";AACA,8BAA8B,uBAAuB,wBAAwB,iDAAiD;CAC7H;AACD,4BAA4B,YAAY,cAAc,qBAAqB,yDAAyD;CACnI;AACD,wCAAwC,sBAAsB,yBAAyB;CACtF;AACD,qCAAqC,qBAAqB;CACzD;AACD,qCAAqC,6BAA6B,wDAAwD;CACzH",file:"index.vue",sourcesContent:['\n.activity-index .vux-tab-wrap{height:9.6vw!important;padding-top:0!important;content:"viewport-units-buggyfill; height: 9.6vw"\n}\n.activity-index .vux-slider{height:100%;overflow:auto;padding-top:11.733vw;content:"viewport-units-buggyfill; padding-top: 11.733vw"\n}\n.activity-index .vux-slider .vux-swiper{height:100%!important;overflow-y:auto!important\n}\n.activity-index .vux-swiper-item>div{height:100%!important\n}\n.activity-index .weui-btn.has-radius{border-radius:.8vw!important;content:"viewport-units-buggyfill; border-radius: 0.8vw"\n}'],sourceRoot:""}])},yZME:function(t,e,i){var n=i("r2Bh");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("rjj0")("7bd1f0c6",n,!0,{})}});
//# sourceMappingURL=4.js.map